webpackJsonp([2],[function(t,e,n){(function(t){function e(t){t.find("a")[0].click(),window.scrollBy(0,-45)}function i(){var e=window.sessionStorage.getItem("open");e&&(t(".tab_issues").click(),y.modal("show"),window.sessionStorage.removeItem("open"))}function r(){var e=t(".editable");e.editable({stylesheets:!1,type:"textarea",showbuttons:"bottom",display:!0,emptytext:" "}),e.off("click"),e.on("save",function(e,n){var i,r=t(this).closest("tr").data("id"),o=this.dataset.field;i={editRequest:{entityName:"Issue",entityId:r,changes:{}}},i.editRequest.changes[o]=n.newValue,i.editRequest=JSON.stringify(i.editRequest),t.ajax(window.gw.urls.edit_request,{method:"POST",data:i,dataType:"text/json",success:function(t){console.log(t.responseText)},error:function(e){401===e.status&&t("#modal-window").modal("show")}})})}var o,a,s,u,l,c,h,f,p,d,v,m=t(".nav"),g=JSON.parse(window.gw.government),y=t("#addIssue"),_=window.gw.authorized,b=n(15),x=n(28),w=(new(n(36))({year:JSON.parse(window.gw.government).currentYear}),t("#comment-text")),k=t("#comment-edit"),M=t("#Issues");n(27),v=n(38),d=n(43),p=n(44),f=n(47),x.init(function(){x.forceInit()}),h={firstStep:{completed:!0,data:{},complete:function(){this.completed=!0,u.unlock(),h.firstStep.completed&&h.secondStep.completed&&(h.thirdStep.completed&&h.thirdOneStep.completed||c.loadComparedData("Financial Statement","Revenues",!0),c.unlock(),l.unlock())},incomplete:function(){this.completed=!1,u.lock(),l.lock(),c.lock()}},secondStep:{completed:!1,data:{},complete:function(){this.completed=!0,h.firstStep.completed&&h.secondStep.completed&&(h.thirdStep.completed&&h.thirdOneStep.completed||c.loadComparedData("Financial Statement","Revenues",!0),c.unlock(),l.unlock())},incomplete:function(){this.completed=!1,c.lock(),l.lock()}},thirdStep:{completed:!1,data:{},complete:function(){this.completed=!1},incomplete:function(){this.completed=!0}},thirdOneStep:{completed:!1,data:{},complete:function(){this.completed=!1},incomplete:function(){this.completed=!0}}},s=new v(h,".first-condition"),s.unlock(),u=new d(h,".second-condition"),u.lock(),l=new p(h,".government-categories .caption"),l.lock(),c=new f(h,".government-categories .category"),c.lock(),t("#fin-stmt-year").change(function(){var e=t(this);e.closest("form").submit(),window.localStorage.setItem("tab","Financial_Statements")}),a=window.localStorage.getItem("tab"),a&&(window.localStorage.removeItem("tab"),t('.nav-pills a[href="'+a+'"]').tab("show")),o=t("#subscribe"),o.hasClass("subscribe")?t("#chat_message_container").hide():t("#chat_message_container").show(),o.click(function(e){e.preventDefault(),e.stopPropagation(),t.ajax({url:o.attr("href")}).done(function(){o.hasClass("subscribe")?(t("#chat_message_container").show(),o.text("Unsubscribe").removeClass("subscribe").removeClass("btn-success").addClass("unsubscribe").addClass("btn-danger")):(t("#chat_message_container").hide(),o.text("Subscribe").removeClass("unsubscribe").removeClass("btn-danger").addClass("subscribe").addClass("btn-success"))})}),t("#year-selector").change(function(){var e=t(this).find(":selected").val(),n=t(".tab-titles").find("li.active").find("a").attr("href");window.location.search="?year="+e,window.localStorage.setItem("tab",n)}),t(document).on("click",".paginate .pagination a",function(e){var n,i,r,o,a;e.preventDefault(),e.stopPropagation(),a=t(this),o=a.closest(".tab-pane"),r=a.attr("href"),i=o.find(".tab-pane-main"),i.html(""),n=o.find(".loader"),n.show(),t.ajax(r).success(function(t){n.hide(),o.find(".row").html(t)})}),t(document).on("click",".paginate .sortable a",function(e){var n,i,r,o,a;e.preventDefault(),e.stopPropagation(),a=t(this),o=a.closest(".tab-pane"),r=a.attr("href"),i=o.find(".tab-pane-main"),i.html("").height(),n=o.find(".loader"),n.show(),t.ajax(r).success(function(t){n.hide(),i.html(t)})}),t(".prev_tab").on("click",function(){function n(){return i=r.prev(),0===i.length&&(i=r.parent().children(),i=i.eq(i.length-1)),i.toggleClass("active"),i}var i,r=t(this).closest(".tab");r&&(r.toggleClass("active"),i=n(),e(i))}),t(".next_tab").on("click",function(){function n(){return i=r.next(),0===i.length&&(i=r.parent().children().eq(0)),i.toggleClass("active"),i}var i,r=t(this).closest(".tab");r&&(r.toggleClass("active"),i=n(),e(i))}),t(window).scroll(function(){window.pageYOffset>147?m.addClass("nav_fixed"):m.removeClass("nav_fixed")}),t("[data-toggle=tooltip]").tooltip({trigger:"click"}),t(".fin-stmt-select").change(function(){var e=t(this),n=e.closest("table"),i=e.find(":selected").val();n.find("td:nth-child(2)").hide(),n.find("td:nth-child(3)").hide(),n.find("td:nth-child(4)").hide(),n.find("td:nth-child("+i+")").show()}),t(document).on("click","#new-issue",function(){_?y.modal("show"):(t("#modal-window").modal("show"),window.sessionStorage.setItem("open","issue"))}),y.find('[data-provide="datepicker"]').on("changeDate",function(){return t(this).datepicker("hide")}),y.on("hidden.bs.modal",function(){y.find("form")[0].reset()}),y.find("form").submit(function(e){var n=new FormData(this);e.preventDefault(),t.ajax({url:this.getAttribute("action"),processData:!1,contentType:!1,method:"post",data:n}).done(function(e){var n=b.compile(t("#issue-row").html());t("#issues tbody tr:last-child").before(n(JSON.parse(e))),y.modal("hide")}).fail(function(t){alert(JSON.parse(t.responseText))})}),i(),t("#comment-text-edit").click(function(){w.hide(),k.show()}),t("#comment-edit-revert").click(function(){window.CKEDITOR.instances.form_comment.setData(document.getElementById("comment-text-value").innerHTML),w.show(),k.hide()}),t("#comment-edit-save").click(function(e){var n,i=t("#comment").find(".loader"),r=window.CKEDITOR.instances.form_comment.getData();e.preventDefault(),i.show(),w.hide(),k.hide(),n={editRequest:{entityName:"Government",entityId:g.id,changes:{comment:r}}},n.editRequest=JSON.stringify(n.editRequest),t.ajax({url:this.getAttribute("href"),method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:n}).done(function(){alert("Changes saved."),document.getElementById("comment-text-value").innerHTML=r,w.show()}).error(function(e){var n=JSON.parse(e.responseText);"Already edited."===n.errors[0]&&(w.show(),t("#comment-text-edit").remove(),t("#comment-text-value").append('<p class="text-info text-center">Unapproved Changes Pending Approval</p>')),alert(n.errors[0])}).always(function(){i.hide()})}),M.on("click",".edit",function(e){e.preventDefault(),e.stopPropagation(),void 0===e.currentTarget.dataset.noEditable&&(_?t(e.currentTarget).siblings(".editable").editable("toggle"):(t("#modal-window").modal("show"),window.sessionStorage.setItem("tableType","Issues"),window.sessionStorage.setItem("dataId",t(e.currentTarget).closest("tr").data("id")),window.sessionStorage.setItem("field",Number(t(e.currentTarget).closest("td")[0].cellIndex)+1)))}),r()}).call(e,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(t,e){/*! X-editable - v1.5.1 
	* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
	* http://github.com/vitalets/x-editable
	* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.editableform.defaults,n),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width(),t&&this.$loading.width(t)),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),t!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var n,i=this.$form.find(".control-group"),r=this.$form.find(".editable-error-block");if(e===!1)i.removeClass(t.fn.editableform.errorGroupClass),r.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){n=(""+e).split("\n");for(var o=0;o<n.length;o++)n[o]=t("<div>").text(n[o]).html();e=n.join("<br>")}i.addClass(t.fn.editableform.errorGroupClass),r.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var n=this.input.input2value(),i=this.validate(n);if("object"===t.type(i)&&void 0!==i.newValue){if(n=i.newValue,this.input.value2input(n),"string"==typeof i.msg)return this.error(i.msg),void this.showForm()}else if(i)return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(n)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var r=this.input.value2submit(n);this.isSaving=!0,t.when(this.save(r)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,n):null;return e===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(n=e.newValue),this.error(!1),this.value=n,void this.$div.triggerHandler("save",{newValue:n,submitValue:r,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,n):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var n,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,r=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==i&&void 0!==i));return r?(this.showLoading(),n={name:this.options.name||"",value:e,pk:i},"function"==typeof this.options.params?n=this.options.params.call(this.options.scope,n):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(n,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,n):t.ajax(t.extend({url:this.options.url,data:n,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){e?this.value=this.input.str2value(t):this.value=t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(n){var i=arguments;return this.each(function(){var r=t(this),o=r.data("editableform"),a="object"==typeof n&&n;o||r.data("editableform",o=new e(this,a)),"string"==typeof n&&o[n].apply(o,Array.prototype.slice.call(i,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(t),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(n){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,n,i){var r,o,a={};if(!t.isArray(n)||!n.length)return a;for(var s=0;s<n.length;s++)r=n[s],e.hasOwnProperty(r)&&(a[r]=e[r]),i!==!0&&(o=r.toLowerCase(),e.hasOwnProperty(o)&&(a[r]=e[o]));return a},getConfigData:function(e){var n={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(n[t]=e)}),n},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,n,i){if(!n||null===e)return[];if("function"!=typeof i){var r=i||"value";i=function(t){return t[r]}}var o=t.isArray(e),a=[],s=this;return t.each(n,function(n,r){if(r.children)a=a.concat(s.itemsByValue(e,r.children,i));else if(o)t.grep(e,function(t){return t==(r&&"object"==typeof r?i(r):r)}).length&&a.push(r);else{var u=r&&"object"==typeof r?i(r):r;e==u&&a.push(r)}}),a},createInput:function(e){var n,i,r,o=e.type;return"date"===o&&("inline"===e.mode?t.fn.editabletypes.datefield?o="datefield":t.fn.editabletypes.dateuifield&&(o="dateuifield"):t.fn.editabletypes.date?o="date":t.fn.editabletypes.dateui&&(o="dateui"),"date"!==o||t.fn.editabletypes.date||(o="combodate")),"datetime"===o&&"inline"===e.mode&&(o="datetimefield"),"wysihtml5"!==o||t.fn.editabletypes[o]||(o="textarea"),"function"==typeof t.fn.editabletypes[o]?(n=t.fn.editabletypes[o],i=this.sliceObj(e,this.objectKeys(n.defaults)),r=new n(i)):(t.error("Unknown type: "+o),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,n="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var r=0;r<i.length;r++)if("string"==typeof e[i[r]+n])return!0;return!1}}}(t),function(t){"use strict";var n=function(t,e){this.init(t,e)},i=function(t,e){this.init(t,e)};n.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.editableContainer.defaults,i),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(e){var i,r=t(e.target),o=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,e.target)&&!r.is(document)){for(i=0;i<o.length;i++)if(r.is(o[i])||r.parents(o[i]).length)return;n.prototype.closeOthers(e.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),e!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(n,i){if(i!==e&&!t(i).find(e).length){var r=t(i),o=r.data("editableContainer");o&&("cancel"===o.options.onblur?r.data("editableContainer").hide("onblur"):"submit"===o.options.onblur&&r.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(e){var r=arguments;return this.each(function(){var o=t(this),a="editableContainer",s=o.data(a),u="object"==typeof e&&e,l="inline"===u.mode?i:n;s||o.data(a,s=new l(this,u)),"string"==typeof e&&s[e].apply(s,Array.prototype.slice.call(r,1))})},t.fn.editableContainer.Popup=n,t.fn.editableContainer.Inline=i,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},e.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(t),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(t),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,n,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,n=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),n=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),"string"==typeof this.options.value?this.value=this.input.str2value(this.options.value):this.value=this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!n;break;default:e=!1}t.when(e?this.render():!0).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var n=t(e.target);n.data("editable")||(n.hasClass(this.options.emptyclass)&&n.empty(),n.editable(this.options).trigger(e))},this))},render:function(t){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,n){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,n){this.option(t.trim(e),n)},this)):(this.options[e]=n,"disabled"===e?n?this.disable():this.enable():("value"===e&&this.setValue(n),this.container&&this.container.option(e,n),void(this.input.option&&this.input.option(e,n))))},handleEmpty:function(e){this.options.display!==!1&&(void 0!==e?this.isEmpty=e:"function"==typeof this.input.isEmpty?this.isEmpty=this.input.isEmpty(this.$element):this.isEmpty=""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var n=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(n),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var n=!1;n=n||"function"==typeof this.options.url,n=n||this.options.display===!1,n=n||void 0!==e.response,n=n||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),n?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var i=this.$element,r=i.css("background-color");i.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===r&&(r=""),i.css("background-color",r),i.addClass("editable-bg-transition"),setTimeout(function(){i.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,n,i){n?this.value=this.input.str2value(e):this.value=e,this.container&&this.container.option("value",this.value),t.when(this.render(i)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(n){var i={},r=arguments,o="editable";switch(n){case"validate":return this.each(function(){var e,n=t(this),r=n.data(o);r&&(e=r.validate())&&(i[r.options.name]=e)}),i;case"getValue":return 2===arguments.length&&arguments[1]===!0?i=this.eq(0).data(o).value:this.each(function(){var e=t(this),n=e.data(o);n&&void 0!==n.value&&null!==n.value&&(i[n.options.name]=n.input.value2submit(n.value))}),i;case"submit":var a=arguments[1]||{},s=this,u=this.editable("validate");if(t.isEmptyObject(u)){var l={};if(1===s.length){var c=s.data("editable"),h={name:c.options.name||"",value:c.input.value2submit(c.value),pk:"function"==typeof c.options.pk?c.options.pk.call(c.options.scope):c.options.pk};"function"==typeof c.options.params?h=c.options.params.call(c.options.scope,h):(c.options.params=t.fn.editableutils.tryParseJson(c.options.params,!0),t.extend(h,c.options.params)),l={url:c.options.url,data:h,type:"POST"},a.success=a.success||c.options.success,a.error=a.error||c.options.error}else{var f=this.editable("getValue");l={url:a.url,data:f,type:"POST"}}l.success="function"==typeof a.success?function(t){a.success.call(s,t,a)}:t.noop,l.error="function"==typeof a.error?function(){a.error.apply(s,arguments)}:t.noop,a.ajaxOptions&&t.extend(l,a.ajaxOptions),a.data&&t.extend(l.data,a.data),t.ajax(l)}else"function"==typeof a.error&&a.error.call(s,u);return this}return this.each(function(){var i=t(this),a=i.data(o),s="object"==typeof n&&n;return s&&s.selector?void(a=new e(this,s)):(a||i.data(o,a=new e(this,s)),void("string"==typeof n&&a[n].apply(a,Array.prototype.slice.call(r,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(t),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,n,i){this.type=e,this.options=t.extend({},i,n)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,n){t(n)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(t),function(t){"use strict";var e=function(t){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(t){return null},value2html:function(e,n,i,r){var o=t.Deferred(),a=function(){"function"==typeof i?i.call(n,e,this.sourceData,r):this.value2htmlFinal(e,n),o.resolve()};return null===e?a.call(this):this.onSourceReady(a,function(){o.resolve()}),o.promise()},onSourceReady:function(e,n){var i;if(t.isFunction(this.options.source)?(i=this.options.source.call(this.options.scope),this.sourceData=null):i=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{i=t.fn.editableutils.tryParseJson(i,!1)}catch(r){return void n.call(this)}if("string"==typeof i){if(this.options.sourceCache){var o,a=i;if(t(document).data(a)||t(document).data(a,{}),o=t(document).data(a),o.loading===!1&&o.sourceData)return this.sourceData=o.sourceData,this.doPrepend(),void e.call(this);if(o.loading===!0)return o.callbacks.push(t.proxy(function(){this.sourceData=o.sourceData,this.doPrepend(),e.call(this)},this)),void o.err_callbacks.push(t.proxy(n,this));o.loading=!0,o.callbacks=[],o.err_callbacks=[]}var s=t.extend({url:i,type:"get",cache:!1,dataType:"json",success:t.proxy(function(i){o&&(o.loading=!1),this.sourceData=this.makeArray(i),t.isArray(this.sourceData)?(o&&(o.sourceData=this.sourceData,t.each(o.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(n.call(this),o&&t.each(o.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){n.call(this),o&&(o.loading=!1,t.each(o.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(s)}else this.sourceData=this.makeArray(i),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):n.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(t,e){},makeArray:function(e){var n,i,r,o,a=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){o=function(t,e){return i={value:t,text:e},n++>=2?!1:void 0};for(var s=0;s<e.length;s++)r=e[s],"object"==typeof r?(n=0,t.each(r,o),1===n?a.push(i):n>1&&(r.children&&(r.children=this.makeArray(r.children)),a.push(r))):a.push({value:r,text:r})}else t.each(e,function(t,e){a.push({value:t,text:e})});return a},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(t),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var n=this;this.t=setTimeout(function(){n.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(t){if(this.$clear){var e=this.$input.val().length,n=this.$clear.is(":visible");e&&!n&&this.$clear.show(),!e&&n&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(t),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(t),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(n,i){var r;if(t.isArray(i))for(var o=0;o<i.length;o++)r={},i[o].children?(r.label=i[o].text,n.append(e(t("<optgroup>",r),i[o].children))):(r.value=i[o].value,i[o].disabled&&(r.disabled=!0),n.append(t("<option>",r).text(i[o].text)));return n};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,n){var i="",r=t.fn.editableutils.itemsByValue(e,this.sourceData);r.length&&(i=r[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,n)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),t.fn.editabletypes.select=e}(t),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var n=0;n<this.sourceData.length;n++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[n].value})).append(t("<span>").text(" "+this.sourceData[n].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var n,i=null;return"string"==typeof e&&e.length?(n=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),i=e.split(n)):i=t.isArray(e)?e:[e],i},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(n,i){var r=t(i);t.each(e,function(t,e){r.val()==e&&r.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(n,i){e.push(t(i).val())}),e},value2htmlFinal:function(e,n){var i=[],r=t.fn.editableutils.itemsByValue(e,this.sourceData),o=this.options.escape;r.length?(t.each(r,function(e,n){var r=o?t.fn.editableutils.escape(n.text):n.text;i.push(r)}),t(n).html(i.join("<br>"))):t(n).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(t),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,n){e?t(n).text("[hidden]"):t(n).empty()},html2value:function(t){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(t),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(t),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(t),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(t),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(t),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{
render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(t),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(t),function(t){"use strict";var e=function(n){if(this.init("select2",n,e.defaults),n.select2=n.select2||{},this.sourceData=null,n.placeholder&&(n.select2.placeholder=n.placeholder),!n.select2.tags&&n.source){var i=n.source;t.isFunction(n.source)&&(i=n.source.call(n.scope)),"string"==typeof i?(n.select2.ajax=n.select2.ajax||{},n.select2.ajax.data||(n.select2.ajax.data=function(t){return{query:t}}),n.select2.ajax.results||(n.select2.ajax.results=function(t){return{results:t}}),n.select2.ajax.url=i):(this.sourceData=this.convertSource(i),n.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,n.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var r=this.idFunc||"id";this.idFunc=function(t){return t[r]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(n,i){var r,o="",a=this;this.options.select2.tags?r=n:this.sourceData&&(r=t.fn.editableutils.itemsByValue(n,this.sourceData,this.idFunc)),t.isArray(r)?(o=[],t.each(r,function(t,e){o.push(e&&"object"==typeof e?a.formatSelection(e):e)})):r&&(o=a.formatSelection(r)),o=t.isArray(o)?o.join(this.options.viewseparator):o,e.superclass.value2html.call(this,o,i)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(t.isArray(e)&&(e=e.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var n=this.options.select2.id,i=this.options.select2.formatSelection;if(!n&&!i){var r=t(this.options.scope);if(!r.data("editable").isEmpty){var o={id:e,text:r.text()};this.$input.select2("data",o)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,n){if("string"!=typeof e||!this.isMultiple)return e;n=n||this.getSeparator();var i,r,o;if(null===e||e.length<1)return null;for(i=e.split(n),r=0,o=i.length;o>r;r+=1)i[r]=t.trim(i[r]);return i},autosubmit:function(){this.$input.on("change",function(e,n){n||t(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||t.fn.select2.defaults.separator},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var n=0;n<e.length;n++)void 0!==e[n].value&&(e[n].id=e[n].value,delete e[n].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(t),function(t){var e=function(e,n){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,n,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(e){this.$element.val(this.getValue()).change(),this.options.smartDays&&(t(e.target).is(".month")||t(e.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,n){n=n[0];var i=new RegExp(n+"+"),r=n.length>1?n.substring(1,2):n;e=e.replace(i,"{"+r+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,n){n=n[0];var i=n.length>1?n.substring(1,2):n;e=e.replace("{"+i+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var n="fill"+t.charAt(0).toUpperCase()+t.slice(1),i=this[n](),r=e.val();e.empty();for(var o=0;o<i.length;o++)e.append('<option value="'+i[o][0]+'">'+i[o][1]+"</option>");e.val(r)}},fillCommon:function(t){var e,n=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var i="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];i=i.split(" ").reverse()[0],n.push(["",i])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var t,e,n=this.fillCommon("d"),i=-1!==this.options.template.indexOf("DD"),r=31;if(this.options.smartDays&&this.$month&&this.$year){var o=parseInt(this.$month.val(),10),a=parseInt(this.$year.val(),10);isNaN(o)||isNaN(a)||(r=moment([a,o]).daysInMonth())}for(e=1;r>=e;e++)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillMonth:function(){var t,e,n=this.fillCommon("M"),i=-1!==this.options.template.indexOf("MMMM"),r=-1!==this.options.template.indexOf("MMM"),o=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=i?moment().date(1).month(e).format("MMMM"):r?moment().date(1).month(e).format("MMM"):o?this.leadZero(e+1):e+1,n.push([e,t]);return n},fillYear:function(){var t,e,n=[],i=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=i?e:(e+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([e,t]);return n=this.fillCommon("y").concat(n)},fillHour:function(){var t,e,n=this.fillCommon("h"),i=-1!==this.options.template.indexOf("h"),r=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),o=i?1:0,a=i?12:23;for(e=o;a>=e;e++)t=r?this.leadZero(e):e,n.push([e,t]);return n},fillMinute:function(){var t,e,n=this.fillCommon("m"),i=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillSecond:function(){var t,e,n=this.fillCommon("s"),i=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a"),e=(-1!==this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]);return e},getValue:function(e){var n,i={},r=this,o=!1;return t.each(this.map,function(t,e){if("ampm"!==t){var n="day"===t?1:0;return i[t]=r["$"+t]?parseInt(r["$"+t].val(),10):n,isNaN(i[t])?(o=!0,!1):void 0}}),o?"":(this.$ampm&&(12===i.hour?i.hour="am"===this.$ampm.val()?0:12:i.hour="am"===this.$ampm.val()?i.hour:i.hour+12),n=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(n),e=void 0===e?this.options.format:e,null===e?n.isValid()?n:null:n.isValid()?n.format(e):"")},setValue:function(e){function n(e,n){var i={};return e.children("option").each(function(e,r){var o,a=t(r).attr("value");""!==a&&(o=Math.abs(a-n),("undefined"==typeof i.distance||o<i.distance)&&(i={value:a,distance:o}))}),i.value}if(e){var i="string"==typeof e?moment(e,this.options.format):moment(e),r=this,o={};i.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(o[t]=i[e[1]]())}),this.$ampm&&(o.hour>=12?(o.ampm="pm",o.hour>12&&(o.hour-=12)):(o.ampm="am",0===o.hour&&(o.hour=12))),t.each(o,function(t,e){r["$"+t]&&("minute"===t&&r.options.minuteStep>1&&r.options.roundTime&&(e=n(r["$"+t],e)),"second"===t&&r.options.secondStep>1&&r.options.roundTime&&(e=n(r["$"+t],e)),r["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(i.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(n){var i,r=Array.apply(null,arguments);return r.shift(),"getValue"===n&&this.length&&(i=this.eq(0).data("combodate"))?i.getValue.apply(i,r):this.each(function(){var i=t(this),o=i.data("combodate"),a="object"==typeof n&&n;o||i.data("combodate",o=new e(this,a)),"string"==typeof n&&"function"==typeof o[n]&&o[n].apply(o,r)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(t),function(t){"use strict";var e=function(n){this.init("combodate",n,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),n.combodate=t.fn.editableutils.tryParseJson(n.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,n.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,n){var i=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,i,n)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(t),function(t){"use strict";var e=t.fn.editableform.Constructor.prototype.initInput;t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){e.apply(this);var n=null===this.input.options.inputclass||this.input.options.inputclass===!1,i="input-sm",r="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~t.inArray(this.input.type,r)&&(this.input.$input.addClass("form-control"),n&&(this.input.options.inputclass=i,this.input.$input.addClass(i)));for(var o=this.$form.find(".editable-buttons"),a=n?[i]:this.input.options.inputclass.split(" "),s=0;s<a.length;s++)"input-lg"===a[s].toLowerCase()&&o.find("button").removeClass("btn-sm").addClass("btn-lg")}}),t.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null,t.fn.editableform.engine="bs3"}(t),function(t){"use strict";t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:t.fn.popover.Constructor.DEFAULTS,initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){(function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,i=n.test(e);i&&(e=e.replace(n,"")||"top");var r=this.getPosition(),o=t[0].offsetWidth,a=t[0].offsetHeight;if(i){var s=this.$element.parent(),u=e,l=document.documentElement.scrollTop||document.body.scrollTop,c="body"==this.options.container?window.innerWidth:s.outerWidth(),h="body"==this.options.container?window.innerHeight:s.outerHeight(),f="body"==this.options.container?0:s.offset().left;e="bottom"==e&&r.top+r.height+a-l>h?"top":"top"==e&&r.top-l-a<0?"bottom":"right"==e&&r.right+o>c?"left":"left"==e&&r.left-o<f?"right":e,t.removeClass(u).addClass(e)}var p=this.getCalculatedOffset(e,r,o,a);this.applyPlacement(p,e)}).call(this.container())}})}(t),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function n(e,n){var i,r=t(e).data(),o={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])"),n=new RegExp("^"+n.toLowerCase());for(var s in r)n.test(s)&&(i=s.replace(a,function(t,e){return e.toLowerCase()}),o[i]=r[s]);return o}function i(e){var n={};if(c[e]||(e=e.split("-")[0],c[e])){var i=c[e];return t.each(l,function(t,e){e in i&&(n[e]=i[e])}),n}}var r=function(e,n){this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(h.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};r.prototype={constructor:r,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(c[i]||(i=i.split("-")[0],c[i]||(i=u.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=h.parseFormat(n.format);n.startDate!==-(1/0)&&(n.startDate=h.parseDate(n.startDate,r,n.language)),n.endDate!==1/0&&(n.endDate=h.parseDate(n.endDate,r,n.language)),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.on(n)},_unapplyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.off(n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.date,r=new Date(i.getTime()+6e4*i.getTimezoneOffset());this.element.trigger({type:e,date:r,format:t.proxy(function(t){var e=t||this.o.format;return h.formatDate(i,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(t){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),h.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:n.top+i,left:n.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=h.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.date<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.date>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+c[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+c[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=this.date.valueOf(),a=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()==i&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()==i&&e.getUTCMonth()>r)&&n.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==a.getFullYear()&&e.getUTCMonth()==a.getMonth()&&e.getUTCDate()==a.getDate()&&n.push("today"),o&&e.valueOf()==o&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var n,i=new Date(this.viewDate),r=i.getUTCFullYear(),o=i.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),u=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf();this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[o]+" "+r),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=e(r,o-1,28,0,0,0,0),p=h.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(p),f.setUTCDate(p-(f.getUTCDay()-this.o.weekStart+7)%7);var d=new Date(f);d.setUTCDate(d.getUTCDate()+42),d=d.valueOf();for(var v,m=[];f.valueOf()<d;){if(f.getUTCDay()==this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)){var g=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),y=new Date(+g+(11-g.getUTCDay())%7*864e5),_=new Date(+(_=e(y.getUTCFullYear(),0,1))+(11-_.getUTCDay())%7*864e5),b=(y-_)/864e5/7+1;m.push('<td class="cw">'+b+"</td>")}v=this.getClassNames(f),v.push("day");var x=this.o.beforeShowDay(f);void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&v.push("disabled"),x.classes&&(v=v.concat(x.classes.split(/\s+/))),x.tooltip&&(n=x.tooltip),v=t.unique(v),m.push('<td class="'+v.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+f.getUTCDate()+"</td>"),f.getUTCDay()==this.o.weekEnd&&m.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var w=this.date&&this.date.getUTCFullYear(),k=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");w&&w==r&&k.eq(this.date.getUTCMonth()).addClass("active"),(a>r||r>u)&&k.addClass("disabled"),r==a&&k.slice(0,s).addClass("disabled"),r==u&&k.slice(l+1).addClass("disabled"),m="",r=10*parseInt(r/10,10);var M=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var C=-1;11>C;C++)m+='<span class="year'+(-1==C?" old":10==C?" new":"")+(w==r?" active":"")+(a>r||r>u?" disabled":"")+'">'+r+"</span>",r+=1;M.html(m)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(n){n.preventDefault();var i=t(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=h.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r)}this.fill();break;case"today":var o=new Date;o=e(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.o.todayBtn?null:"view";this._setDate(o,a);break;case"clear":var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var u=1,l=i.parent().find("span").index(i),c=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(c,l,u,0,0,0,0))}else{var c=parseInt(i.text(),10)||0,u=1,l=0;this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(c,l,u,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var u=parseInt(i.text(),10)||1,c=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth();i.is(".old")?0===l?(l=11,c-=1):l-=1:i.is(".new")&&(11==l?(l=0,c+=1):l+=1),this._setDate(e(c,l,u,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1==s)i=-1==e?function(){return r.getUTCMonth()==a}:function(){return r.getUTCMonth()!=n},n=a+e,r.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var u=0;s>u;u++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!=r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,n,i,r=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),r=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),r=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(r){this._trigger("changeDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+h.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var o=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};o.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){var n=t(e.target).data("datepicker"),i=n.getUTCDate(),r=t.inArray(e.target,this.inputs),o=this.inputs.length;if(-1!=r){if(i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[r])for(;o>r&&i>this.dates[r];)this.pickers[r++].setUTCDate(i);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var a=t.fn.datepicker,s=t.fn.datepicker=function(e){var a=Array.apply(null,arguments);a.shift();var s;return this.each(function(){var l=t(this),c=l.data("datepicker"),h="object"==typeof e&&e;if(!c){var f=n(this,"date"),p=t.extend({},u,f,h),d=i(p.language),v=t.extend({},u,d,f,h);if(l.is(".input-daterange")||v.inputs){var m={inputs:v.inputs||l.find("input").toArray()};l.data("datepicker",c=new o(this,t.extend(v,m)))}else l.data("datepicker",c=new r(this,v))}return"string"==typeof e&&"function"==typeof c[e]&&(s=c[e].apply(c,a),void 0!==s)?!1:void 0}),void 0!==s?s:this},u=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},l=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=r;var c=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0;
},getDaysInMonth:function(t,e){return[31,h.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,i,o){if(n instanceof Date)return n;if("string"==typeof i&&(i=h.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){var a,s,u=/([\-+]\d+)([dmwy])/,l=n.match(/([\-+]\d+)([dmwy])/g);n=new Date;for(var f=0;f<l.length;f++)switch(a=u.exec(l[f]),s=parseInt(a[1]),a[2]){case"d":n.setUTCDate(n.getUTCDate()+s);break;case"m":n=r.prototype.moveMonth.call(r.prototype,n,s);break;case"w":n.setUTCDate(n.getUTCDate()+7*s);break;case"y":n=r.prototype.moveYear.call(r.prototype,n,s)}return e(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}var p,d,a,l=n&&n.match(this.nonpunctuation)||[],n=new Date,v={},m=["yyyy","yy","M","MM","m","mm","d","dd"],g={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};g.M=g.MM=g.mm=g.m,g.dd=g.d,n=e(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var y=i.parts.slice();if(l.length!=y.length&&(y=t(y).filter(function(e,n){return-1!==t.inArray(n,m)}).toArray()),l.length==y.length){for(var f=0,_=y.length;_>f;f++){if(p=parseInt(l[f],10),a=y[f],isNaN(p))switch(a){case"MM":d=t(c[o].months).filter(function(){var t=this.slice(0,l[f].length),e=l[f].slice(0,t.length);return t==e}),p=t.inArray(d[0],c[o].months)+1;break;case"M":d=t(c[o].monthsShort).filter(function(){var t=this.slice(0,l[f].length),e=l[f].slice(0,t.length);return t==e}),p=t.inArray(d[0],c[o].monthsShort)+1}v[a]=p}for(var b,f=0;f<m.length;f++)b=m[f],b in v&&!isNaN(v[b])&&g[b](n,v[b])}return n},formatDate:function(e,n,i){"string"==typeof n&&(n=h.parseFormat(n));var r={d:e.getUTCDate(),D:c[i].daysShort[e.getUTCDay()],DD:c[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:c[i].monthsShort[e.getUTCMonth()],MM:c[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m;for(var e=[],o=t.extend([],n.separators),a=0,s=n.parts.length;s>=a;a++)o.length&&e.push(o.shift()),e.push(r[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=h,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=a,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),s.call(n,"show"))}),t(function(){s.call(t('[data-provide="datepicker-inline"]'))})}(t),function(t){"use strict";t.fn.bdatepicker=t.fn.datepicker.noConflict(),t.fn.datepicker||(t.fn.datepicker=t.fn.bdatepicker);var e=function(t){this.init("date",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,n){this.options.viewformat||(this.options.viewformat=this.options.format),e.datepicker=t.fn.editableutils.tryParseJson(e.datepicker,!0),this.options.datepicker=t.extend({},n.datepicker,e.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=t.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,n){var i=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";e.superclass.value2html.call(this,i,n)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!t(e.currentTarget).is(".old")&&!t(e.currentTarget).is(".new")){var n=t(this).closest("form");setTimeout(function(){n.submit()},200)}})},parseDate:function(t,e){var n,i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(n=this.dpg.formatDate(i,e,this.options.datepicker.language),t!==n&&(i=null))),i}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.date=e}(t),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(t),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,n){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},n.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(e){var n=t(this).closest("form").parent();setTimeout(function(){n.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,n){var i=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return n?void e.superclass.value2html.call(this,i,n):i},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(e){var n=t(this).closest("form");setTimeout(function(){n.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var n,i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(n=this.dpg.formatDate(i,e,this.options.datetimepicker.language,this.options.formatType),t!==n&&(i=null))),i}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.datetime=e}(t),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(t)}).call(e,n(1),n(1))},function(t,e,n){(function(e){function i(t){return function(){r(),t()}}function r(){e('a[data-toggle="tab"]').on("shown.bs.tab",function(t){var n=e(t.target).attr("data-tabname");switch(n){case"Quality of Services":break;case"Employee Compensation":s.initAll();break;case"Financial Health":u.initAll();break;case"Financial Statements":l.initAll()}})}function o(){s.initAll(),u.initAll(),l.initAll()}function a(t){google.load("visualization","1.0",{packages:["treemap","corechart"],callback:i(t)})}var s=n(29),u=n(31),l=n(32);t.exports={init:a,forceInit:o}}).call(e,n(1))},function(t,e,n){function i(){r(),o()}function r(){function t(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}var e,n,i,r,o;a.median_salary_per_full_time_emp||(a.median_salary_per_full_time_emp=a.median_salary_for_full_time_employees),a.median_benefits_per_ft_emp||(a.median_benefits_per_ft_emp=a.median_benefits_for_full_time_employees),0===a.median_wages_general_public&&(a.median_wages_general_public=void 0),0===a.median_benefits_general_public&&(a.median_benefits_general_public=void 0),a.median_salary_per_full_time_emp&&a.median_benefits_per_ft_emp&&a.median_wages_general_public&&a.median_benefits_general_public&&(o=new google.visualization.DataTable,o.addColumn("string","Median Compensation"),o.addColumn("number","Wages"),o.addColumn("number","Bens."),o.addRows([[t(a.name+"\n Employees"),+a.median_salary_per_full_time_emp,+a.median_benefits_per_ft_emp],["All \n"+t(a.name+" \n Residents"),+a.median_wages_general_public,+a.median_benefits_general_public]]),n=new google.visualization.NumberFormat({groupingSymbol:",",fractionDigits:"0"}),n.format(o,1),n.format(o,2),r="median-comp-graph",i={title:"Median Total Compensation - Full Time Workers: \n Government vs. Private Sector",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",isStacked:!0,colors:["#005ce6","#009933"]},e=new google.visualization.ColumnChart(document.getElementById(r)),e.draw(o,i))}function o(){var t,e,n,i,r;a.median_pension30_year_retiree||(a.median_pension30_year_retiree=a.median_pension_for_retiree_with_30_years_service),a.median_pension30_year_retiree&&(r=new google.visualization.DataTable,r.addColumn("string","Median Pension"),r.addColumn("number","Wages"),r.addRows([["Pension for \n Retiree w/ 30 Years",+a.median_pension30_year_retiree]]),e=new google.visualization.NumberFormat({groupingSymbol:",",fractionDigits:"0"}),e.format(r,1),i="median-pension-graph",n={title:"Median Total Compensation - Full Time Workers: \n Government vs. Private Sector",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",isStacked:"true",colors:["#005ce6","#009933"]},t=new google.visualization.ColumnChart(document.getElementById(i)),t.draw(r,n))}var a=n(30).data;t.exports={init:i,initAll:i}},function(t,e){var n=JSON.parse(window.gw.government);t.exports={data:n}},function(t,e,n){function i(){r(),o(),a()}function r(){var t,e,n,i,r;s.public_safety_exp_over_tot_gov_fund_revenue||(s.public_safety_exp_over_tot_gov_fund_revenue=s.public_safety_expense_total_governmental_fund_revenue),s.public_safety_exp_over_tot_gov_fund_revenue&&(n=new google.visualization.DataTable,n.addColumn("string","Public Safety Expense"),n.addColumn("number","Total"),n.addRows([["Public Safety Exp",1-s.public_safety_exp_over_tot_gov_fund_revenue],["Other",+s.public_safety_exp_over_tot_gov_fund_revenue]]),i="public-safety-pie",e={title:"Public safety expense",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",is3D:"true",colors:["#005ce6","#009933"],slices:{1:{offset:.2}},pieStartAngle:45},r=document.getElementById(i),r&&(t=new google.visualization.PieChart(r),t.draw(n,e)))}function o(){var t,e,n,i;s.total_revenue_per_capita&&(n=new google.visualization.DataTable,n.addColumn("string","Per Capita"),n.addColumn("number","Rev."),n.addRows([["Total Revenue \n Per Capita",+s.total_revenue_per_capita],["Median Total \n Revenue Per \n Capita For All Cities",420]]),i="fin-health-revenue-graph",e={title:"Total Revenue",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",isStacked:!0,colors:["#005ce6","#009933"],"chartArea.width":"100%"},t=new google.visualization.ColumnChart(document.getElementById(i)),t.draw(n,e))}function a(){var t,e,n,i;s.total_expenditures_per_capita&&(n=new google.visualization.DataTable,n.addColumn("string","Per Capita"),n.addColumn("number","Exp."),n.addRows([["Total Expenditures \n Per Capita",+s.total_expenditures_per_capita],["Median Total \n Expenditures \n Per Capita \n For All Cities",420]]),i="fin-health-expenditures-graph",e={title:"Total Expenditures",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",isStacked:"true",colors:["#005ce6","#009933"],"chartArea.width":"100%"},t=new google.visualization.ColumnChart(document.getElementById(i)),t.draw(n,e))}var s=n(30).data;t.exports={init:i,initAll:i}},function(t,e,n){(function(e){function i(){u(),a(),s()}function r(){function t(t,e){var n=100*e/y;return n=n.toFixed(2),""+t+": "+numeral(e).format("$0,0")+" ("+n+"%)"}var e,n,i,r,o,a,s,u,c,f,d,v,m,g=h.financialStatements.Revenues,y=0;v=new google.visualization.DataTable,v.addColumn("string","Total Gov. Revenues"),v.addColumn("number","Total"),v.addColumn({type:"string",role:"tooltip"}),d=[];for(i in g)if(g.hasOwnProperty(i)&&"Total Revenues"!==g[i].caption){if(n=g[i],e=l(n),!e)continue;y+=parseInt(e,10)}for(m in g)g.hasOwnProperty(m)&&"Total Revenues"!==g[m].caption&&(a=g[m].translatedCaption,o=parseInt(g[m].totalfunds,10),r=t(a,o,y),c=[a,o,r],d.push(c));d.sort(p),v.addRows(d),f="total-revenue-pie",u={title:h.translations.total_revenue,titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",sliceVisibilityThreshold:0,forceIFrame:!0,chartArea:{left:"3%",top:"13%",height:"94%",width:"94%"},legend:{position:"top",maxLines:"6"}},s=new google.visualization.PieChart(document.getElementById(f)),s.draw(v,u)}function o(){function t(t,e){var n=100*e/y;return n=n.toFixed(2),""+t+": "+numeral(e).format("$0,0")+" ("+n+"%)"}var e,n,i,r,o,a,s,u,c,f,d,v,m,g=h.financialStatements.Expenditures,y=0;d=new google.visualization.DataTable,d.addColumn("string","Total Gov. Expenditures"),d.addColumn("number","Total"),d.addColumn({type:"string",role:"tooltip"}),f=[];for(v in g)if(g.hasOwnProperty(v)&&"Total Expenditures"!==g[v].caption){if(n=g[v],e=l(n),!e)continue;y+=parseInt(e,10)}for(m in g)g.hasOwnProperty(m)&&"Total Expenditures"!==g[m].caption&&(o=g[m].translatedCaption,r=parseInt(g[m].totalfunds,10),i=t(o,r,y),u=[o,r,i],f.push(u));f.sort(p),d.addRows(f),c="total-expenditures-pie",s={title:h.translations.total_expenditure,titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",sliceVisibilityThreshold:0,forceIFrame:!0,chartArea:{left:"3%",top:"13%",height:"94%",width:"94%"},legend:{position:"top",maxLines:"6"}},a=new google.visualization.PieChart(document.getElementById(c)),a.draw(d,s)}function a(){var t,n,i,r="#total-revenue-tree",o=0,a=Number.MAX_VALUE,s=0,u=0,f=h.financialStatements.Revenues,p={name:h.translations.total_revenue,children:[]};e("#total-revenue-tree-title").text(h.translations.total_revenue);for(t in f)if(f.hasOwnProperty(t)&&"Total Revenues"!==f[t].caption){if(n=f[t],i=parseInt(l(n),10),!i)continue;p.children.push({name:n.translatedCaption,index:u++,amount:i}),a>i&&(a=i),i>s&&(s=i),o+=i}c(p,{selector:r,width:e(r).width()-50,height:e(r).width()-150,minAmount:a,maxAmount:s,totalAmount:o})}function s(){var t,n,i,r="#total-expenditures-tree",o=0,a=Number.MAX_VALUE,s=0,u=0,f=h.financialStatements.Expenditures,p={name:h.translations.total_expenditure,children:[]};e("#total-expenditures-tree-title").text(h.translations.total_expenditure);for(i in f)if(f.hasOwnProperty(i)&&"Total Expenditures"!==f[i].caption){if(n=f[i],t=parseInt(l(n),10),!t)continue;p.children.push({name:n.translatedCaption,index:u++,amount:t}),a>t&&(a=t),t>s&&(s=t),o+=t}c(p,{selector:r,width:e(r).width()-50,height:e(r).width()-150,minAmount:a,maxAmount:s,totalAmount:o})}function u(){function t(t,n){var i=n?{display:"none"}:{display:"table"};"financialTable"===t?(e(".compare-first-table").css(i),e(".compare-second-table").css(i)):"compareTables"===t&&e(".financial-table").css(i)}function n(t,n){var r,o,a,s=n?{display:"none"}:{display:"block"};"pie-charts"===t?(e("#"+i+"total-expenditures-pie").css(s),e("#"+i+"total-revenue-pie").css(s)):"compare-charts"===t?n?(e("#"+i+"total-compare-pie").css(s),e("#"+i+"total-compare-first-pie").css(s),e("#"+i+"total-compare-second-pie").css(s),e("#"+i+"total-compare-column").css(s)):(a=e(".government-categories .selected"),o=a.hasClass("category"),r=a.hasClass("caption"),o?(e("#"+i+"total-compare-first-pie").css(s),e("#"+i+"total-compare-second-pie").css(s)):r?e("#"+i+"total-compare-column").css(s):(e("#"+i+"total-compare-first-pie").css(s),e("#"+i+"total-compare-second-pie").css(s)),e("#"+i+"total-compare-pie").css(s)):"tree-charts"===t&&(e("#"+i+"total-expenditures-tree").css(s),e("#"+i+"total-revenue-tree").css(s))}var i="";n("tree-charts",!1),n("pie-charts",!0),n("compare-charts",!0),t("financialTable",!0),t("compareTables",!1),e("#"+i+"Financial_Statements").on("click",".chart-controls .btn",function(){var e=this.getElementsByTagName("input")[0].id;"chart"===e?(t("financialTable",!0),t("compareTables",!1),n("pie-charts",!1),n("compare-charts",!0),n("tree-charts",!0),f.revenuePie.init&&f.expendituresPie.init||(r(),o())):"tree-charts"===e?(t("financialTable",!0),t("compareTables",!1),n("pie-charts",!0),n("compare-charts",!0),n("tree-charts",!1),f.expendituresTree.init&&f.revenuesTree.init||(s(),a())):"compare-charts"===e&&(t("financialTable",!1),t("compareTables",!0),n("pie-charts",!0),n("compare-charts",!1),n("tree-charts",!0),f.expendituresTree.init&&f.revenuesTree.init||(s(),a()))})}function l(t){var n=e.extend({},t);return n.totalfunds&&n.totalfunds<0&&(n.totalfunds=-t.totalfunds),n.totalfunds||!1}function c(t,n){function i(t){var e=100*t.data.amount/n.totalAmount;return e=e.toFixed(2),t.data.name+": "+numeral(t.data.amount).format("$0,0")+" ("+e+"%)"}var r,o,a,s,u,l;r=d.select("body").append("div").attr("class","treemap-tooltip").style("opacity",0),o=d.treemap().size([n.width,n.height]).padding(1),a=d.hierarchy(t).sum(function(t){return t.amount}),s=d.scaleOrdinal().range(d.schemeCategory10.map(function(t){var e=d.rgb(t);return e.opacity=.6,e})),u=d.scaleLinear().domain([n.minAmount,n.maxAmount]).rangeRound([10,20]),o(a),e(n.selector).html(""),l=d.select(n.selector).append("div").style("width",n.width+"px").style("height",n.height+"px").style("position","relative"),l.selectAll("div").data(a.leaves()).enter().append("div").attr("id",function(t){return"rect-"+t.data.key}).style("overflow","hidden").style("text-align","center").style("display","table").style("left",function(t){return t.x0+"px"}).style("top",function(t){return t.y0+"px"}).style("width",function(t){return t.x1-t.x0+"px"}).style("height",function(t){return t.y1-t.y0+"px"}).style("position","absolute").style("background-color",function(t){return s(t.data.index)}).on("mouseover",function(t){r.transition().duration(200).style("opacity",.9),r.html(i(t)).style("left",d.event.pageX+28+"px").style("top",d.event.pageY-52+"px")}).on("mousemove",function(){return r.style("left",event.pageX+28+"px").style("top",event.pageY-52+"px")}).on("mouseout",function(){r.transition().duration(500).style("opacity",0)}).append("p").style("font-weight","bold").style("overflow-wrap","break-word").style("position","absolute").style("vertical-align","middle").style("padding","3px").style("margin",0).style("width","100%").style("top","50%").style("transform","translate(0, -50%)").style("font-size",function(t){return u(t.data.amount)+"px"}).html(function(t){return 100*t.data.amount/n.totalAmount<1?"":t.data.name})}var h=n(30).data,f=n(33).chart,p=n(34).rowSortFunction,d=n(35);t.exports={init:i,initAll:i,handlerSwitchChart:u}}).call(e,n(1))},function(t,e){var n={employeeCompensation_one:{init:!1},employeeCompensation_two:{init:!1},financialHealth_one:{init:!1},financialHealth_two:{init:!1},financialHealth_three:{init:!1},expendituresPie:{init:!1},revenuePie:{init:!1},expendituresTree:{init:!1},revenuesTree:{init:!1}};t.exports={chart:n}},function(t,e){function n(t,e){return t[1]>e[1]?-1:t[1]<e[1]?1:0}t.exports={rowSortFunction:n}},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function n(t){return 1===t.length&&(t=i(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function i(t){return function(n,i){return e(t(n),i)}}function r(t,e){return t>e?-1:e>t?1:e>=t?0:NaN}function o(t){return null===t?NaN:+t}function a(t,e){var n,i,r=t.length,a=0,s=0,u=-1,l=0;if(null==e)for(;++u<r;)isNaN(n=o(t[u]))||(i=n-a,a+=i/++l,s+=i*(n-a));else for(;++u<r;)isNaN(n=o(e(t[u],u,t)))||(i=n-a,a+=i/++l,s+=i*(n-a));return l>1?s/(l-1):void 0}function s(t,e){var n=a(t,e);return n?Math.sqrt(n):n}function u(t,e){var n,i,r,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<a;)if(null!=(i=e(t[o],o,t))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e(t[o],o,t))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]}function l(t){return function(){return t}}function c(t){return t}function h(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):3>r?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}function f(t,e,n){var i=p(t,e,n);return h(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)}function p(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Fd?r*=10:o>=Id?r*=5:o>=zd&&(r*=2),t>e?-r:r}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function v(){function t(t){var r,o,a=t.length,s=new Array(a);for(r=0;a>r;++r)s[r]=e(t[r],r,t);var u=n(s),l=u[0],c=u[1],h=i(s,l,c);Array.isArray(h)||(h=f(l,c,h));for(var p=h.length;h[0]<=l;)h.shift(),--p;for(;h[p-1]>=c;)h.pop(),--p;var d,v=new Array(p+1);for(r=0;p>=r;++r)d=v[r]=[],d.x0=r>0?h[r-1]:l,d.x1=p>r?h[r]:c;for(r=0;a>r;++r)o=s[r],o>=l&&c>=o&&v[$d(h,o,0,p)].push(t[r]);return v}var e=c,n=u,i=d;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:l(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:l([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:l(Array.isArray(e)?Pd.call(e):e),t):i},t}function m(t,e,n){if(null==n&&(n=o),i=t.length){if((e=+e)<=0||2>i)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(r-a)}}function g(t,n,i){return t=Od.call(t,o).sort(e),Math.ceil((i-n)/(2*(m(t,.75)-m(t,.25))*Math.pow(t.length,-1/3)))}function y(t,e,n){return Math.ceil((n-e)/(3.5*s(t)*Math.pow(t.length,-1/3)))}function _(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&i>n&&(n=i)}return n}function b(t,e){var n,i=0,r=t.length,a=-1,s=r;if(null==e)for(;++a<r;)isNaN(n=o(t[a]))?--s:i+=n;else for(;++a<r;)isNaN(n=o(e(t[a],a,t)))?--s:i+=n;return s?i/s:void 0}function x(t,n){var i,r=[],a=t.length,s=-1;if(null==n)for(;++s<a;)isNaN(i=o(t[s]))||r.push(i);else for(;++s<a;)isNaN(i=o(n(t[s],s,t)))||r.push(i);return m(r.sort(e),.5)}function w(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--a]=i[e];return n}function k(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&n>i&&(n=i)}return n}function M(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(0>n?0:n);n>e;)r[e]=[i,i=t[++e]];return r}function C(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i}function T(t,n){if(i=t.length){var i,r,o=0,a=0,s=t[a];for(n||(n=e);++o<i;)(n(r=t[o],s)<0||0!==n(s,s))&&(s=r,a=o);return 0===n(s,s)?a:void 0}}function S(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t}function D(t,e){var n,i=0,r=t.length,o=-1;if(null==e)for(;++o<r;)(n=+t[o])&&(i+=n);else for(;++o<r;)(n=+e(t[o],o,t))&&(i+=n);return i}function A(t){if(!(r=t.length))return[];for(var e=-1,n=k(t,$),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i}function $(t){return t.length}function E(){return A(arguments)}function N(){}function P(t,e){var n=new N;if(t instanceof N)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function O(){function t(e,r,a,s){if(r>=o.length)return null!=i?i(e):null!=n?e.sort(n):e;for(var u,l,c,h=-1,f=e.length,p=o[r++],d=P(),v=a();++h<f;)(c=d.get(u=p(l=e[h])+""))?c.push(l):d.set(u,[l]);return d.each(function(e,n){s(v,n,t(e,r,a,s))}),v}function e(t,n){if(++n>o.length)return t;var r,s=a[n-1];return null!=i&&n>=o.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=s?r.sort(function(t,e){return s(t.key,e.key)}):r}var n,i,r,o=[],a=[];return r={object:function(e){return t(e,0,F,I)},map:function(e){return t(e,0,z,R)},entries:function(n){return e(t(n,0,z,R),0)},key:function(t){return o.push(t),r},sortKeys:function(t){return a[o.length-1]=t,r},sortValues:function(t){return n=t,r},rollup:function(t){return i=t,r}}}function F(){return{}}function I(t,e,n){t[e]=n}function z(){return P()}function R(t,e,n){t.set(e,n)}function U(){}function j(t,e){var n=new U;if(t instanceof U)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function L(t){var e=[];for(var n in t)e.push(n);return e}function q(t){var e=[];for(var n in t)e.push(t[n]);return e}function H(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}function V(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}}function B(t,e){var n,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var r;if(null!=n)r=n,n=null;else do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*r*Math.sqrt(-2*Math.log(i)/i)}}function Y(){var t=B.apply(this,arguments);return function(){return Math.exp(t())}}function W(t){return function(){for(var e=0,n=0;t>n;++n)e+=Math.random();return e}}function K(t){var e=W(t);return function(){return e()/t}}function G(t){return function(){return-Math.log(1-Math.random())/t}}function X(t){return+t}function J(t){return t*t}function Q(t){return t*(2-t)}function Z(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function tt(t){return t*t*t}function et(t){return--t*t*t+1}function nt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function it(t){return 1-Math.cos(t*Bd)}function rt(t){return Math.sin(t*Bd)}function ot(t){return(1-Math.cos(Vd*t))/2}function at(t){return Math.pow(2,10*t-10)}function st(t){return 1-Math.pow(2,-10*t)}function ut(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function lt(t){return 1-Math.sqrt(1-t*t)}function ct(t){return Math.sqrt(1- --t*t)}function ht(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function ft(t){return 1-pt(1-t)}function pt(t){return(t=+t)<Yd?ev*t*t:Kd>t?ev*(t-=Wd)*t+Gd:Jd>t?ev*(t-=Xd)*t+Qd:ev*(t-=Zd)*t+tv}function dt(t){return((t*=2)<=1?1-pt(1-t):pt(t-1)+1)/2}function vt(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2}function mt(t){for(var e,n,i=-1,r=t.length,o=0,a=0,s=t[r-1],u=0;++i<r;)e=s,s=t[i],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return u*=3,[o/u,a/u]}function gt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function yt(t,e){return t[0]-e[0]||t[1]-e[1]}function _t(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;++r){for(;i>1&&gt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function bt(t){if((n=t.length)<3)return null;
var e,n,i=new Array(n),r=new Array(n);for(e=0;n>e;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(yt),e=0;n>e;++e)r[e]=[i[e][0],-i[e][1]];var o=_t(i),a=_t(r),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;e>=0;--e)l.push(t[i[o[e]][2]]);for(e=+s;e<a.length-u;++e)l.push(t[i[a[e]][2]]);return l}function xt(t,e){for(var n,i,r=t.length,o=t[r-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,h=0;r>h;++h)o=t[h],n=o[0],i=o[1],i>s!=l>s&&(u-n)*(s-i)/(l-i)+n>a&&(c=!c),u=n,l=i;return c}function wt(t){for(var e,n,i=-1,r=t.length,o=t[r-1],a=o[0],s=o[1],u=0;++i<r;)e=a,n=s,o=t[i],a=o[0],s=o[1],e-=a,n-=s,u+=Math.sqrt(e*e+n*n);return u}function kt(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function Mt(){return new kt}function Ct(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Tt(this.cover(e,n),e,n,t)}function Tt(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,u,l,c,h,f,p=t._root,d={data:i},v=t._x0,m=t._y0,g=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(v+g)/2))?v=o:g=o,(c=n>=(a=(m+y)/2))?m=a:y=a,r=p,!(p=p[h=c<<1|l]))return r[h]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,r?r[h]=d:t._root=d,t;do r=r?r[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(v+g)/2))?v=o:g=o,(c=n>=(a=(m+y)/2))?m=a:y=a;while((h=c<<1|l)===(f=(u>=a)<<1|s>=o));return r[f]=p,r[h]=d,t}function St(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-(1/0),h=-(1/0);for(n=0;o>n;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,u>i&&(u=i),i>c&&(c=i),l>r&&(l=r),r>h&&(h=r));for(u>c&&(u=this._x0,c=this._x1),l>h&&(l=this._y0,h=this._y1),this.cover(u,l).cover(c,h),n=0;o>n;++n)Tt(this,a[n],s[n],t[n]);return this}function Dt(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(n>t||t>r||i>e||e>o))return this;var a,s,u=r-n,l=this._root;switch(s=((i+o)/2>e)<<1|(n+r)/2>t){case 0:do a=new Array(4),a[s]=l,l=a;while(u*=2,r=n+u,o=i+u,t>r||e>o);break;case 1:do a=new Array(4),a[s]=l,l=a;while(u*=2,n=r-u,o=i+u,n>t||e>o);break;case 2:do a=new Array(4),a[s]=l,l=a;while(u*=2,r=n+u,i=o-u,t>r||i>e);break;case 3:do a=new Array(4),a[s]=l,l=a;while(u*=2,n=r-u,i=o-u,n>t||i>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this}function At(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function $t(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Et(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Nt(t,e,n){var i,r,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new Et(v,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(v=u.node)||(r=u.x0)>f||(o=u.y0)>p||(a=u.x1)<c||(s=u.y1)<h))if(v.length){var m=(r+a)/2,g=(o+s)/2;d.push(new Et(v[3],m,g,a,s),new Et(v[2],r,g,m,s),new Et(v[1],m,o,a,g),new Et(v[0],r,o,m,g)),(l=(e>=g)<<1|t>=m)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var y=t-+this._x.call(null,v.data),_=e-+this._y.call(null,v.data),b=y*y+_*_;if(n>b){var x=Math.sqrt(n=b);c=t-x,h=e-x,f=t+x,p=e+x,i=v.data}}return i}function Pt(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,u,l,c,h,f,p=this._root,d=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(s=(d+m)/2))?d=s:m=s,(c=a>=(u=(v+g)/2))?v=u:g=u,e=p,!(p=p[h=c<<1|l]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=r,this)}function Ot(t){for(var e=0,n=t.length;n>e;++e)this.remove(t[e]);return this}function Ft(){return this._root}function It(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function zt(t){var e,n,i,r,o,a,s=[],u=this._root;for(u&&s.push(new Et(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(i+o)/2,c=(r+a)/2;(n=u[3])&&s.push(new Et(n,l,c,o,a)),(n=u[2])&&s.push(new Et(n,i,c,l,a)),(n=u[1])&&s.push(new Et(n,l,r,o,c)),(n=u[0])&&s.push(new Et(n,i,r,l,c))}return this}function Rt(t){var e,n=[],i=[];for(this._root&&n.push(new Et(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=r[0])&&n.push(new Et(o,a,s,c,h)),(o=r[1])&&n.push(new Et(o,c,s,u,h)),(o=r[2])&&n.push(new Et(o,a,h,c,l)),(o=r[3])&&n.push(new Et(o,c,h,u,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function Ut(t){return t[0]}function jt(t){return arguments.length?(this._x=t,this):this._x}function Lt(t){return t[1]}function qt(t){return arguments.length?(this._y=t,this):this._y}function Ht(t,e,n){var i=new Vt(null==e?Ut:e,null==n?Lt:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Vt(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function Bt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function Yt(t){if(!(t>=1))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Wt(t){if(!t._start)try{Kt(t)}catch(e){t._tasks[t._ended+t._active-1]&&Xt(t,e)}}function Kt(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=Gt(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||yv)}}function Gt(t,e){return function(n,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?Xt(t,n):(t._data[e]=i,t._waiting?Wt(t):Jt(t))))}}function Xt(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--i>=0;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,Jt(t)}function Jt(t){!t._active&&t._call&&t._call(t._error,t._data)}function Qt(t){return new Yt(arguments.length?+t:1/0)}function Zt(t){return function(){return t}}function te(t){return t.innerRadius}function ee(t){return t.outerRadius}function ne(t){return t.startAngle}function ie(t){return t.endAngle}function re(t){return t&&t.padAngle}function oe(t){return t>=1?xv:-1>=t?-xv:Math.asin(t)}function ae(t,e,n,i,r,o,a,s){var u=n-t,l=i-e,c=a-r,h=s-o,f=(c*(e-o)-h*(t-r))/(h*u-c*l);return[t+f*u,e+f*l]}function se(t,e,n,i,r,o,a){var s=t-n,u=e-i,l=(a?o:-o)/Math.sqrt(s*s+u*u),c=l*u,h=-l*s,f=t+c,p=e+h,d=n+c,v=i+h,m=(f+d)/2,g=(p+v)/2,y=d-f,_=v-p,b=y*y+_*_,x=r-o,w=f*v-d*p,k=(0>_?-1:1)*Math.sqrt(Math.max(0,x*x*b-w*w)),M=(w*_-y*k)/b,C=(-w*y-_*k)/b,T=(w*_+y*k)/b,S=(-w*y+_*k)/b,D=M-m,A=C-g,$=T-m,E=S-g;return D*D+A*A>$*$+E*E&&(M=T,C=S),{cx:M,cy:C,x01:-c,y01:-h,x11:M*(r/x-1),y11:C*(r/x-1)}}function ue(){function t(){var t,l,c=+e.apply(this,arguments),h=+n.apply(this,arguments),f=o.apply(this,arguments)-xv,p=a.apply(this,arguments)-xv,d=Math.abs(p-f),v=p>f;if(u||(u=t=Mt()),c>h&&(l=h,h=c,c=l),h>_v)if(d>wv-_v)u.moveTo(h*Math.cos(f),h*Math.sin(f)),u.arc(0,0,h,f,p,!v),c>_v&&(u.moveTo(c*Math.cos(p),c*Math.sin(p)),u.arc(0,0,c,p,f,v));else{var m,g,y=f,_=p,b=f,x=p,w=d,k=d,M=s.apply(this,arguments)/2,C=M>_v&&(r?+r.apply(this,arguments):Math.sqrt(c*c+h*h)),T=Math.min(Math.abs(h-c)/2,+i.apply(this,arguments)),S=T,D=T;if(C>_v){var A=oe(C/c*Math.sin(M)),$=oe(C/h*Math.sin(M));(w-=2*A)>_v?(A*=v?1:-1,b+=A,x-=A):(w=0,b=x=(f+p)/2),(k-=2*$)>_v?($*=v?1:-1,y+=$,_-=$):(k=0,y=_=(f+p)/2)}var E=h*Math.cos(y),N=h*Math.sin(y),P=c*Math.cos(x),O=c*Math.sin(x);if(T>_v){var F=h*Math.cos(_),I=h*Math.sin(_),z=c*Math.cos(b),R=c*Math.sin(b);if(bv>d){var U=w>_v?ae(E,N,z,R,F,I,P,O):[P,O],j=E-U[0],L=N-U[1],q=F-U[0],H=I-U[1],V=1/Math.sin(Math.acos((j*q+L*H)/(Math.sqrt(j*j+L*L)*Math.sqrt(q*q+H*H)))/2),B=Math.sqrt(U[0]*U[0]+U[1]*U[1]);S=Math.min(T,(c-B)/(V-1)),D=Math.min(T,(h-B)/(V+1))}}k>_v?D>_v?(m=se(z,R,E,N,h,D,v),g=se(F,I,P,O,h,D,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),T>D?u.arc(m.cx,m.cy,D,Math.atan2(m.y01,m.x01),Math.atan2(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,D,Math.atan2(m.y01,m.x01),Math.atan2(m.y11,m.x11),!v),u.arc(0,0,h,Math.atan2(m.cy+m.y11,m.cx+m.x11),Math.atan2(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,D,Math.atan2(g.y11,g.x11),Math.atan2(g.y01,g.x01),!v))):(u.moveTo(E,N),u.arc(0,0,h,y,_,!v)):u.moveTo(E,N),c>_v&&w>_v?S>_v?(m=se(P,O,F,I,c,-S,v),g=se(E,N,z,R,c,-S,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),T>S?u.arc(m.cx,m.cy,S,Math.atan2(m.y01,m.x01),Math.atan2(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,S,Math.atan2(m.y01,m.x01),Math.atan2(m.y11,m.x11),!v),u.arc(0,0,c,Math.atan2(m.cy+m.y11,m.cx+m.x11),Math.atan2(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,S,Math.atan2(g.y11,g.x11),Math.atan2(g.y01,g.x01),!v))):u.arc(0,0,c,x,b,v):u.lineTo(P,O)}else u.moveTo(0,0);return u.closePath(),t?(u=null,t+""||null):void 0}var e=te,n=ee,i=Zt(0),r=null,o=ne,a=ie,s=re,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-bv/2;return[Math.cos(i)*t,Math.sin(i)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Zt(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Zt(+e),t):n},t.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:Zt(+e),t):i},t.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Zt(+e),t):r},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:Zt(+e),t):o},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:Zt(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:Zt(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t}function le(t){this._context=t}function ce(t){return new le(t)}function he(t){return t[0]}function fe(t){return t[1]}function pe(){function t(t){var s,u,l,c=t.length,h=!1;for(null==r&&(a=o(l=Mt())),s=0;c>=s;++s)!(c>s&&i(u=t[s],s,t))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(u,s,t),+n(u,s,t));return l?(a=null,l+""||null):void 0}var e=he,n=fe,i=Zt(!0),r=null,o=ce,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Zt(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Zt(+e),t):n},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:Zt(!!e),t):i},t.curve=function(e){return arguments.length?(o=e,null!=r&&(a=o(r)),t):o},t.context=function(e){return arguments.length?(null==e?r=a=null:a=o(r=e),t):r},t}function de(){function t(t){var e,c,h,f,p,d=t.length,v=!1,m=new Array(d),g=new Array(d);for(null==s&&(l=u(p=Mt())),e=0;d>=e;++e){if(!(d>e&&a(f=t[e],e,t))===v)if(v=!v)c=e,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=e-1;h>=c;--h)l.point(m[h],g[h]);l.lineEnd(),l.areaEnd()}v&&(m[e]=+n(f,e,t),g[e]=+r(f,e,t),l.point(i?+i(f,e,t):m[e],o?+o(f,e,t):g[e]))}return p?(l=null,p+""||null):void 0}function e(){return pe().defined(a).curve(u).context(s)}var n=he,i=null,r=Zt(0),o=fe,a=Zt(!0),s=null,u=ce,l=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Zt(+e),i=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:Zt(+e),t):n},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:Zt(+e),t):i},t.y=function(e){return arguments.length?(r="function"==typeof e?e:Zt(+e),o=null,t):r},t.y0=function(e){return arguments.length?(r="function"==typeof e?e:Zt(+e),t):r},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:Zt(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(r)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(i).y(r)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:Zt(!!e),t):a},t.curve=function(e){return arguments.length?(u=e,null!=s&&(l=u(s)),t):u},t.context=function(e){return arguments.length?(null==e?s=l=null:l=u(s=e),t):s},t}function ve(t,e){return t>e?-1:e>t?1:e>=t?0:NaN}function me(t){return t}function ge(){function t(t){var s,u,l,c,h,f=t.length,p=0,d=new Array(f),v=new Array(f),m=+r.apply(this,arguments),g=Math.min(wv,Math.max(-wv,o.apply(this,arguments)-m)),y=Math.min(Math.abs(g)/f,a.apply(this,arguments)),_=y*(0>g?-1:1);for(s=0;f>s;++s)(h=v[d[s]=s]=+e(t[s],s,t))>0&&(p+=h);for(null!=n?d.sort(function(t,e){return n(v[t],v[e])}):null!=i&&d.sort(function(e,n){return i(t[e],t[n])}),s=0,l=p?(g-f*_)/p:0;f>s;++s,m=c)u=d[s],h=v[u],c=m+(h>0?h*l:0)+_,v[u]={data:t[u],index:s,value:h,startAngle:m,endAngle:c,padAngle:y};return v}var e=me,n=ve,i=null,r=Zt(0),o=Zt(wv),a=Zt(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Zt(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,i=null,t):n},t.sort=function(e){return arguments.length?(i=e,n=null,t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Zt(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Zt(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Zt(+e),t):a},t}function ye(t){this._curve=t}function _e(t){function e(e){return new ye(t(e))}return e._curve=t,e}function be(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(_e(t)):e()._curve},t}function xe(){return be(pe().curve(kv))}function we(){var t=de().curve(kv),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return be(n())},delete t.lineX0,t.lineEndAngle=function(){return be(i())},delete t.lineX1,t.lineInnerRadius=function(){return be(r())},delete t.lineY0,t.lineOuterRadius=function(){return be(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(_e(t)):e()._curve},t}function ke(){function t(){var t;return i||(i=t=Mt()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t?(i=null,t+""||null):void 0}var e=Zt(Mv),n=Zt(64),i=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:Zt(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:Zt(+e),t):n},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t}function Me(){}function Ce(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Te(t){this._context=t}function Se(t){return new Te(t)}function De(t){this._context=t}function Ae(t){return new De(t)}function $e(t){this._context=t}function Ee(t){return new $e(t)}function Ne(t,e){this._basis=new Te(t),this._beta=e}function Pe(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Oe(t,e){this._context=t,this._k=(1-e)/6}function Fe(t,e){this._context=t,this._k=(1-e)/6}function Ie(t,e){this._context=t,this._k=(1-e)/6}function ze(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>_v){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>_v){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function Re(t,e){this._context=t,this._alpha=e}function Ue(t,e){this._context=t,this._alpha=e}function je(t,e){this._context=t,this._alpha=e}function Le(t){this._context=t}function qe(t){return new Le(t)}function He(t){return 0>t?-1:1}function Ve(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||0>r&&-0),a=(n-t._y1)/(r||0>i&&-0),s=(o*r+a*i)/(i+r);return(He(o)+He(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Be(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ye(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function We(t){this._context=t}function Ke(t){this._context=new Ge(t)}function Ge(t){this._context=t}function Xe(t){return new We(t)}function Je(t){return new Ke(t)}function Qe(t){this._context=t}function Ze(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;i-1>e;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;i>e;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;i-1>e;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function tn(t){return new Qe(t)}function en(t,e){this._context=t,this._t=e}function nn(t){return new en(t,.5)}function rn(t){return new en(t,0)}function on(t){return new en(t,1)}function an(t,e){if((i=t.length)>1)for(var n,i,r=1,o=t[e[0]],a=o.length;i>r;++r){n=o,o=t[e[r]];for(var s=0;a>s;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}}function sn(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function un(t,e){return t[e]}function ln(){function t(t){var o,a,s=e.apply(this,arguments),u=t.length,l=s.length,c=new Array(l);for(o=0;l>o;++o){for(var h,f=s[o],p=c[o]=new Array(u),d=0;u>d;++d)p[d]=h=[0,+r(t[d],f,d,t)],h.data=t[d];p.key=f}for(o=0,a=n(c);l>o;++o)c[a[o]].index=o;return i(c,a),c}var e=Zt([]),n=sn,i=an,r=un;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:Zt(Xv.call(n)),t):e},t.value=function(e){return arguments.length?(r="function"==typeof e?e:Zt(+e),t):r},t.order=function(e){return arguments.length?(n=null==e?sn:"function"==typeof e?e:Zt(Xv.call(e)),t):n},t.offset=function(e){return arguments.length?(i=null==e?an:e,t):i},t}function cn(t,e){if((i=t.length)>0){for(var n,i,r,o=0,a=t[0].length;a>o;++o){for(r=n=0;i>n;++n)r+=t[n][o][1]||0;if(r)for(n=0;i>n;++n)t[n][o][1]/=r}an(t,e)}}function hn(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;o>i;++i){for(var a=0,s=0;n>a;++a)s+=t[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}an(t,e)}}function fn(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,a=1;i>a;++a){for(var s=0,u=0,l=0;r>s;++s){for(var c=t[e[s]],h=c[a][1]||0,f=c[a-1][1]||0,p=(h-f)/2,d=0;s>d;++d){var v=t[e[d]],m=v[a][1]||0,g=v[a-1][1]||0;p+=m-g}u+=h,l+=p*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,an(t,e)}}function pn(t){var e=t.map(dn);return sn(t).sort(function(t,n){return e[t]-e[n]})}function dn(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function vn(t){return pn(t).reverse()}function mn(t){var e,n,i=t.length,r=t.map(dn),o=sn(t).sort(function(t,e){return r[e]-r[t]}),a=0,s=0,u=[],l=[];for(e=0;i>e;++e)n=o[e],s>a?(a+=r[n],u.push(n)):(s+=r[n],l.push(n));return l.reverse().concat(u)}function gn(t){return sn(t).reverse()}function yn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _n(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function bn(){}function xn(t){var e;return t=(t+"").trim().toLowerCase(),(e=Zv.exec(t))?(e=parseInt(e[1],16),new Tn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=tm.exec(t))?wn(parseInt(e[1],16)):(e=em.exec(t))?new Tn(e[1],e[2],e[3],1):(e=nm.exec(t))?new Tn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=im.exec(t))?kn(e[1],e[2],e[3],e[4]):(e=rm.exec(t))?kn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=om.exec(t))?Sn(e[1],e[2]/100,e[3]/100,1):(e=am.exec(t))?Sn(e[1],e[2]/100,e[3]/100,e[4]):sm.hasOwnProperty(t)?wn(sm[t]):"transparent"===t?new Tn(NaN,NaN,NaN,0):null}function wn(t){return new Tn(t>>16&255,t>>8&255,255&t,1)}function kn(t,e,n,i){return 0>=i&&(t=e=n=NaN),new Tn(t,e,n,i)}function Mn(t){return t instanceof bn||(t=xn(t)),t?(t=t.rgb(),new Tn(t.r,t.g,t.b,t.opacity)):new Tn}function Cn(t,e,n,i){return 1===arguments.length?Mn(t):new Tn(t,e,n,null==i?1:i)}function Tn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Sn(t,e,n,i){return 0>=i?t=e=n=NaN:0>=n||n>=1?t=e=NaN:0>=e&&(t=NaN),new $n(t,e,n,i)}function Dn(t){if(t instanceof $n)return new $n(t.h,t.s,t.l,t.opacity);if(t instanceof bn||(t=xn(t)),!t)return new $n;if(t instanceof $n)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(i>n):n===o?(i-e)/s+2:(e-n)/s+4,s/=.5>u?o+r:2-o-r,a*=60):s=u>0&&1>u?0:a,new $n(a,s,u,t.opacity)}function An(t,e,n,i){return 1===arguments.length?Dn(t):new $n(t,e,n,null==i?1:i)}function $n(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function En(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function Nn(t){if(t instanceof On)return new On(t.l,t.a,t.b,t.opacity);if(t instanceof Ln){var e=t.h*um;return new On(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Tn||(t=Mn(t));var n=Rn(t.r),i=Rn(t.g),r=Rn(t.b),o=Fn((.4124564*n+.3575761*i+.1804375*r)/hm),a=Fn((.2126729*n+.7151522*i+.072175*r)/fm),s=Fn((.0193339*n+.119192*i+.9503041*r)/pm);return new On(116*a-16,500*(o-a),200*(a-s),t.opacity)}function Pn(t,e,n,i){return 1===arguments.length?Nn(t):new On(t,e,n,null==i?1:i)}function On(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Fn(t){return t>gm?Math.pow(t,1/3):t/mm+dm}function In(t){return t>vm?t*t*t:mm*(t-dm)}function zn(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Rn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Un(t){if(t instanceof Ln)return new Ln(t.h,t.c,t.l,t.opacity);t instanceof On||(t=Nn(t));var e=Math.atan2(t.b,t.a)*lm;return new Ln(0>e?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function jn(t,e,n,i){return 1===arguments.length?Un(t):new Ln(t,e,n,null==i?1:i)}function Ln(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function qn(t){if(t instanceof Vn)return new Vn(t.h,t.s,t.l,t.opacity);t instanceof Tn||(t=Mn(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Cm*i+km*e-Mm*n)/(Cm+km-Mm),o=i-r,a=(wm*(n-r)-bm*o)/xm,s=Math.sqrt(a*a+o*o)/(wm*r*(1-r)),u=s?Math.atan2(a,o)*lm-120:NaN;return new Vn(0>u?u+360:u,s,r,t.opacity)}function Hn(t,e,n,i){return 1===arguments.length?qn(t):new Vn(t,e,n,null==i?1:i)}function Vn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Bn(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}function Yn(t){var e=t.length-1;return function(n){var i=0>=n?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=e-1>i?t[i+2]:2*o-r;return Bn((n-i/e)*e,a,r,o,s)}}function Wn(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return Bn((n-i/e)*e,r,o,a,s)}}function Kn(t){return function(){return t}}function Gn(t,e){return function(n){return t+n*e}}function Xn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Jn(t,e){var n=e-t;return n?Gn(t,n>180||-180>n?n-360*Math.round(n/360):n):Kn(isNaN(t)?e:t)}function Qn(t){return 1===(t=+t)?Zn:function(e,n){return n-e?Xn(e,n,t):Kn(isNaN(e)?n:e)}}function Zn(t,e){var n=e-t;return n?Gn(t,n):Kn(isNaN(t)?e:t)}function ti(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;r>n;++n)i=Cn(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}function ei(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),a=new Array(i);for(n=0;r>n;++n)o[n]=ui(t[n],e[n]);for(;i>n;++n)a[n]=e[n];return function(t){for(n=0;r>n;++n)a[n]=o[n](t);return a}}function ni(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}}function ii(t,e){return t=+t,e-=t,function(n){return t+e*n}}function ri(t,e){var n,i={},r={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?i[n]=ui(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}function oi(t){return function(){return t}}function ai(t){return function(e){return t(e)+""}}function si(t,e){var n,i,r,o=Pm.lastIndex=Om.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Pm.exec(t))&&(i=Om.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:ii(n,i)})),o=Om.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?ai(u[0].x):oi(e):(e=u.length,function(t){for(var n,i=0;e>i;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function ui(t,e){var n,i=typeof e;return null==e||"boolean"===i?Kn(e):("number"===i?ii:"string"===i?(n=xn(e))?(e=n,$m):si:e instanceof xn?$m:e instanceof Date?ni:Array.isArray(e)?ei:isNaN(e)?ri:ii)(t,e)}function li(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}function ci(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),e*n>t*i&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Fm,skewX:Math.atan(u)*Fm,scaleX:a,scaleY:s}}function hi(t){return"none"===t?Im:(Tm||(Tm=document.createElement("DIV"),Sm=document.documentElement,Dm=document.defaultView),Tm.style.transform=t,t=Dm.getComputedStyle(Sm.appendChild(Tm),null).getPropertyValue("transform"),Sm.removeChild(Tm),t=t.slice(7,-1).split(","),ci(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function fi(t){return null==t?Im:(Am||(Am=document.createElementNS("http://www.w3.org/2000/svg","g")),Am.setAttribute("transform",t),(t=Am.transform.baseVal.consolidate())?(t=t.matrix,ci(t.a,t.b,t.c,t.d,t.e,t.f)):Im)}function pi(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,a,s){if(t!==r||i!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:ii(t,r)},{i:u-2,x:ii(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:ii(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function s(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:ii(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:ii(t,n)},{i:s-2,x:ii(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),a(e.rotate,n.rotate,i,r),s(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function di(t){return((t=Math.exp(t))+1/t)/2}function vi(t){return((t=Math.exp(t))-1/t)/2}function mi(t){return((t=Math.exp(2*t))-1)/(t+1)}function gi(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-r,h=u-o,f=c*c+h*h;if(qm>f)i=Math.log(l/a)/Um,n=function(t){return[r+t*c,o+t*h,a*Math.exp(Um*t*i)]};else{var p=Math.sqrt(f),d=(l*l-a*a+Lm*f)/(2*a*jm*p),v=(l*l-a*a-Lm*f)/(2*l*jm*p),m=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(v*v+1)-v);i=(g-m)/Um,n=function(t){var e=t*i,n=di(m),s=a/(jm*p)*(n*mi(Um*e+m)-vi(m));return[r+s*c,o+s*h,a*n/di(Um*e+m)]}}return n.duration=1e3*i,n}function yi(t){return function(e,n){var i=t((e=An(e)).h,(n=An(n)).h),r=Zn(e.s,n.s),o=Zn(e.l,n.l),a=Zn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=a(t),e+""}}}function _i(t,e){var n=Zn((t=Pn(t)).l,(e=Pn(e)).l),i=Zn(t.a,e.a),r=Zn(t.b,e.b),o=Zn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function bi(t){return function(e,n){var i=t((e=jn(e)).h,(n=jn(n)).h),r=Zn(e.c,n.c),o=Zn(e.l,n.l),a=Zn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=a(t),e+""}}}function xi(t){return function e(n){function i(e,i){var r=t((e=Hn(e)).h,(i=Hn(i)).h),o=Zn(e.s,i.s),a=Zn(e.l,i.l),s=Zn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}function wi(t,e){for(var n=new Array(e),i=0;e>i;++i)n[i]=t(i/(e-1));return n}function ki(){for(var t,e=0,n=arguments.length,i={};n>e;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Mi(i)}function Mi(t){this._=t}function Ci(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function Ti(t,e){for(var n,i=0,r=t.length;r>i;++i)if((n=t[i]).name===e)return n.value}function Si(t,e,n){for(var i=0,r=t.length;r>i;++i)if(t[i].name===e){t[i]=Gm,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function Di(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Ai(t,e){var n=Di(t);return function(i,r){return e(n(i),r,t)}}function $i(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function Ei(t){function e(t,e){var i,r,o=n(t,function(t,n){return i?i(t,n-1):(r=t,void(i=e?Ai(t,e):Di(t)))});return o.columns=r,o}function n(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e,n=c;if(34===t.charCodeAt(n)){for(var i=n;i++<l;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return c=i+2,e=t.charCodeAt(i+1),13===e?(r=!0,10===t.charCodeAt(i+2)&&++c):10===e&&(r=!0),t.slice(n+1,i).replace(/""/g,'"')}for(;l>c;){var s=1;if(e=t.charCodeAt(c++),10===e)r=!0;else if(13===e)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(e!==u)continue;return t.slice(n,c-s)}return t.slice(n)}for(var i,r,o={},a={},s=[],l=t.length,c=0,h=0;(i=n())!==a;){for(var f=[];i!==o&&i!==a;)f.push(i),i=n();e&&null==(f=e(f,h++))||s.push(f)}return s}function i(e,n){return null==n&&(n=$i(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")}function r(t){return t.map(o).join("\n")}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return{parse:e,parseRows:n,format:i,formatRows:r}}function Ni(t,e){function n(t){var e,n=l.status;if(!n&&Oi(l)||n>=200&&300>n||304===n){if(o)try{e=o.call(i,l)}catch(r){return void s.call("error",i,r)}else e=l;s.call("load",i,e)}else s.call("error",i,t)}var i,r,o,a,s=ki("beforesend","progress","load","error"),u=P(),l=new XMLHttpRequest,c=null,h=null,f=0;if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=n:l.onreadystatechange=function(t){l.readyState>3&&n(t)},l.onprogress=function(t){s.call("progress",i,t)},i={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),i)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",i):r},responseType:function(t){return arguments.length?(a=t,i):a},timeout:function(t){return arguments.length?(f=+t,i):f},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",i)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",i)},response:function(t){return o=t,i},get:function(t,e){return i.send("GET",t,e)},post:function(t,e){return i.send("POST",t,e)},send:function(e,n,o){return l.open(e,t,!0,c,h),null==r||u.has("accept")||u.set("accept",r+",*/*"),l.setRequestHeader&&u.each(function(t,e){l.setRequestHeader(e,t)}),null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=a&&(l.responseType=a),f>0&&(l.timeout=f),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=Pi(o)),null!=o&&i.on("error",o).on("load",function(t){
o(null,t)}),s.call("beforesend",i,l),l.send(null==n?null:n),i},abort:function(){return l.abort(),i},on:function(){var t=s.on.apply(s,arguments);return t===s?i:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return i.get(e)}return i}function Pi(t){return function(e,n){t(null==e?n:null)}}function Oi(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Fi(t,e){return function(n,i){var r=Ni(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}}function Ii(t,e){return function(n,i,r){arguments.length<3&&(r=i,i=null);var o=Ni(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(zi(e,i=t)):i},o.row(i),r?o.get(r):o}}function zi(t,e){return function(n){return t(n.responseText,e)}}function Ri(){return _g||(wg(Ui),_g=xg.now()+bg)}function Ui(){_g=0}function ji(){this._call=this._time=this._next=null}function Li(t,e,n){var i=new ji;return i.restart(t,e,n),i}function qi(){Ri(),++dg;for(var t,e=Xm;e;)(t=_g-e._time)>=0&&e._call.call(null,t),e=e._next;--dg}function Hi(t){_g=(yg=t||xg.now())+bg,dg=vg=0;try{qi()}finally{dg=0,Bi(),_g=0}}function Vi(){var t=xg.now(),e=t-yg;e>gg&&(bg-=e,yg=t)}function Bi(){for(var t,e,n=Xm,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xm=e);Jm=t,Yi(i)}function Yi(t){if(!dg){vg&&(vg=clearTimeout(vg));var e=t-_g;e>24?(1/0>t&&(vg=setTimeout(Hi,e)),mg&&(mg=clearInterval(mg))):(mg||(mg=setInterval(Vi,gg)),dg=1,wg(Hi))}}function Wi(t,e,n){var i=new ji;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}function Ki(t,e,n){var i=new ji,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Ri():+n,i.restart(function o(a){a+=r,i.restart(o,r+=e,n),t(a)},e,n),i)}function Gi(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return n-t>t-e?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(i>n&&o>0))return a;do a.push(new Date(+n));while(e(n,o),t(n),i>n);return a},r.filter=function(n){return Gi(function(e){for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return kg.setTime(+e),Mg.setTime(+i),t(kg),t(Mg),Math.floor(n(kg,Mg))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t===0}:function(e){return r.count(0,e)%t===0}):r:null}),r}function Xi(t){return Gi(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dg)/Eg})}function Ji(t){return Gi(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Eg})}function Qi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Zi(t){return t=Qi(Math.abs(t)),t?t[1]:NaN}function tr(t,e){return function(n,i){for(var r=n.length,o=[],a=0,s=t[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function er(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;i>r;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function nr(t,e){var n=Qi(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Sy=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Qi(t,Math.max(0,e+o-1))[0]}function ir(t,e){var n=Qi(t,e);if(!n)return t+"";var i=n[0],r=n[1];return 0>r?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}function rr(t){return new or(t)}function or(t){if(!(e=$y.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):Ay[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function ar(t){return t}function sr(t){function e(t){function e(t){var e,r,u,y=d,_=v;if("c"===p)_=m(t)+_,t="";else{t=+t;var b=(0>t||0>1/t)&&(t*=-1,!0);if(t=m(t,f),b)for(e=-1,r=t.length,b=!1;++e<r;)if(u=t.charCodeAt(e),u>48&&58>u||"x"===p&&u>96&&103>u||"X"===p&&u>64&&71>u){b=!0;break}if(y=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+y,_=_+("s"===p?Ny[8+Sy/3]:"")+(b&&"("===s?")":""),g)for(e=-1,r=t.length;++e<r;)if(u=t.charCodeAt(e),48>u||u>57){_=(46===u?o+t.slice(e+1):t.slice(e))+_,t=t.slice(0,e);break}}h&&!l&&(t=i(t,1/0));var x=y.length+t.length+_.length,w=c>x?new Array(c-x+1).join(n):"";switch(h&&l&&(t=i(w+t,w.length?c-_.length:1/0),w=""),a){case"<":return y+t+_+w;case"=":return y+w+t+_;case"^":return w.slice(0,x=w.length>>1)+y+t+_+w.slice(x)}return w+y+t+_}t=rr(t);var n=t.fill,a=t.align,s=t.sign,u=t.symbol,l=t.zero,c=t.width,h=t.comma,f=t.precision,p=t.type,d="$"===u?r[0]:"#"===u&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",v="$"===u?r[1]:/[%p]/.test(p)?"%":"",m=Ay[p],g=!p||/[defgprs%]/.test(p);return f=null==f?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),e.toString=function(){return t+""},e}function n(t,n){var i=e((t=rr(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Zi(n)/3))),o=Math.pow(10,-r),a=Ny[8+r/3];return function(t){return i(o*t)+a}}var i=t.grouping&&t.thousands?tr(t.grouping,t.thousands):ar,r=t.currency,o=t.decimal;return{format:e,formatPrefix:n}}function ur(e){return Ey=sr(e),t.format=Ey.format,t.formatPrefix=Ey.formatPrefix,Ey}function lr(t){return Math.max(0,-Zi(Math.abs(t)))}function cr(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Zi(e)/3)))-Zi(Math.abs(t)))}function hr(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zi(e)-Zi(t))+1}function fr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dr(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function vr(t){function e(t,e){return function(n){var i,r,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=Oy[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var r=dr(1900),o=i(r,t,n+="",0);if(o!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var a="Z"in r?pr(dr(r.y)).getUTCDay():e(dr(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(a+5)%7:r.w+7*r.U-(a+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,pr(r)):e(r)}}function i(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;s>a;){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(r=e.charAt(a++),o=q[r in Oy?e.charAt(a++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function r(t,e,n){var i=$.exec(e.slice(n));return i?(t.p=E[i[0].toLowerCase()],n+i[0].length):-1}function o(t,e,n){var i=O.exec(e.slice(n));return i?(t.w=F[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=N.exec(e.slice(n));return i?(t.w=P[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=R.exec(e.slice(n));return i?(t.m=U[i[0].toLowerCase()],n+i[0].length):-1}function u(t,e,n){var i=I.exec(e.slice(n));return i?(t.m=z[i[0].toLowerCase()],n+i[0].length):-1}function l(t,e,n){return i(t,w,e,n)}function c(t,e,n){return i(t,k,e,n)}function h(t,e,n){return i(t,M,e,n)}function f(t){return S[t.getDay()]}function p(t){return T[t.getDay()]}function d(t){return A[t.getMonth()]}function v(t){return D[t.getMonth()]}function m(t){return C[+(t.getHours()>=12)]}function g(t){return S[t.getUTCDay()]}function y(t){return T[t.getUTCDay()]}function _(t){return A[t.getUTCMonth()]}function b(t){return D[t.getUTCMonth()]}function x(t){return C[+(t.getUTCHours()>=12)]}var w=t.dateTime,k=t.date,M=t.time,C=t.periods,T=t.days,S=t.shortDays,D=t.months,A=t.shortMonths,$=yr(C),E=_r(C),N=yr(T),P=_r(T),O=yr(S),F=_r(S),I=yr(D),z=_r(D),R=yr(A),U=_r(A),j={a:f,A:p,b:d,B:v,c:null,d:Or,e:Or,H:Fr,I:Ir,j:zr,L:Rr,m:Ur,M:jr,p:m,S:Lr,U:qr,w:Hr,W:Vr,x:null,X:null,y:Br,Y:Yr,Z:Wr,"%":uo},L={a:g,A:y,b:_,B:b,c:null,d:Kr,e:Kr,H:Gr,I:Xr,j:Jr,L:Qr,m:Zr,M:to,p:x,S:eo,U:no,w:io,W:ro,x:null,X:null,y:oo,Y:ao,Z:so,"%":uo},q={a:o,A:a,b:s,B:u,c:l,d:Sr,e:Sr,H:Ar,I:Ar,j:Dr,L:Nr,m:Tr,M:$r,p:r,S:Er,U:xr,w:br,W:wr,x:c,X:h,y:Mr,Y:kr,Z:Cr,"%":Pr};return j.x=e(k,j),j.X=e(M,j),j.c=e(w,j),L.x=e(k,L),L.X=e(M,L),L.c=e(w,L),{format:function(t){var n=e(t+="",j);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",fr);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",L);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,pr);return e.toString=function(){return t},e}}}function mr(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function gr(t){return t.replace(zy,"\\$&")}function yr(t){return new RegExp("^(?:"+t.map(gr).join("|")+")","i")}function _r(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function br(t,e,n){var i=Fy.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function xr(t,e,n){var i=Fy.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function wr(t,e,n){var i=Fy.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function kr(t,e,n){var i=Fy.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Mr(t,e,n){var i=Fy.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Cr(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Tr(t,e,n){var i=Fy.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Sr(t,e,n){var i=Fy.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Dr(t,e,n){var i=Fy.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Ar(t,e,n){var i=Fy.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function $r(t,e,n){var i=Fy.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Er(t,e,n){var i=Fy.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Nr(t,e,n){var i=Fy.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Pr(t,e,n){var i=Iy.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Or(t,e){return mr(t.getDate(),e,2)}function Fr(t,e){return mr(t.getHours(),e,2)}function Ir(t,e){return mr(t.getHours()%12||12,e,2)}function zr(t,e){return mr(1+Rg.count(ny(t),t),e,3)}function Rr(t,e){return mr(t.getMilliseconds(),e,3)}function Ur(t,e){return mr(t.getMonth()+1,e,2)}function jr(t,e){return mr(t.getMinutes(),e,2)}function Lr(t,e){return mr(t.getSeconds(),e,2)}function qr(t,e){return mr(jg.count(ny(t),t),e,2)}function Hr(t){return t.getDay()}function Vr(t,e){return mr(Lg.count(ny(t),t),e,2)}function Br(t,e){return mr(t.getFullYear()%100,e,2)}function Yr(t,e){return mr(t.getFullYear()%1e4,e,4)}function Wr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mr(e/60|0,"0",2)+mr(e%60,"0",2)}function Kr(t,e){return mr(t.getUTCDate(),e,2)}function Gr(t,e){return mr(t.getUTCHours(),e,2)}function Xr(t,e){return mr(t.getUTCHours()%12||12,e,2)}function Jr(t,e){return mr(1+uy.count(Ty(t),t),e,3)}function Qr(t,e){return mr(t.getUTCMilliseconds(),e,3)}function Zr(t,e){return mr(t.getUTCMonth()+1,e,2)}function to(t,e){return mr(t.getUTCMinutes(),e,2)}function eo(t,e){return mr(t.getUTCSeconds(),e,2)}function no(t,e){return mr(cy.count(Ty(t),t),e,2)}function io(t){return t.getUTCDay()}function ro(t,e){return mr(hy.count(Ty(t),t),e,2)}function oo(t,e){return mr(t.getUTCFullYear()%100,e,2)}function ao(t,e){return mr(t.getUTCFullYear()%1e4,e,4)}function so(){return"+0000"}function uo(){return"%"}function lo(e){return Py=vr(e),t.timeFormat=Py.format,t.timeParse=Py.parse,t.utcFormat=Py.utcFormat,t.utcParse=Py.utcParse,Py}function co(t){return t.toISOString()}function ho(t){var e=new Date(t);return isNaN(e)?null:e}function fo(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(r!==Vy)return r;n.set(o,a=i.push(e))}return t[(a-1)%t.length]}var n=P(),i=[],r=Vy;return t=null==t?[]:Hy.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],n=P();for(var r,o,a=-1,s=t.length;++a<s;)n.has(o=(r=t[a])+"")||n.set(o,i.push(r));return e},e.range=function(n){return arguments.length?(t=Hy.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(r=t,e):r},e.copy=function(){return fo().domain(i).range(t).unknown(r)},e}function po(){function t(){var t=r().length,i=a[1]<a[0],f=a[i-0],p=a[1-i];e=(p-f)/Math.max(1,t-u+2*l),s&&(e=Math.floor(e)),f+=(p-f-e*(t-u))*c,n=e*(1-u),s&&(f=Math.round(f),n=Math.round(n));var d=h(t).map(function(t){return f+e*t});return o(i?d.reverse():d)}var e,n,i=fo().unknown(void 0),r=i.domain,o=i.range,a=[0,1],s=!1,u=0,l=0,c=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(r(e),t()):r()},i.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},i.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,t()},i.bandwidth=function(){return n},i.step=function(){return e},i.round=function(e){return arguments.length?(s=!!e,t()):s},i.padding=function(e){return arguments.length?(u=l=Math.max(0,Math.min(1,e)),t()):u},i.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},i.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},i.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},i.copy=function(){return po().domain(r()).range(a).round(s).paddingInner(u).paddingOuter(l).align(c)},t()}function vo(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vo(e())},t}function mo(){return vo(po().paddingInner(1))}function go(t){return function(){return t}}function yo(t){return+t}function _o(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:go(e)}function bo(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return e>=t?0:t>=n?1:i(t)}}}function xo(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return 0>=t?e:t>=1?n:i(t)}}}function wo(t,e,n,i){var r=t[0],o=t[1],a=e[0],s=e[1];return r>o?(r=n(o,r),a=i(s,a)):(r=n(r,o),a=i(a,s)),function(t){return a(r(t))}}function ko(t,e,n,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)o[s]=n(t[s],t[s+1]),a[s]=i(e[s],e[s+1]);return function(e){var n=$d(t,e,1,r)-1;return a[n](o[n](e))}}function Mo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Co(t,e){function n(){return r=Math.min(s.length,u.length)>2?ko:wo,o=a=null,i}function i(e){return(o||(o=r(s,u,c?bo(t):t,l)))(+e)}var r,o,a,s=By,u=By,l=ui,c=!1;return i.invert=function(t){return(a||(a=r(u,s,_o,c?xo(e):e)))(+t)},i.domain=function(t){return arguments.length?(s=qy.call(t,yo),n()):s.slice()},i.range=function(t){return arguments.length?(u=Hy.call(t),n()):u.slice()},i.rangeRound=function(t){return u=Hy.call(t),l=li,n()},i.clamp=function(t){return arguments.length?(c=!!t,n()):c},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function To(e,n,i){var r,o=e[0],a=e[e.length-1],s=p(o,a,null==n?10:n);switch(i=rr(null==i?",f":i),i.type){case"s":var u=Math.max(Math.abs(o),Math.abs(a));return null!=i.precision||isNaN(r=cr(s,u))||(i.precision=r),t.formatPrefix(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=hr(s,Math.max(Math.abs(o),Math.abs(a))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=lr(s))||(i.precision=r-2*("%"===i.type))}return t.format(i)}function So(t){var e=t.domain;return t.ticks=function(t){var n=e();return f(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return To(e(),t,n)},t.nice=function(n){var i=e(),r=i.length-1,o=null==n?10:n,a=i[0],s=i[r],u=p(a,s,o);return u&&(u=p(Math.floor(a/u)*u,Math.ceil(s/u)*u,o),i[0]=Math.floor(a/u)*u,i[r]=Math.ceil(s/u)*u,e(i)),t},t}function Do(){var t=Co(_o,ii);return t.copy=function(){return Mo(t,Do())},So(t)}function Ao(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=qy.call(n,yo),t):e.slice()},t.copy=function(){return Ao().domain(e)},So(t)}function $o(t,e){t=t.slice();var n,i=0,r=t.length-1,o=t[i],a=t[r];return o>a&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Eo(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:go(e)}function No(t,e){return 0>t?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Po(t){return isFinite(t)?+("1e"+t):0>t?0:t}function Oo(t){return 10===t?Po:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Fo(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Io(t){return function(e){return-t(-e)}}function zo(){function e(){return o=Fo(r),a=Oo(r),i()[0]<0&&(o=Io(o),a=Io(a)),n}var n=Co(Eo,No).domain([1,10]),i=n.domain,r=10,o=Fo(10),a=Oo(10);return n.base=function(t){return arguments.length?(r=+t,e()):r},n.domain=function(t){return arguments.length?(i(t),e()):i()},n.ticks=function(t){var e,n=i(),s=n[0],u=n[n.length-1];(e=s>u)&&(p=s,s=u,u=p);var l,c,h,p=o(s),d=o(u),v=null==t?10:+t,m=[];if(!(r%1)&&v>d-p){if(p=Math.round(p)-1,d=Math.round(d)+1,s>0){for(;d>p;++p)for(c=1,l=a(p);r>c;++c)if(h=l*c,!(s>h)){if(h>u)break;m.push(h)}}else for(;d>p;++p)for(c=r-1,l=a(p);c>=1;--c)if(h=l*c,!(s>h)){if(h>u)break;m.push(h)}}else m=f(p,d,Math.min(d-p,v)).map(a);return e?m.reverse():m},n.tickFormat=function(e,i){if(null==i&&(i=10===r?".0e":","),"function"!=typeof i&&(i=t.format(i)),e===1/0)return i;null==e&&(e=10);var s=Math.max(1,r*e/n.ticks().length);return function(t){var e=t/a(Math.round(o(t)));return r-.5>e*r&&(e*=r),s>=e?i(t):""}},n.nice=function(){return i($o(i(),{floor:function(t){return a(Math.floor(o(t)))},ceil:function(t){return a(Math.ceil(o(t)))}}))},n.copy=function(){return Mo(n,zo().base(r))},n}function Ro(t,e){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}function Uo(){function t(t,e){return(e=Ro(e,n)-(t=Ro(t,n)))?function(i){return(Ro(i,n)-t)/e}:go(e)}function e(t,e){return e=Ro(e,n)-(t=Ro(t,n)),function(i){return Ro(t+e*i,1/n)}}var n=1,i=Co(t,e),r=i.domain;return i.exponent=function(t){return arguments.length?(n=+t,r(r())):n},i.copy=function(){return Mo(i,Uo().exponent(n))},So(i)}function jo(){return Uo().exponent(.5)}function Lo(){function t(){var t=0,e=Math.max(1,r.length);for(o=new Array(e-1);++t<e;)o[t-1]=m(i,t/e);return n}function n(t){return isNaN(t=+t)?void 0:r[$d(o,t)]}var i=[],r=[],o=[];return n.invertExtent=function(t){var e=r.indexOf(t);return 0>e?[NaN,NaN]:[e>0?o[e-1]:i[0],e<o.length?o[e]:i[i.length-1]]},n.domain=function(n){if(!arguments.length)return i.slice();i=[];for(var r,o=0,a=n.length;a>o;++o)r=n[o],null==r||isNaN(r=+r)||i.push(r);return i.sort(e),t()},n.range=function(e){return arguments.length?(r=Hy.call(e),t()):r.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return Lo().domain(i).range(r)},n}function qo(){function t(t){return t>=t?a[$d(o,t,0,r)]:void 0}function e(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*i-(e-r)*n)/(r+1);return t}var n=0,i=1,r=1,o=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],e()):[n,i]},t.range=function(t){return arguments.length?(r=(a=Hy.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return 0>e?[NaN,NaN]:1>e?[n,o[0]]:e>=r?[o[r-1],i]:[o[e-1],o[e]]},t.copy=function(){return qo().domain([n,i]).range(a)},So(t)}function Ho(){function t(t){return t>=t?n[$d(e,t,0,i)]:void 0}var e=[.5],n=[0,1],i=1;return t.domain=function(r){return arguments.length?(e=Hy.call(r),i=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(r){return arguments.length?(n=Hy.call(r),i=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},t.copy=function(){return Ho().domain(e).range(n)},t}function Vo(t){return new Date(t)}function Bo(t){return t instanceof Date?+t:+new Date(+t)}function Yo(t,e,i,r,o,a,s,u,l){function c(n){return(s(n)<n?m:a(n)<n?g:o(n)<n?y:r(n)<n?_:e(n)<n?i(n)<n?b:x:t(n)<n?w:k)(n)}function h(e,i,r,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(r-i)/e,s=n(function(t){return t[2]}).right(M,a);s===M.length?(o=p(i/Qy,r/Qy,e),e=t):s?(s=M[a/M[s-1][2]<M[s][2]/a?s-1:s],o=s[1],e=s[0]):(o=p(i,r,e),e=u)}return null==o?e:e.every(o)}var f=Co(_o,ii),d=f.invert,v=f.domain,m=l(".%L"),g=l(":%S"),y=l("%I:%M"),_=l("%I %p"),b=l("%a %d"),x=l("%b %d"),w=l("%B"),k=l("%Y"),M=[[s,1,Yy],[s,5,5*Yy],[s,15,15*Yy],[s,30,30*Yy],[a,1,Wy],[a,5,5*Wy],[a,15,15*Wy],[a,30,30*Wy],[o,1,Ky],[o,3,3*Ky],[o,6,6*Ky],[o,12,12*Ky],[r,1,Gy],[r,2,2*Gy],[i,1,Xy],[e,1,Jy],[e,3,3*Jy],[t,1,Qy]];return f.invert=function(t){return new Date(d(t))},f.domain=function(t){return arguments.length?v(qy.call(t,Bo)):v().map(Vo)},f.ticks=function(t,e){var n,i=v(),r=i[0],o=i[i.length-1],a=r>o;return a&&(n=r,r=o,o=n),n=h(t,r,o,e),n=n?n.range(r,o+1):[],a?n.reverse():n},f.tickFormat=function(t,e){return null==e?c:l(e)},f.nice=function(t,e){var n=v();return(t=h(t,n[0],n[n.length-1],e))?v($o(n,t)):f},f.copy=function(){return Mo(f,Yo(t,e,i,r,o,a,s,u,l))},f}function Wo(){return Yo(ny,ty,jg,Rg,Ig,Og,Ng,Cg,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function Ko(){return Yo(Ty,My,cy,uy,ay,ry,Ng,Cg,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function Go(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Xo(t){(0>t||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return a_.h=360*t-100,a_.s=1.5-1.5*e,a_.l=.8-.9*e,a_+""}function Jo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Qo(t){function e(e){var o=(e-n)/(i-n);return t(r?Math.max(0,Math.min(1,o)):o)}var n=0,i=1,r=!1;return e.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.clamp=function(t){return arguments.length?(r=!!t,e):r},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return Qo(t).domain([n,i]).clamp(r)},So(e)}function Zo(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),f_.hasOwnProperty(e)?{space:f_[e],local:t}:t}function ta(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===h_&&e.documentElement.namespaceURI===h_?e.createElement(t):e.createElementNS(n,t)}}function ea(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function na(t){var e=Zo(t);return(e.local?ea:ta)(e)}function ia(){return new ra}function ra(){this._="@"+(++p_).toString(36)}function oa(t,e,n){return t=aa(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function aa(e,n,i){return function(r){var o=t.event;t.event=r;try{e.call(this,this.__data__,n,i)}finally{t.event=o}}}function sa(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function ua(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function la(t,e,n){var i=y_.hasOwnProperty(t.type)?oa:aa;return function(r,o,a){var s,u=this.__on,l=i(e,o,a);if(u)for(var c=0,h=u.length;h>c;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function ca(t,e,n){var i,r,o=sa(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?la:ua,null==n&&(n=!1),i=0;a>i;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;c>l;++l)for(i=0,u=s[l];a>i;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value}}function ha(e,n,i,r){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(i,r)}finally{t.event=o}}function fa(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function pa(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function da(t){var e=fa();return e.changedTouches&&(e=e.changedTouches[0]),pa(t,e)}function va(){}function ma(t){return null==t?va:function(){return this.querySelector(t)}}function ga(t){"function"!=typeof t&&(t=ma(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a,s=e[r],u=s.length,l=i[r]=new Array(u),c=0;u>c;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Ps(i,this._parents)}function ya(){return[]}function _a(t){return null==t?ya:function(){return this.querySelectorAll(t)}}function ba(t){"function"!=typeof t&&(t=_a(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var a,s=e[o],u=s.length,l=0;u>l;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new Ps(i,r)}function xa(t){"function"!=typeof t&&(t=g_(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;s>l;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Ps(i,this._parents)}function wa(t){return new Array(t.length)}function ka(){return new Ps(this._enter||this._groups.map(wa),this._parents)}function Ma(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ca(t){return function(){return t}}function Ta(t,e,n,i,r,o){for(var a,s=0,u=e.length,l=o.length;l>s;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new Ma(t,o[s]);for(;u>s;++s)(a=e[s])&&(r[s]=a)}function Sa(t,e,n,i,r,o,a){var s,u,l,c={},h=e.length,f=o.length,p=new Array(h);for(s=0;h>s;++s)(u=e[s])&&(p[s]=l=b_+a.call(u,u.__data__,s,e),l in c?r[s]=u:c[l]=u);for(s=0;f>s;++s)l=b_+a.call(t,o[s],s,o),(u=c[l])?(i[s]=u,u.__data__=o[s],c[l]=null):n[s]=new Ma(t,o[s]);for(s=0;h>s;++s)(u=e[s])&&c[p[s]]===u&&(r[s]=u)}function Da(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n=e?Sa:Ta,i=this._parents,r=this._groups;"function"!=typeof t&&(t=Ca(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;o>l;++l){var c=i[l],h=r[l],f=h.length,p=t.call(c,c&&c.__data__,l,i),d=p.length,v=s[l]=new Array(d),m=a[l]=new Array(d),g=u[l]=new Array(f);n(c,h,v,m,g,p,e);for(var y,_,b=0,x=0;d>b;++b)if(y=v[b]){for(b>=x&&(x=b+1);!(_=m[x])&&++x<d;);y._next=_||null}}return a=new Ps(a,i),a._enter=s,a._exit=u,a}function Aa(){return new Ps(this._exit||this._groups.map(wa),this._parents)}function $a(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;o>s;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;h>p;++p)(u=l[p]||c[p])&&(f[p]=u);for(;i>s;++s)a[s]=e[s];return new Ps(a,this._parents)}function Ea(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this}function Na(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Pa);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var a,s=n[o],u=s.length,l=r[o]=new Array(u),c=0;u>c;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new Ps(r,this._parents).order()}function Pa(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function Oa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fa(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function Ia(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var a=i[r];if(a)return a}return null}function za(){var t=0;return this.each(function(){++t}),t}function Ra(){return!this.node()}function Ua(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],a=0,s=o.length;s>a;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this}function ja(t){return function(){this.removeAttribute(t)}}function La(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qa(t,e){return function(){this.setAttribute(t,e)}}function Ha(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Va(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Ba(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ya(t,e){var n=Zo(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?La:ja:"function"==typeof e?n.local?Ba:Va:n.local?Ha:qa)(n,e))}function Wa(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ka(t){return function(){this.style.removeProperty(t)}}function Ga(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xa(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ja(t,e,n){var i;return arguments.length>1?this.each((null==e?Ka:"function"==typeof e?Xa:Ga)(t,e,null==n?"":n)):Wa(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)}function Qa(t){return function(){delete this[t]}}function Za(t,e){return function(){this[t]=e}}function ts(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function es(t,e){return arguments.length>1?this.each((null==e?Qa:"function"==typeof e?ts:Za)(t,e)):this.node()[t]}function ns(t){return t.trim().split(/^|\s+/)}function is(t){return t.classList||new rs(t)}function rs(t){this._node=t,this._names=ns(t.getAttribute("class")||"")}function os(t,e){for(var n=is(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function as(t,e){for(var n=is(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function ss(t){return function(){os(this,t)}}function us(t){return function(){as(this,t)}}function ls(t,e){return function(){(e.apply(this,arguments)?os:as)(this,t)}}function cs(t,e){var n=ns(t+"");if(arguments.length<2){for(var i=is(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?ls:e?ss:us)(n,e))}function hs(){this.textContent=""}function fs(t){return function(){this.textContent=t}}function ps(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ds(t){return arguments.length?this.each(null==t?hs:("function"==typeof t?ps:fs)(t)):this.node().textContent}function vs(){this.innerHTML=""}function ms(t){return function(){this.innerHTML=t}}function gs(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ys(t){return arguments.length?this.each(null==t?vs:("function"==typeof t?gs:ms)(t)):this.node().innerHTML}function _s(){this.nextSibling&&this.parentNode.appendChild(this)}function bs(){return this.each(_s);
}function xs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ws(){return this.each(xs)}function ks(t){var e="function"==typeof t?t:na(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ms(){return null}function Cs(t,e){var n="function"==typeof t?t:na(t),i=null==e?Ms:"function"==typeof e?e:ma(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ts(){var t=this.parentNode;t&&t.removeChild(this)}function Ss(){return this.each(Ts)}function Ds(t){return arguments.length?this.property("__data__",t):this.node().__data__}function As(t,e,n){var i=Wa(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function $s(t,e){return function(){return As(this,t,e)}}function Es(t,e){return function(){return As(this,t,e.apply(this,arguments))}}function Ns(t,e){return this.each(("function"==typeof e?Es:$s)(t,e))}function Ps(t,e){this._groups=t,this._parents=e}function Os(){return new Ps([[document.documentElement]],x_)}function Fs(t){return"string"==typeof t?new Ps([[document.querySelector(t)]],[document.documentElement]):new Ps([[t]],x_)}function Is(t){return"string"==typeof t?new Ps([document.querySelectorAll(t)],[document.documentElement]):new Ps([null==t?[]:t],x_)}function zs(t,e,n){arguments.length<3&&(n=e,e=fa().changedTouches);for(var i,r=0,o=e?e.length:0;o>r;++r)if((i=e[r]).identifier===n)return pa(t,i);return null}function Rs(t,e){null==e&&(e=fa().touches);for(var n=0,i=e?e.length:0,r=new Array(i);i>n;++n)r[n]=pa(t,e[n]);return r}function Us(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Hs(t,n,{name:e,index:i,group:r,on:w_,tween:k_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:M_})}function js(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>M_)throw new Error("too late");return n}function Ls(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>T_)throw new Error("too late");return n}function qs(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Hs(t,e,n){function i(t){n.state=C_,n.delay<=t?r(t-n.delay):n.timer.restart(r,n.delay,n.time)}function r(i){var r,u,l,c;for(r in s)c=s[r],c.name===n.name&&(c.state===S_?(c.state=A_,c.timer.stop(),c.on.call("interrupt",t,t.__data__,c.index,c.group),delete s[r]):e>+r&&(c.state=A_,c.timer.stop(),delete s[r]));if(Wi(function(){n.state===S_&&(n.timer.restart(o,n.delay,n.time),o(i))}),n.state=T_,n.on.call("start",t,t.__data__,n.index,n.group),n.state===T_){for(n.state=S_,a=new Array(l=n.tween.length),r=0,u=-1;l>r;++r)(c=n.tween[r].value.call(t,t.__data__,n.index,n.group))&&(a[++u]=c);a.length=u+1}}function o(i){for(var r=i<n.duration?n.ease.call(null,i/n.duration):(n.state=D_,1),o=-1,u=a.length;++o<u;)a[o].call(null,r);if(n.state===D_){n.state=A_,n.timer.stop(),n.on.call("end",t,t.__data__,n.index,n.group);for(o in s)if(+o!==e)return void delete s[e];delete t.__transition}}var a,s=t.__transition;s[e]=n,n.timer=Li(i,0,n.time)}function Vs(t,e){var n,i,r,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state===S_,n.state=A_,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}function Bs(t){return this.each(function(){Vs(this,t)})}function Ys(t,e){var n,i;return function(){var r=Ls(this,t),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;s>a;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function Ws(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Ls(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},u=0,l=r.length;l>u;++u)if(r[u].name===e){r[u]=s;break}u===l&&r.push(s)}o.tween=r}}function Ks(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=qs(this.node(),n).tween,o=0,a=r.length;a>o;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Ys:Ws)(n,t,e))}function Gs(t,e,n){var i=t._id;return t.each(function(){var t=Ls(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return qs(t,i).value[e]}}function Xs(t,e){var n;return("number"==typeof e?ii:e instanceof xn?$m:(n=xn(e))?(e=n,$m):si)(t,e)}function Js(t){return function(){this.removeAttribute(t)}}function Qs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zs(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function tu(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function eu(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function nu(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function iu(t,e){var n=Zo(t),i="transform"===n?Rm:Xs;return this.attrTween(t,"function"==typeof e?(n.local?nu:eu)(n,i,Gs(this,"attr."+t,e)):null==e?(n.local?Qs:Js)(n):(n.local?tu:Zs)(n,i,e))}function ru(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function ou(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function au(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Zo(t);return this.tween(n,(i.local?ru:ou)(i,e))}function su(t,e){return function(){js(this,t).delay=+e.apply(this,arguments)}}function uu(t,e){return e=+e,function(){js(this,t).delay=e}}function lu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?su:uu)(e,t)):qs(this.node(),e).delay}function cu(t,e){return function(){Ls(this,t).duration=+e.apply(this,arguments)}}function hu(t,e){return e=+e,function(){Ls(this,t).duration=e}}function fu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?cu:hu)(e,t)):qs(this.node(),e).duration}function pu(t,e){if("function"!=typeof e)throw new Error;return function(){Ls(this,t).ease=e}}function du(t){var e=this._id;return arguments.length?this.each(pu(e,t)):qs(this.node(),e).ease}function vu(t){"function"!=typeof t&&(t=g_(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;s>l;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Iu(i,this._parents,this._name,this._id)}function mu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;o>s;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;h>p;++p)(u=l[p]||c[p])&&(f[p]=u);for(;i>s;++s)a[s]=e[s];return new Iu(a,this._parents,this._name,this._id)}function gu(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function yu(t,e,n){var i,r,o=gu(e)?js:Ls;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}function _u(t,e){var n=this._id;return arguments.length<2?qs(this.node(),n).on.on(t):this.each(yu(n,t,e))}function bu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function xu(){return this.on("end.remove",bu(this._id))}function wu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ma(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;r>a;++a)for(var s,u,l=i[a],c=l.length,h=o[a]=new Array(c),f=0;c>f;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Us(h[f],e,n,f,h,qs(s,n)));return new Iu(o,this._parents,e,n)}function ku(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_a(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;r>s;++s)for(var u,l=i[s],c=l.length,h=0;c>h;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=qs(u,n),v=0,m=p.length;m>v;++v)(f=p[v])&&Us(f,e,n,v,p,d);o.push(p),a.push(u)}return new Iu(o,a,e,n)}function Mu(){return new $_(this._groups,this._parents)}function Cu(t,e){var n,i,r;return function(){var o=Wa(this).getComputedStyle(this,null),a=o.getPropertyValue(t),s=(this.style.removeProperty(t),o.getPropertyValue(t));return a===s?null:a===n&&s===i?r:r=e(n=a,i=s)}}function Tu(t){return function(){this.style.removeProperty(t)}}function Su(t,e,n){var i,r;return function(){var o=Wa(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===i?r:r=e(i=o,n)}}function Du(t,e,n){var i,r,o;return function(){var a=Wa(this).getComputedStyle(this,null),s=a.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=a.getPropertyValue(t)),s===u?null:s===i&&u===r?o:o=e(i=s,r=u)}}function Au(t,e,n){var i="transform"==(t+="")?zm:Xs;return null==e?this.styleTween(t,Cu(t,i)).on("end.style."+t,Tu(t)):this.styleTween(t,"function"==typeof e?Du(t,i,Gs(this,"style."+t,e)):Su(t,i,e),n)}function $u(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function Eu(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,$u(t,e,null==n?"":n))}function Nu(t){return function(){this.textContent=t}}function Pu(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Ou(t){return this.tween("text","function"==typeof t?Pu(Gs(this,"text",t)):Nu(null==t?"":t+""))}function Fu(){for(var t=this._name,e=this._id,n=Ru(),i=this._groups,r=i.length,o=0;r>o;++o)for(var a,s=i[o],u=s.length,l=0;u>l;++l)if(a=s[l]){var c=qs(a,e);Us(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Iu(i,this._parents,t,n)}function Iu(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function zu(t){return Os().transition(t)}function Ru(){return++E_}function Uu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return P_.time=Ri(),P_;return n}function ju(t){var e,n;t instanceof Iu?(e=t._id,t=t._name):(e=Ru(),(n=P_).time=Ri(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;r>o;++o)for(var a,s=i[o],u=s.length,l=0;u>l;++l)(a=s[l])&&Us(a,t,e,l,s,n||Uu(a,e));return new Iu(i,this._parents,t,e)}function Lu(t,e){var n,i,r=t.__transition;if(r){e=null==e?null:e+"";for(i in r)if((n=r[i]).state>C_&&n.name===e)return new Iu([[t]],O_,e,+i)}return null}function qu(t){return t}function Hu(t,e,n){var i=t(n);return"translate("+(isFinite(i)?i:e(n))+",0)"}function Vu(t,e,n){var i=t(n);return"translate(0,"+(isFinite(i)?i:e(n))+")"}function Bu(t){var e=t.bandwidth()/2;return function(n){return t(n)+e}}function Yu(){return!this.__axis}function Wu(t,e){function n(n){var l,c=null==r?e.ticks?e.ticks.apply(e,i):e.domain():r,h=null==o?e.tickFormat?e.tickFormat.apply(e,i):qu:o,f=Math.max(a,0)+u,p=t===I_||t===R_?Hu:Vu,d=e.range(),v=d[0]+.5,m=d[d.length-1]+.5,g=(e.bandwidth?Bu:qu)(e.copy()),y=n.selection?n.selection():n,_=y.selectAll(".domain").data([null]),b=y.selectAll(".tick").data(c,e).order(),x=b.exit(),w=b.enter().append("g").attr("class","tick"),k=b.select("line"),M=b.select("text"),C=t===I_||t===U_?-1:1,T=t===U_||t===z_?(l="x","y"):(l="y","x");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),b=b.merge(w),k=k.merge(w.append("line").attr("stroke","#000").attr(l+"2",C*a).attr(T+"1",.5).attr(T+"2",.5)),M=M.merge(w.append("text").attr("fill","#000").attr(l,C*f).attr(T,.5).attr("dy",t===I_?"0em":t===R_?".71em":".32em")),n!==y&&(_=_.transition(n),b=b.transition(n),k=k.transition(n),M=M.transition(n),x=x.transition(n).attr("opacity",j_).attr("transform",function(t){return p(g,this.parentNode.__axis||g,t)}),w.attr("opacity",j_).attr("transform",function(t){return p(this.parentNode.__axis||g,g,t)})),x.remove(),_.attr("d",t===U_||t==z_?"M"+C*s+","+v+"H0.5V"+m+"H"+C*s:"M"+v+","+C*s+"V0.5H"+m+"V"+C*s),b.attr("opacity",1).attr("transform",function(t){return p(g,g,t)}),k.attr(l+"2",C*a),M.attr(l,C*f).text(h),y.filter(Yu).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===z_?"start":t===U_?"end":"middle"),y.each(function(){this.__axis=g})}var i=[],r=null,o=null,a=6,s=6,u=3;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return i=F_.call(arguments),n},n.tickArguments=function(t){return arguments.length?(i=null==t?[]:F_.call(t),n):i.slice()},n.tickValues=function(t){return arguments.length?(r=null==t?null:F_.call(t),n):r&&r.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(a=s=+t,n):a},n.tickSizeInner=function(t){return arguments.length?(a=+t,n):a},n.tickSizeOuter=function(t){return arguments.length?(s=+t,n):s},n.tickPadding=function(t){return arguments.length?(u=+t,n):u},n}function Ku(t){return Wu(I_,t)}function Gu(t){return Wu(z_,t)}function Xu(t){return Wu(R_,t)}function Ju(t){return Wu(U_,t)}function Qu(t,e){return t.parent===e.parent?1:2}function Zu(t){return t.reduce(tl,0)/t.length}function tl(t,e){return t+e.x}function el(t){return 1+t.reduce(nl,0)}function nl(t,e){return Math.max(t,e.y)}function il(t){for(var e;e=t.children;)t=e[0];return t}function rl(t){for(var e;e=t.children;)t=e[e.length-1];return t}function ol(){function t(t){var o,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=Zu(n),t.y=el(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)});var s=il(t),u=rl(t),l=s.x-e(s,u)/2,c=u.x+e(u,s)/2;return t.eachAfter(r?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*i}:function(e){e.x=(e.x-l)/(c-l)*n,e.y=(1-(t.y?e.y/t.y:1))*i})}var e=Qu,n=1,i=1,r=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(r=!1,n=+e[0],i=+e[1],t):r?null:[n,i]},t.nodeSize=function(e){return arguments.length?(r=!0,n=+e[0],i=+e[1],t):r?[n,i]:null},t}function al(t){var e,n,i,r,o=this,a=[o];do for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;r>i;++i)a.push(n[i]);while(a.length);return this}function sl(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this}function ul(t){for(var e,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),e=r.children)for(n=0,i=e.length;i>n;++n)o.push(e[n]);for(;r=a.pop();)t(r);return this}function ll(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})}function cl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function hl(t){for(var e=this,n=fl(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}function fl(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function pl(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function dl(){var t=[];return this.each(function(e){t.push(e)}),t}function vl(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ml(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function gl(t,e){var n,i,r,o,a,s=new wl(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=_l);n=l.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(i=n.children[o]=new wl(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(xl)}function yl(){return gl(this).eachBefore(bl)}function _l(t){return t.children}function bl(t){t.data=t.data.data}function xl(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function wl(t){this.data=t,this.depth=this.height=0,this.parent=null}function kl(t){this._=t,this.next=null}function Ml(t){for(var e,n=(t=t.slice()).length,i=null,r=i;n;){var o=new kl(t[n-1]);r=r?r.next=o:i=o,t[e]=t[--n]}return{head:i,tail:r}}function Cl(t){return Sl(Ml(t),[])}function Tl(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r-e.r;return r*r+1e-6>n*n+i*i}function Sl(t,e){var n,i,r,o=null,a=t.head;switch(e.length){case 1:n=Dl(e[0]);break;case 2:n=Al(e[0],e[1]);break;case 3:n=$l(e[0],e[1],e[2])}for(;a;)r=a._,i=a.next,n&&Tl(n,r)?o=a:(o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(r),n=Sl(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),o=t.tail,o.next=i),a=i;return t.tail=o,n}function Dl(t){return{x:t.x,y:t.y,r:t.r}}function Al(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-i,c=s-r,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(i+a+l/h*c)/2,r:(h+r+s)/2}}function $l(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=2*(i-a),p=2*(r-s),d=2*(u-o),v=i*i+r*r-o*o-a*a-s*s+u*u,m=2*(i-l),g=2*(r-c),y=2*(h-o),_=i*i+r*r-o*o-l*l-c*c+h*h,b=m*p-f*g,x=(p*_-g*v)/b-i,w=(g*d-p*y)/b,k=(m*v-f*_)/b-r,M=(f*y-m*d)/b,C=w*w+M*M-1,T=2*(x*w+k*M+o),S=x*x+k*k-o*o,D=(-T-Math.sqrt(T*T-4*C*S))/(2*C);return{x:x+w*D+i,y:k+M*D+r,r:D}}function El(t,e,n){var i=t.x,r=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-i,u=e.y-r,l=s*s+u*u;if(l){var c=.5+((a*=a)-(o*=o))/(2*l),h=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=i+c*s+h*u,n.y=r+c*u-h*s}else n.x=i+a,n.y=r}function Nl(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return r*r>n*n+i*i}function Pl(t,e,n){var i=t.x-e,r=t.y-n;return i*i+r*r}function Ol(t){this._=t,this.next=null,this.previous=null}function Fl(t){if(!(r=t.length))return 0;var e,n,i,r;if(e=t[0],e.x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;El(n,e,i=t[2]);var o,a,s,u,l,c,h,f=e.r*e.r,p=n.r*n.r,d=i.r*i.r,v=f+p+d,m=f*e.x+p*n.x+d*i.x,g=f*e.y+p*n.y+d*i.y;e=new Ol(e),n=new Ol(n),i=new Ol(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;r>s;++s){if(El(e._,n._,i=t[s]),i=new Ol(i),(l=e.previous)===(u=n.next)){if(Nl(u._,i._)){e=n,n=u,--s;continue t}}else{c=u._.r,h=l._.r;do if(h>=c){if(Nl(u._,i._)){n=u,e.next=n,n.previous=e,--s;continue t}u=u.next,c+=u._.r}else{if(Nl(l._,i._)){e=l,e.next=n,n.previous=e,--s;continue t}l=l.previous,h+=l._.r}while(u!==l.next)}for(i.previous=e,i.next=n,e.next=n.previous=n=i,v+=d=i._.r*i._.r,m+=d*i._.x,g+=d*i._.y,f=Pl(e._,o=m/v,a=g/v);(i=i.next)!==n;)(d=Pl(i._,o,a))<f&&(e=i,f=d);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Cl(e),s=0;r>s;++s)e=t[s],e.x-=i.x,e.y-=i.y;return i.r}function Il(t){return Fl(t),t}function zl(t){return null==t?null:Rl(t)}function Rl(t){if("function"!=typeof t)throw new Error;return t}function Ul(){return 0}function jl(t){return function(){return t}}function Ll(t){return Math.sqrt(t.value)}function ql(){function t(t){return t.x=n/2,t.y=i/2,e?t.eachBefore(Hl(e)).eachAfter(Vl(r,.5)).eachBefore(Bl(1)):t.eachBefore(Hl(Ll)).eachAfter(Vl(Ul,1)).eachAfter(Vl(r,t.r/Math.min(n,i))).eachBefore(Bl(Math.min(n,i)/(2*t.r))),t}var e=null,n=1,i=1,r=Ul;return t.radius=function(n){return arguments.length?(e=zl(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r="function"==typeof e?e:jl(+e),t):r},t}function Hl(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Vl(t,e){return function(n){if(i=n.children){var i,r,o,a=i.length,s=t(n)*e||0;if(s)for(r=0;a>r;++r)i[r].r+=s;if(o=Fl(i),s)for(r=0;a>r;++r)i[r].r-=s;n.r=o+s}}}function Bl(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Yl(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Wl(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*l}function Kl(){function t(t){var a=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=i/a,t.eachBefore(e(i,a)),o&&t.eachBefore(Yl),t}function e(t,e){return function(n){n.children&&Wl(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,o=n.y0,a=n.x1-r,s=n.y1-r;i>a&&(i=a=(i+a)/2),o>s&&(o=s=(o+s)/2),n.x0=i,n.y0=o,n.x1=a,n.y1=s}}var n=1,i=1,r=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r=+e,t):r},t}function Gl(t){return t.id}function Xl(t){return t.parentId}function Jl(){function t(t){var i,r,o,a,s,u,l,c=t.length,h=new Array(c),f={};for(r=0;c>r;++r)i=t[r],s=h[r]=new wl(i),null!=(u=e(i,r,t))&&(u+="")&&(l=L_+(s.id=u),f[l]=l in f?H_:s);for(r=0;c>r;++r)if(s=h[r],u=n(t[r],r,t),null!=u&&(u+="")){if(a=f[L_+u],!a)throw new Error("missing: "+u);if(a===H_)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=q_,o.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(xl),o.parent=null,c>0)throw new Error("cycle");return o}var e=Gl,n=Xl;return t.id=function(n){return arguments.length?(e=Rl(n),t):e},t.parentId=function(e){return arguments.length?(n=Rl(e),t):n},t}function Ql(t,e){return t.parent===e.parent?1:2}function Zl(t){var e=t.children;return e?e[0]:t.t}function tc(t){var e=t.children;return e?e[e.length-1]:t.t}function ec(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function nc(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function ic(t,e,n){return t.a.parent===e.parent?t.a:n}function rc(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function oc(t){for(var e,n,i,r,o,a=new rc(t,0),s=[a];e=s.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=e.children[r]=new rc(i[r],r)),n.parent=e;return(a.parent=new rc(null,0)).children=[a],a}function ac(){function t(t){var i=oc(t);if(i.eachAfter(e),i.parent.m=-i.z,i.eachBefore(n),u)t.eachBefore(r);else{var l=t,c=t,h=t;t.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var f=l===c?1:o(l,c)/2,p=f-l.x,d=a/(c.x+f+p),v=s/(h.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*v})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){nc(t);var a=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+o(t._,r._),t.m=t.z-a):t.z=a}else r&&(t.z=r.z+o(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var i,r=t,a=t,s=e,u=r.parent.children[0],l=r.m,c=a.m,h=s.m,f=u.m;s=tc(s),r=Zl(r),s&&r;)u=Zl(u),a=tc(a),a.a=t,i=s.z+h-r.z-l+o(s._,r._),i>0&&(ec(ic(s,t,n),t,i),l+=i,c+=i),h+=s.m,l+=r.m,f+=u.m,c+=a.m;s&&!tc(a)&&(a.t=s,a.m+=h-c),r&&!Zl(u)&&(u.t=r,u.m+=l-f,n=t)}return n}function r(t){t.x*=a,t.y=t.depth*s}var o=Ql,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t}function sc(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*l}function uc(t,e,n,i,r,o){for(var a,s,u,l,c,h,f,p,d,v,m,g,y=[],_=e.children,b=0,x=_.length,w=e.value;x>b;){for(l=r-n,c=o-i,f=p=h=_[b].value,m=Math.max(c/l,l/c)/(w*t),g=h*h*m,v=Math.max(p/g,g/f),u=b+1;x>u;++u){if(h+=s=_[u].value,f>s&&(f=s),s>p&&(p=s),g=h*h*m,d=Math.max(p/g,g/f),d>v){h-=s;break}v=d}y.push(a={value:h,dice:c>l,children:_.slice(b,u)}),a.dice?Wl(a,n,i,r,w?i+=c*h/w:o):sc(a,n,i,w?n+=l*h/w:r,o),w-=h,b=u}return y}function lc(){function t(t){return t.x0=t.y0=0,t.x1=r,t.y1=o,t.eachBefore(e),a=[0],i&&t.eachBefore(Yl),t}function e(t){var e=a[t.depth],i=t.x0+e,r=t.y0+e,o=t.x1-e,f=t.y1-e;i>o&&(i=o=(i+o)/2),r>f&&(r=f=(r+f)/2),t.x0=i,t.y0=r,t.x1=o,t.y1=f,t.children&&(e=a[t.depth+1]=s(t)/2,i+=h(t)-e,r+=u(t)-e,o-=l(t)-e,f-=c(t)-e,i>o&&(i=o=(i+o)/2),r>f&&(r=f=(r+f)/2),n(t,i,r,o,f))}var n=B_,i=!1,r=1,o=1,a=[0],s=Ul,u=Ul,l=Ul,c=Ul,h=Ul;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(e){return arguments.length?(r=+e[0],o=+e[1],t):[r,o]},t.tile=function(e){return arguments.length?(n=Rl(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:jl(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:jl(+e),t):u},t.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:jl(+e),t):l},t.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:jl(+e),t):c},t.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:jl(+e),t):h},t}function cc(t,e,n,i,r){function o(t,e,n,i,r,a,s){if(t>=e-1){var l=u[t];return l.x0=i,l.y0=r,l.x1=a,l.y1=s,void 0}for(var h=c[t],f=n/2+h,p=t+1,d=e-1;d>p;){var v=p+d>>>1;c[v]<f?p=v+1:d=v}var m=c[p]-h,g=n-m;if(s-r>a-i){var y=(r*g+s*m)/n;o(t,p,m,i,r,a,y),o(p,e,g,i,y,a,s)}else{var _=(i*g+a*m)/n;o(t,p,m,i,r,_,s),o(p,e,g,_,r,a,s)}}var a,s,u=t.children,l=u.length,c=new Array(l+1);for(c[0]=s=a=0;l>a;++a)c[a+1]=s+=u[a].value;o(0,l,t.value,e,n,i,r)}function hc(t,e,n,i,r){(1&t.depth?sc:Wl)(t,e,n,i,r)}function fc(t,e){function n(){var n,r,o=i.length,a=0,s=0;for(n=0;o>n;++n)r=i[n],a+=r.x,s+=r.y;for(a=a/o-t,s=s/o-e,n=0;o>n;++n)r=i[n],r.x-=a,r.y-=s}var i;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){i=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n}function pc(t){return function(){return t}}function dc(){return 1e-6*(Math.random()-.5)}function vc(t){return t.x+t.vx}function mc(t){return t.y+t.vy}function gc(t){function e(){function t(t,n,i,r,a){var s=t.data,p=t.r,d=h+p;{if(!s)return n>l+d||l-d>r||i>c+d||c-d>a;if(s.index>e){var v=l-s.x-s.vx,m=c-s.y-s.vy,g=v*v+m*m;d*d>g&&(0===v&&(v=dc(),g+=v*v),0===m&&(m=dc(),g+=m*m),g=(d-(g=Math.sqrt(g)))/g*o,u.vx+=(v*=g)*(d=(p*=p)/(f+p)),u.vy+=(m*=g)*d,s.vx-=v*(d=1-d),s.vy-=m*d)}}}for(var e,s,u,l,c,h,f,p=i.length,d=0;a>d;++d)for(s=Ht(i,vc,mc).visitAfter(n),e=0;p>e;++e)u=i[e],h=r[e],f=h*h,l=u.x+u.vx,c=u.y+u.vy,s.visit(t)}function n(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;4>e;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}var i,r,o=1,a=1;return"function"!=typeof t&&(t=pc(null==t?1:+t)),e.initialize=function(e){var n,o=(i=e).length;for(r=new Array(o),n=0;o>n;++n)r[n]=+t(i[n],n,i)},e.iterations=function(t){return arguments.length?(a=+t,e):a},e.strength=function(t){return arguments.length?(o=+t,e):o},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:pc(+n),e):t},e}function yc(t,e){return e}function _c(t){function e(t){return 1/Math.min(l[t.source.index],l[t.target.index])}function n(e){for(var n=0,i=t.length;d>n;++n)for(var r,o,u,l,h,f,p,v=0;i>v;++v)r=t[v],o=r.source,u=r.target,l=u.x+u.vx-o.x-o.vx||dc(),h=u.y+u.vy-o.y-o.vy||dc(),f=Math.sqrt(l*l+h*h),f=(f-s[v])/f*e*a[v],l*=f,h*=f,u.vx-=l*(p=c[v]),u.vy-=h*p,o.vx+=l*(p=1-p),o.vy+=h*p}function i(){if(u){var e,n,i=u.length,f=t.length,p=P(u,h);for(e=0,l=new Array(i);i>e;++e)l[e]=0;for(e=0;f>e;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=p.get(n.source)),"object"!=typeof n.target&&(n.target=p.get(n.target)),++l[n.source.index],++l[n.target.index];for(e=0,c=new Array(f);f>e;++e)n=t[e],c[e]=l[n.source.index]/(l[n.source.index]+l[n.target.index]);a=new Array(f),r(),s=new Array(f),o()}}function r(){if(u)for(var e=0,n=t.length;n>e;++e)a[e]=+f(t[e],e,t)}function o(){if(u)for(var e=0,n=t.length;n>e;++e)s[e]=+p(t[e],e,t)}var a,s,u,l,c,h=yc,f=e,p=pc(30),d=1;return null==t&&(t=[]),n.initialize=function(t){u=t,i()},n.links=function(e){return arguments.length?(t=e,i(),n):t},n.id=function(t){return arguments.length?(h=t,n):h},n.iterations=function(t){return arguments.length?(d=+t,n):d},n.strength=function(t){return arguments.length?(f="function"==typeof t?t:pc(+t),r(),n):f},n.distance=function(t){return arguments.length?(p="function"==typeof t?t:pc(+t),o(),n):p},n}function bc(t){return t.x}function xc(t){return t.y}function wc(t){function e(){n(),p.call("tick",o),s>a&&(f.stop(),p.call("end",o))}function n(){var e,n,i=t.length;for(a+=(l-a)*u,h.each(function(t){t(a)}),e=0;i>e;++e)n=t[e],null==n.fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0)}function i(){for(var e,n=0,i=t.length;i>n;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var r=W_*Math.sqrt(n),o=n*K_;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function r(e){return e.initialize&&e.initialize(t),e}var o,a=1,s=.001,u=1-Math.pow(s,1/300),l=0,c=.6,h=P(),f=Li(e),p=ki("tick","end");return null==t&&(t=[]),i(),o={tick:n,restart:function(){return f.restart(e),o},stop:function(){return f.stop(),o},nodes:function(e){return arguments.length?(t=e,i(),h.each(r),o):t},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(s=+t,o):s},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(l=+t,o):l},velocityDecay:function(t){return arguments.length?(c=1-t,o):1-c},force:function(t,e){return arguments.length>1?(null==e?h.remove(t):h.set(t,r(e)),o):h.get(t)},find:function(e,n,i){var r,o,a,s,u,l=0,c=t.length;for(null==i?i=1/0:i*=i,l=0;c>l;++l)s=t[l],r=e-s.x,o=n-s.y,a=r*r+o*o,i>a&&(u=s,i=a);return u},on:function(t,e){return arguments.length>1?(p.on(t,e),o):p.on(t)}}}function kc(){function t(t){var e,s=r.length,u=Ht(r,bc,xc).visitAfter(n);for(a=t,e=0;s>e;++e)o=r[e],u.visit(i)}function e(){if(r){var t,e=r.length;for(s=new Array(e),t=0;e>t;++t)s[t]=+u(r[t],t,r)}}function n(t){var e,n,i,r,o,a=0;if(t.length){for(i=r=o=0;4>o;++o)(e=t[o])&&(n=e.value)&&(a+=n,i+=n*e.x,r+=n*e.y);t.x=i/a,t.y=r/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do a+=s[e.data.index];while(e=e.next)}t.value=a}function i(t,e,n,i){if(!t.value)return!0;var r=t.x-o.x,u=t.y-o.y,f=i-e,p=r*r+u*u;if(p>f*f/h)return c>p&&(0===r&&(r=dc(),p+=r*r),0===u&&(u=dc(),p+=u*u),l>p&&(p=Math.sqrt(l*p)),o.vx+=r*t.value*a/p,o.vy+=u*t.value*a/p),!0;if(!(t.length||p>=c)){(t.data!==o||t.next)&&(0===r&&(r=dc(),p+=r*r),0===u&&(u=dc(),p+=u*u),l>p&&(p=Math.sqrt(l*p)));do t.data!==o&&(f=s[t.data.index]*a/p,o.vx+=r*f,o.vy+=u*f);while(t=t.next)}}var r,o,a,s,u=pc(-30),l=1,c=1/0,h=.81;return t.initialize=function(t){r=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:pc(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.distanceMax=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t}function Mc(t){function e(t){for(var e,n=0,a=i.length;a>n;++n)e=i[n],e.vx+=(o[n]-e.x)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;n>e;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+a(i[e],e,i)}}var i,r,o,a=pc(.1);return"function"!=typeof t&&(t=pc(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:pc(+t),n(),e):a},e.x=function(i){return arguments.length?(t="function"==typeof i?i:pc(+i),n(),e):t},e}function Cc(t){function e(t){for(var e,n=0,a=i.length;a>n;++n)e=i[n],e.vy+=(o[n]-e.y)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;n>e;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+a(i[e],e,i)}}var i,r,o,a=pc(.1);return"function"!=typeof t&&(t=pc(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:pc(+t),n(),e):a},e.y=function(i){return arguments.length?(t="function"==typeof i?i:pc(+i),n(),e):t},e}function Tc(){t.event.stopImmediatePropagation()}function Sc(){t.event.preventDefault(),
t.event.stopImmediatePropagation()}function Dc(t){var e=t.document.documentElement,n=Fs(t).on("dragstart.drag",Sc,!0);"onselectstart"in e?n.on("selectstart.drag",Sc,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ac(t,e){var n=t.document.documentElement,i=Fs(t).on("dragstart.drag",null);e&&(i.on("click.drag",Sc,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function $c(t){return function(){return t}}function Ec(t,e,n,i,r,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function Nc(){return!t.event.button}function Pc(){return this.parentNode}function Oc(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Fc(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",o).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!c&&h.apply(this,arguments)){var e=u("mouse",f.apply(this,arguments),da,this,arguments);e&&(Fs(t.event.view).on("mousemove.drag",i,!0).on("mouseup.drag",r,!0),Dc(t.event.view),Tc(),l=!1,e("start"))}}function i(){Sc(),l=!0,d.mouse("drag")}function r(){Fs(t.event.view).on("mousemove.drag mouseup.drag",null),Ac(t.event.view,l),Sc(),d.mouse("end")}function o(){if(h.apply(this,arguments)){var e,n,i=t.event.changedTouches,r=f.apply(this,arguments),o=i.length;for(e=0;o>e;++e)(n=u(i[e].identifier,r,zs,this,arguments))&&(Tc(),n("start"))}}function a(){var e,n,i=t.event.changedTouches,r=i.length;for(e=0;r>e;++e)(n=d[i[e].identifier])&&(Sc(),n("drag"))}function s(){var e,n,i=t.event.changedTouches,r=i.length;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;r>e;++e)(n=d[i[e].identifier])&&(Tc(),n("end"))}function u(n,i,r,o,a){var s,u,l,c=r(i,n),h=v.copy();if(ha(new Ec(e,"beforestart",s,n,m,c[0],c[1],0,0,h),function(){return null==(t.event.subject=s=p.apply(o,a))?!1:(u=s.x-c[0]||0,l=s.y-c[1]||0,!0)}))return function f(t){var p,v=c;switch(t){case"start":d[n]=f,p=m++;break;case"end":delete d[n],--m;case"drag":c=r(i,n),p=m}ha(new Ec(e,t,s,n,p,c[0]+u,c[1]+l,c[0]-v[0],c[1]-v[1],h),h.apply,h,[t,o,a])}}var l,c,h=Nc,f=Pc,p=Oc,d={},v=ki("start","drag","end"),m=0;return e.filter=function(t){return arguments.length?(h="function"==typeof t?t:$c(!!t),e):h},e.container=function(t){return arguments.length?(f="function"==typeof t?t:$c(t),e):f},e.subject=function(t){return arguments.length?(p="function"==typeof t?t:$c(t),e):p},e.on=function(){var t=v.on.apply(v,arguments);return t===v?e:t},e}function Ic(t){return function(){return t}}function zc(t){return t[0]}function Rc(t){return t[1]}function Uc(){this._=null}function jc(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Lc(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function qc(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Hc(t){for(;t.L;)t=t.L;return t}function Vc(t,e,n,i){var r=[null,null],o=Z_.push(r)-1;return r.left=t,r.right=e,n&&Yc(r,t,e,n),i&&Yc(r,e,t,i),J_[t.index].halfedges.push(o),J_[e.index].halfedges.push(o),r}function Bc(t,e,n){var i=[e,n];return i.left=t,i}function Yc(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Wc(t,e,n,i,r){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=s[0],h=s[1],f=0,p=1,d=c-u,v=h-l;if(o=e-u,d||!(o>0)){if(o/=d,0>d){if(f>o)return;p>o&&(p=o)}else if(d>0){if(o>p)return;o>f&&(f=o)}if(o=i-u,d||!(0>o)){if(o/=d,0>d){if(o>p)return;o>f&&(f=o)}else if(d>0){if(f>o)return;p>o&&(p=o)}if(o=n-l,v||!(o>0)){if(o/=v,0>v){if(f>o)return;p>o&&(p=o)}else if(v>0){if(o>p)return;o>f&&(f=o)}if(o=r-l,v||!(0>o)){if(o/=v,0>v){if(o>p)return;o>f&&(f=o)}else if(v>0){if(f>o)return;p>o&&(p=o)}return f>0||1>p?(f>0&&(t[0]=[u+f*d,l+f*v]),1>p&&(t[1]=[u+p*d,l+p*v]),!0):!0}}}}}function Kc(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],v=(h+p)/2,m=(f+d)/2;if(d===f){if(e>v||v>=i)return;if(h>p){if(u){if(u[1]>=r)return}else u=[v,n];o=[v,r]}else{if(u){if(u[1]<n)return}else u=[v,r];o=[v,n]}}else if(a=(h-p)/(d-f),s=m-a*v,-1>a||a>1)if(h>p){if(u){if(u[1]>=r)return}else u=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(u){if(u[1]<n)return}else u=[(r-s)/a,r];o=[(n-s)/a,n]}else if(d>f){if(u){if(u[0]>=i)return}else u=[e,a*e+s];o=[i,a*i+s]}else{if(u){if(u[0]<e)return}else u=[i,a*i+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Gc(t,e,n,i){for(var r,o=Z_.length;o--;)Kc(r=Z_[o],t,e,n,i)&&Wc(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>nb||Math.abs(r[0][1]-r[1][1])>nb)||delete Z_[o]}function Xc(t){return J_[t.index]={site:t,halfedges:[]}}function Jc(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Qc(t,e){return e[+(e.left!==t.site)]}function Zc(t,e){return e[+(e.left===t.site)]}function th(){for(var t,e,n,i,r=0,o=J_.length;o>r;++r)if((t=J_[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;i>n;++n)a[n]=n,s[n]=Jc(t,Z_[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;i>n;++n)s[n]=e[a[n]];for(n=0;i>n;++n)e[n]=s[n]}}function eh(t,e,n,i){var r,o,a,s,u,l,c,h,f,p,d,v,m=J_.length,g=!0;for(r=0;m>r;++r)if(o=J_[r]){for(a=o.site,u=o.halfedges,s=u.length;s--;)Z_[u[s]]||u.splice(s,1);for(s=0,l=u.length;l>s;)p=Zc(o,Z_[u[s]]),d=p[0],v=p[1],c=Qc(o,Z_[u[++s%l]]),h=c[0],f=c[1],(Math.abs(d-h)>nb||Math.abs(v-f)>nb)&&(u.splice(s,0,Z_.push(Bc(a,p,Math.abs(d-t)<nb&&i-v>nb?[t,Math.abs(h-t)<nb?f:i]:Math.abs(v-i)<nb&&n-d>nb?[Math.abs(f-i)<nb?h:n,i]:Math.abs(d-n)<nb&&v-e>nb?[n,Math.abs(h-n)<nb?f:e]:Math.abs(v-e)<nb&&d-t>nb?[Math.abs(f-e)<nb?h:t,e]:null))-1),++l);l&&(g=!1)}if(g){var y,_,b,x=1/0;for(r=0,g=null;m>r;++r)(o=J_[r])&&(a=o.site,y=a[0]-t,_=a[1]-e,b=y*y+_*_,x>b&&(x=b,g=o));if(g){var w=[t,e],k=[t,i],M=[n,i],C=[n,e];g.halfedges.push(Z_.push(Bc(a=g.site,w,k))-1,Z_.push(Bc(a,k,M))-1,Z_.push(Bc(a,M,C))-1,Z_.push(Bc(a,C,w))-1)}}for(r=0;m>r;++r)(o=J_[r])&&(o.halfedges.length||delete J_[r])}function nh(){jc(this),this.x=this.y=this.arc=this.site=this.cy=null}function ih(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],u=i[0]-a,l=i[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-ib)){var p=u*u+l*l,d=c*c+h*h,v=(h*p-l*d)/f,m=(u*d-c*p)/f,g=tb.pop()||new nh;g.arc=t,g.site=r,g.x=v+a,g.y=(g.cy=m+s)+Math.sqrt(v*v+m*m),t.circle=g;for(var y=null,_=Q_._;_;)if(g.y<_.y||g.y===_.y&&g.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Q_.insert(y,g),y||(G_=g)}}}}function rh(t){var e=t.circle;e&&(e.P||(G_=e.N),Q_.remove(e),tb.push(e),jc(e),t.circle=null)}function oh(){jc(this),this.edge=this.site=this.circle=null}function ah(t){var e=eb.pop()||new oh;return e.site=t,e}function sh(t){rh(t),X_.remove(t),eb.push(t),jc(t)}function uh(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];sh(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<nb&&Math.abs(i-u.circle.cy)<nb;)o=u.P,s.unshift(u),sh(u),u=o;s.unshift(u),rh(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<nb&&Math.abs(i-l.circle.cy)<nb;)a=l.N,s.push(l),sh(l),l=a;s.push(l),rh(l);var c,h=s.length;for(c=1;h>c;++c)l=s[c],u=s[c-1],Yc(l.edge,u.site,l.site,r);u=s[0],l=s[h-1],l.edge=Vc(u.site,l.site,null,r),ih(u),ih(l)}function lh(t){for(var e,n,i,r,o=t[0],a=t[1],s=X_._;s;)if(i=ch(s,a)-o,i>nb)s=s.L;else{if(r=o-hh(s,a),!(r>nb)){i>-nb?(e=s.P,n=s):r>-nb?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}Xc(t);var u=ah(t);if(X_.insert(e,u),e||n){if(e===n)return rh(e),n=ah(e.site),X_.insert(u,n),u.edge=n.edge=Vc(e.site,u.site),ih(e),void ih(n);if(!n)return void(u.edge=Vc(e.site,u.site));rh(e),rh(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,v=d[0]-c,m=d[1]-h,g=2*(f*m-p*v),y=f*f+p*p,_=v*v+m*m,b=[(m*y-p*_)/g+c,(f*_-v*y)/g+h];Yc(n.edge,l,d,b),u.edge=Vc(l,t,null,b),n.edge=Vc(t,d,null,b),ih(e),ih(n)}}function ch(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n[0],u=n[1],l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function hh(t,e){var n=t.N;if(n)return ch(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function fh(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function ph(t,e){return e[1]-t[1]||e[0]-t[0]}function dh(t,e){var n,i,r,o=t.sort(ph).pop();for(Z_=[],J_=new Array(t.length),X_=new Uc,Q_=new Uc;;)if(r=G_,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(lh(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;uh(r.arc)}if(th(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];Gc(a,s,u,l),eh(a,s,u,l)}this.edges=Z_,this.cells=J_,X_=Q_=Z_=J_=null}function vh(){function t(t){return new dh(t.map(function(i,r){var o=[Math.round(e(i,r,t)/nb)*nb,Math.round(n(i,r,t)/nb)*nb];return o.index=r,o.data=i,o}),i)}var e=zc,n=Rc,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ic(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Ic(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t}function mh(t){return function(){return t}}function gh(t,e,n){this.target=t,this.type=e,this.transform=n}function yh(t,e,n){this.k=t,this.x=e,this.y=n}function _h(t){return t.__zoom||rb}function bh(){t.event.stopImmediatePropagation()}function xh(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function wh(){return!t.event.button}function kh(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Mh(){return this.__zoom||rb}function Ch(){function e(t){t.on("wheel.zoom",l).on("mousedown.zoom",c).on("dblclick.zoom",h).on("touchstart.zoom",f).on("touchmove.zoom",p).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Mh)}function n(t,e){return e=Math.max(_,Math.min(b,e)),e===t.k?t:new yh(e,t.x,t.y)}function i(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new yh(t.k,i,r)}function r(t,e){var n=Math.min(0,t.invertX(e[0][0])-x)||Math.max(0,t.invertX(e[1][0])-w),i=Math.min(0,t.invertY(e[0][1])-k)||Math.max(0,t.invertY(e[1][1])-M);return n||i?t.translate(n,i):t}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function a(t,e,n){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,r=s(t,i),a=y.apply(t,i),u=n||o(a),l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,i):e,f=gi(c.invert(u).concat(l/c.k),h.invert(u).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=l/e[2];t=new yh(n,u[0]-e[0]*n,u[1]-e[1]*n)}r.zoom(null,t)}})}function s(t,e){for(var n,i=0,r=T.length;r>i;++i)if((n=T[i]).that===t)return n;return new u(t,e)}function u(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function l(){function e(){o.wheel=null,o.end()}if(g.apply(this,arguments)){var o=s(this,arguments),a=this.__zoom,u=Math.max(_,Math.min(b,a.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),l=da(this);if(o.wheel)o.mouse[0][0]===l[0]&&o.mouse[0][1]===l[1]||(o.mouse[1]=a.invert(o.mouse[0]=l)),clearTimeout(o.wheel);else{if(a.k===u)return;o.mouse=[l,a.invert(l)],Vs(this),o.start()}xh(),o.wheel=setTimeout(e,A),o.zoom("mouse",r(i(n(a,u),o.mouse[0],o.mouse[1]),o.extent))}}function c(){function e(){xh(),o.moved=!0,o.zoom("mouse",r(i(o.that.__zoom,o.mouse[0]=da(o.that),o.mouse[1]),o.extent))}function n(){a.on("mousemove.zoom mouseup.zoom",null),Ac(t.event.view,o.moved),xh(),o.end()}if(!m&&g.apply(this,arguments)){var o=s(this,arguments),a=Fs(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),u=da(this);Dc(t.event.view),bh(),o.mouse=[u,this.__zoom.invert(u)],Vs(this),o.start()}}function h(){if(g.apply(this,arguments)){var o=this.__zoom,s=da(this),u=o.invert(s),l=o.k*(t.event.shiftKey?.5:2),c=r(i(n(o,l),s,u),y.apply(this,arguments));xh(),C>0?Fs(this).transition().duration(C).call(a,c,s):Fs(this).call(e.transform,c)}}function f(){if(g.apply(this,arguments)){var e,n,i,r=s(this,arguments),o=t.event.changedTouches,a=o.length;for(bh(),e=0;a>e;++e)n=o[e],i=zs(this,o,n.identifier),i=[i,this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):r.touch0=i;return v&&(v=clearTimeout(v),!r.touch1)?(r.end(),h.apply(this,arguments)):void(t.event.touches.length===a&&(v=setTimeout(function(){v=null},D),Vs(this),r.start()))}}function p(){var e,o,a,u,l=s(this,arguments),c=t.event.changedTouches,h=c.length;for(xh(),v&&(v=clearTimeout(v)),e=0;h>e;++e)o=c[e],a=zs(this,c,o.identifier),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=a:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=a);if(o=l.that.__zoom,l.touch1){var f=l.touch0[0],p=l.touch0[1],d=l.touch1[0],m=l.touch1[1],g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g,y=(y=m[0]-p[0])*y+(y=m[1]-p[1])*y;o=n(o,Math.sqrt(g/y)),a=[(f[0]+d[0])/2,(f[1]+d[1])/2],u=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!l.touch0)return;a=l.touch0[0],u=l.touch0[1]}l.zoom("touch",r(i(o,a,u),l.extent))}function d(){var e,n,i=s(this,arguments),r=t.event.changedTouches,o=r.length;for(bh(),m&&clearTimeout(m),m=setTimeout(function(){m=null},D),e=0;o>e;++e)n=r[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0||i.end()}var v,m,g=wh,y=kh,_=0,b=1/0,x=-b,w=b,k=x,M=w,C=250,T=[],S=ki("start","zoom","end"),D=500,A=150;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Mh),t!==n?a(t,e):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,a){e.transform(t,function(){var t=y.apply(this,arguments),e=this.__zoom,s=o(t),u=e.invert(s),l="function"==typeof a?a.apply(this,arguments):a;return r(i(n(e,l),s,u),t)})},e.translateBy=function(t,n,i){e.transform(t,function(){return r(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),y.apply(this,arguments))})},u.prototype={start:function(){return 1===++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){ha(new gh(e,t,this.that.__zoom),S.apply,S,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(g="function"==typeof t?t:mh(!!t),e):g},e.extent=function(t){return arguments.length?(y="function"==typeof t?t:mh([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):y},e.scaleExtent=function(t){return arguments.length?(_=+t[0],b=+t[1],e):[_,b]},e.translateExtent=function(t){return arguments.length?(x=+t[0][0],w=+t[1][0],k=+t[0][1],M=+t[1][1],e):[[x,k],[w,M]]},e.duration=function(t){return arguments.length?(C=+t,e):C},e.on=function(){var t=S.on.apply(S,arguments);return t===S?e:t},e}function Th(t){return function(){return t}}function Sh(t,e,n){this.target=t,this.type=e,this.selection=n}function Dh(){t.event.stopImmediatePropagation()}function Ah(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function $h(t){return{type:t}}function Eh(){return!t.event.button}function Nh(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ph(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Oh(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Fh(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ih(){return Uh(lb)}function zh(){return Uh(cb)}function Rh(){return Uh(hb)}function Uh(e){function n(t){var n=t.property("__brush",s).selectAll(".overlay").data([$h("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",fb.overlay).merge(n).each(function(){var t=Ph(this).extent;Fs(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([$h("selection")]).enter().append("rect").attr("class","selection").attr("cursor",fb.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return fb[t.type]}),t.each(i).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function i(){var t=Fs(this),e=Ph(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-f/2:e[0][0]-f/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-f/2:e[0][1]-f/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+f:f}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+f:f})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function r(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=da(M);!I||w||k||(Math.abs(t[0]-R[0])>Math.abs(t[1]-R[1])?k=!0:w=!0),R=t,x=!0,Ah(),o()}function o(){var t;switch(_=R[0]-z[0],b=R[1]-z[1],T){case ab:case ob:S&&(_=Math.max(N-h,Math.min(O-v,_)),f=h+_,m=v+_),D&&(b=Math.max(P-p,Math.min(F-g,b)),d=p+b,y=g+b);break;case sb:0>S?(_=Math.max(N-h,Math.min(O-h,_)),f=h+_,m=v):S>0&&(_=Math.max(N-v,Math.min(O-v,_)),f=h,m=v+_),0>D?(b=Math.max(P-p,Math.min(F-p,b)),d=p+b,y=g):D>0&&(b=Math.max(P-g,Math.min(F-g,b)),d=p,y=g+b);break;case ub:S&&(f=Math.max(N,Math.min(O,h-_*S)),m=Math.max(N,Math.min(O,v+_*S))),D&&(d=Math.max(P,Math.min(F,p-b*D)),y=Math.max(P,Math.min(F,g+b*D)))}f>m&&(S*=-1,t=h,h=v,v=t,t=f,f=m,m=t,C in pb&&L.attr("cursor",fb[C=pb[C]])),d>y&&(D*=-1,t=p,p=g,g=t,t=d,d=y,y=t,C in db&&L.attr("cursor",fb[C=db[C]])),E=A.selection,w&&(f=E[0][0],m=E[1][0]),k&&(d=E[0][1],y=E[1][1]),E[0][0]===f&&E[0][1]===d&&E[1][0]===m&&E[1][1]===y||(A.selection=[[f,d],[m,y]],i.call(M),U.brush())}function a(){if(Dh(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),j.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Ac(t.event.view,x),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),L.attr("cursor",fb.overlay),Oh(E)&&(A.selection=null,i.call(M)),U.end()}function s(){switch(t.event.keyCode){case 16:I=S&&D;break;case 18:T===sb&&(S&&(v=m-_*S,h=f+_*S),D&&(g=y-b*D,p=d+b*D),T=ub,o());break;case 32:T!==sb&&T!==ub||(0>S?v=m-_:S>0&&(h=f-_),0>D?g=y-b:D>0&&(p=d-b),T=ab,L.attr("cursor",fb.selection),o());break;default:return}Ah()}function l(){switch(t.event.keyCode){case 16:I&&(w=k=I=!1,o());break;case 18:T===ub&&(0>S?v=m:S>0&&(h=f),0>D?g=y:D>0&&(p=d),T=sb,o());break;case 32:T===ab&&(t.event.altKey?(S&&(v=m-_*S,h=f+_*S),D&&(g=y-b*D,p=d+b*D),T=ub):(0>S?v=m:S>0&&(h=f),0>D?g=y:D>0&&(p=d),T=sb),L.attr("cursor",fb[C]),o());break;default:return}Ah()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return Ah()}else if(u)return;if(c.apply(this,arguments)){var h,f,p,d,v,m,g,y,_,b,x,w,k,M=this,C=t.event.target.__data__.type,T="selection"===(t.event.metaKey?C="overlay":C)?ob:t.event.altKey?ub:sb,S=e===cb?null:vb[C],D=e===lb?null:mb[C],A=Ph(M),$=A.extent,E=A.selection,N=$[0][0],P=$[0][1],O=$[1][0],F=$[1][1],I=S&&D&&t.event.shiftKey,z=da(M),R=z,U=r(M,arguments).beforestart();"overlay"===C?A.selection=E=[[h=e===cb?N:z[0],p=e===lb?P:z[1]],[v=e===cb?O:h,g=e===lb?F:p]]:(h=E[0][0],p=E[0][1],v=E[1][0],g=E[1][1]),f=h,d=p,m=v,y=g;var j=Fs(M).attr("pointer-events","none"),L=j.selectAll(".overlay").attr("cursor",fb[C]);if(t.event.touches)j.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var q=Fs(t.event.view).on("keydown.brush",s,!0).on("keyup.brush",l,!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);Dc(t.event.view)}Dh(),Vs(M),i.call(M),U.start()}}function s(){var t=this.__brush||{selection:null};return t.extent=l.apply(this,arguments),t.dim=e,t}var u,l=Nh,c=Eh,h=ki(n,"start","brush","end"),f=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){r(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){r(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&Oh(l)?null:c(t),i.call(o),s.brush()}var o=this,a=o.__brush,s=r(o,arguments),u=a.selection,l=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),c=ui(u,l);return u&&l?t:t(1)}):t.each(function(){var t=this,o=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,o):n,a.extent),u=r(t,o).beforestart();Vs(t),a.selection=null==s||Oh(s)?null:s,i.call(t),u.start().brush().end()})},o.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){ha(new Sh(n,t,e.output(this.state.selection)),h.apply,h,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(l="function"==typeof t?t:Th([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):l},n.filter=function(t){return arguments.length?(c="function"==typeof t?t:Th(!!t),n):c},n.handleSize=function(t){return arguments.length?(f=+t,n):f},n.on=function(){var t=h.on.apply(h,arguments);return t===h?n:t},n}function jh(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Lh(){function t(t){var o,a,s,u,l,c,f=t.length,p=[],d=h(f),v=[],m=[],g=m.groups=new Array(f),y=new Array(f*f);for(o=0,l=-1;++l<f;){for(a=0,c=-1;++c<f;)a+=t[l][c];p.push(a),v.push(h(f)),o+=a}for(n&&d.sort(function(t,e){return n(p[t],p[e])}),i&&v.forEach(function(e,n){e.sort(function(e,r){return i(t[n][e],t[n][r])})}),o=wb(0,xb-e*f)/o,u=o?e:xb/f,a=0,l=-1;++l<f;){for(s=a,c=-1;++c<f;){var _=d[l],b=v[_][c],x=t[_][b],w=a,k=a+=x*o;y[b*f+_]={index:_,subindex:b,startAngle:w,endAngle:k,value:x}}g[_]={index:_,startAngle:s,endAngle:a,value:p[_]},a+=u}for(l=-1;++l<f;)for(c=l-1;++c<f;){var M=y[c*f+l],C=y[l*f+c];(M.value||C.value)&&m.push(M.value<C.value?{source:C,target:M}:{source:M,target:C})}return r?m.sort(r):m}var e=0,n=null,i=null,r=null;return t.padAngle=function(n){return arguments.length?(e=wb(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(i=e,t):i},t.sortChords=function(e){return arguments.length?(null==e?r=null:(r=jh(e))._=e,t):r&&r._},t}function qh(t){return function(){return t}}function Hh(t){return t.source}function Vh(t){return t.target}function Bh(t){return t.radius}function Yh(t){return t.startAngle}function Wh(t){return t.endAngle}function Kh(){function t(){var t,s=kb.call(arguments),u=e.apply(this,s),l=n.apply(this,s),c=+i.apply(this,(s[0]=u,s)),h=r.apply(this,s)-bb,f=o.apply(this,s)-bb,p=c*gb(h),d=c*yb(h),v=+i.apply(this,(s[0]=l,s)),m=r.apply(this,s)-bb,g=o.apply(this,s)-bb;return a||(a=t=Mt()),a.moveTo(p,d),a.arc(0,0,c,h,f),h===m&&f===g||(a.quadraticCurveTo(0,0,v*gb(m),v*yb(m)),a.arc(0,0,v,m,g)),a.quadraticCurveTo(0,0,p,d),a.closePath(),t?(a=null,t+""||null):void 0}var e=Hh,n=Vh,i=Bh,r=Yh,o=Wh,a=null;return t.radius=function(e){return arguments.length?(i="function"==typeof e?e:qh(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:qh(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:qh(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t}function Gh(){return new Xh}function Xh(){this.reset()}function Jh(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function Qh(t){return t>1?0:-1>t?sx:Math.acos(t)}function Zh(t){return t>1?ux:-1>t?-ux:Math.asin(t)}function tf(t){return(t=xx(t/2))*t}function ef(){}function nf(t,e){t&&Tx.hasOwnProperty(t.type)&&Tx[t.type](t,e)}function rf(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function of(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)rf(t[n],e,1);e.polygonEnd()}function af(t,e){t&&Cx.hasOwnProperty(t.type)?Cx[t.type](t,e):nf(t,e)}function sf(){Sx.point=lf}function uf(){cf(Tb,Sb)}function lf(t,e){Sx.point=cf,Tb=t,Sb=e,t*=fx,e*=fx,Db=t,Ab=mx(e=e/2+lx),$b=xx(e)}function cf(t,e){t*=fx,e*=fx,e=e/2+lx;var n=t-Db,i=n>=0?1:-1,r=i*n,o=mx(e),a=xx(e),s=$b*a,u=Ab*o+s*mx(r),l=s*i*xx(r);Mb.add(vx(l,u)),Db=t,Ab=o,$b=a}function hf(t){return Cb?Cb.reset():(Cb=Gh(),Mb=Gh()),af(t,Sx),2*Cb}function ff(t){return[vx(t[1],t[0]),Zh(t[2])]}function pf(t){var e=t[0],n=t[1],i=mx(n);return[i*mx(e),i*xx(e),xx(n)]}function df(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function vf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function mf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function gf(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function yf(t){var e=kx(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _f(t,e){jb.push(Lb=[Eb=t,Pb=t]),Nb>e&&(Nb=e),e>Ob&&(Ob=e)}function bf(t,e){var n=pf([t*fx,e*fx]);if(Rb){var i=vf(Rb,n),r=[i[1],-i[0],0],o=vf(r,i);yf(o),o=ff(o);var a,s=t-Fb,u=s>0?1:-1,l=o[0]*hx*u,c=px(s)>180;c^(l>u*Fb&&u*t>l)?(a=o[1]*hx,a>Ob&&(Ob=a)):(l=(l+360)%360-180,c^(l>u*Fb&&u*t>l)?(a=-o[1]*hx,Nb>a&&(Nb=a)):(Nb>e&&(Nb=e),e>Ob&&(Ob=e))),c?Fb>t?Tf(Eb,t)>Tf(Eb,Pb)&&(Pb=t):Tf(t,Pb)>Tf(Eb,Pb)&&(Eb=t):Pb>=Eb?(Eb>t&&(Eb=t),t>Pb&&(Pb=t)):t>Fb?Tf(Eb,t)>Tf(Eb,Pb)&&(Pb=t):Tf(t,Pb)>Tf(Eb,Pb)&&(Eb=t)}else _f(t,e);Rb=n,Fb=t}function xf(){Dx.point=bf}function wf(){Lb[0]=Eb,Lb[1]=Pb,Dx.point=_f,Rb=null}function kf(t,e){if(Rb){var n=t-Fb;Ub.add(px(n)>180?n+(n>0?360:-360):n)}else Ib=t,zb=e;Sx.point(t,e),bf(t,e)}function Mf(){Sx.lineStart()}function Cf(){kf(Ib,zb),Sx.lineEnd(),px(Ub)>ox&&(Eb=-(Pb=180)),Lb[0]=Eb,Lb[1]=Pb,Rb=null}function Tf(t,e){return(e-=t)<0?e+360:e}function Sf(t,e){return t[0]-e[0]}function Df(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Af(t){var e,n,i,r,o,a,s;if(Ub?Ub.reset():Ub=Gh(),Ob=Pb=-(Eb=Nb=1/0),jb=[],af(t,Dx),n=jb.length){for(jb.sort(Sf),e=1,i=jb[0],o=[i];n>e;++e)r=jb[e],Df(i,r[0])||Df(i,r[1])?(Tf(i[0],r[1])>Tf(i[0],i[1])&&(i[1]=r[1]),Tf(r[0],i[1])>Tf(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-(1/0),n=o.length-1,e=0,i=o[n];n>=e;i=r,++e)r=o[e],(s=Tf(i[1],r[0]))>a&&(a=s,Eb=r[0],Pb=i[1])}return jb=Lb=null,Eb===1/0||Nb===1/0?[[NaN,NaN],[NaN,NaN]]:[[Eb,Nb],[Pb,Ob]]}function $f(t,e){t*=fx,e*=fx;var n=mx(e);Ef(n*mx(t),n*xx(t),xx(e))}function Ef(t,e,n){++qb,Vb+=(t-Vb)/qb,Bb+=(e-Bb)/qb,Yb+=(n-Yb)/qb}function Nf(){Ax.point=Pf}function Pf(t,e){t*=fx,e*=fx;var n=mx(e);ex=n*mx(t),nx=n*xx(t),ix=xx(e),Ax.point=Of,Ef(ex,nx,ix)}function Of(t,e){t*=fx,e*=fx;var n=mx(e),i=n*mx(t),r=n*xx(t),o=xx(e),a=vx(kx((a=nx*o-ix*r)*a+(a=ix*i-ex*o)*a+(a=ex*r-nx*i)*a),ex*i+nx*r+ix*o);Hb+=a,Wb+=a*(ex+(ex=i)),Kb+=a*(nx+(nx=r)),Gb+=a*(ix+(ix=o)),Ef(ex,nx,ix)}function Ff(){Ax.point=$f}function If(){Ax.point=Rf}function zf(){Uf(Zb,tx),Ax.point=$f}function Rf(t,e){Zb=t,tx=e,t*=fx,e*=fx,Ax.point=Uf;var n=mx(e);ex=n*mx(t),nx=n*xx(t),ix=xx(e),Ef(ex,nx,ix)}function Uf(t,e){t*=fx,e*=fx;var n=mx(e),i=n*mx(t),r=n*xx(t),o=xx(e),a=nx*o-ix*r,s=ix*i-ex*o,u=ex*r-nx*i,l=kx(a*a+s*s+u*u),c=ex*i+nx*r+ix*o,h=l&&-Qh(c)/l,f=vx(l,c);Xb+=h*a,Jb+=h*s,Qb+=h*u,Hb+=f,Wb+=f*(ex+(ex=i)),Kb+=f*(nx+(nx=r)),Gb+=f*(ix+(ix=o)),Ef(ex,nx,ix)}function jf(t){qb=Hb=Vb=Bb=Yb=Wb=Kb=Gb=Xb=Jb=Qb=0,af(t,Ax);var e=Xb,n=Jb,i=Qb,r=e*e+n*n+i*i;return ax>r&&(e=Wb,n=Kb,i=Gb,ox>Hb&&(e=Vb,n=Bb,i=Yb),r=e*e+n*n+i*i,ax>r)?[NaN,NaN]:[vx(n,e)*hx,Zh(i/kx(r))*hx]}function Lf(t){return function(){return t}}function qf(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Hf(t,e){return[t>sx?t-cx:-sx>t?t+cx:t,e]}function Vf(t,e,n){return(t%=cx)?e||n?qf(Yf(t),Wf(e,n)):Yf(t):e||n?Wf(e,n):Hf}function Bf(t){return function(e,n){return e+=t,[e>sx?e-cx:-sx>e?e+cx:e,n]}}function Yf(t){var e=Bf(t);return e.invert=Bf(-t),e}function Wf(t,e){function n(t,e){var n=mx(e),s=mx(t)*n,u=xx(t)*n,l=xx(e),c=l*i+s*r;return[vx(u*o-c*a,s*i-l*r),Zh(c*o+u*a)]}var i=mx(t),r=xx(t),o=mx(e),a=xx(e);return n.invert=function(t,e){var n=mx(e),s=mx(t)*n,u=xx(t)*n,l=xx(e),c=l*o-u*a;return[vx(u*o+l*a,s*i+c*r),Zh(c*i-s*r)]},n}function Kf(t){function e(e){return e=t(e[0]*fx,e[1]*fx),e[0]*=hx,e[1]*=hx,e}return t=Vf(t[0]*fx,t[1]*fx,t.length>2?t[2]*fx:0),e.invert=function(e){return e=t.invert(e[0]*fx,e[1]*fx),e[0]*=hx,e[1]*=hx,e},e}function Gf(t,e,n,i,r,o){if(n){var a=mx(e),s=xx(e),u=i*n;null==r?(r=e+i*cx,o=e-u/2):(r=Xf(a,r),o=Xf(a,o),(i>0?o>r:r>o)&&(r+=i*cx));for(var l,c=r;i>0?c>o:o>c;c-=u)l=ff([a,-s*mx(c),-s*xx(c)]),t.point(l[0],l[1])}}function Xf(t,e){e=pf(e),e[0]-=t,yf(e);var n=Qh(-e[1]);return((-e[2]<0?-n:n)+cx-ox)%cx}function Jf(){function t(t,e){n.push(t=i(t,e)),t[0]*=hx,t[1]*=hx}function e(){var t=r.apply(this,arguments),e=o.apply(this,arguments)*fx,u=a.apply(this,arguments)*fx;return n=[],i=Vf(-t[0]*fx,-t[1]*fx,0).invert,Gf(s,e,u,1),t={type:"Polygon",coordinates:[n]},n=i=null,t}var n,i,r=Lf([0,0]),o=Lf(90),a=Lf(6),s={point:t};return e.center=function(t){return arguments.length?(r="function"==typeof t?t:Lf([+t[0],+t[1]]),e):r},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:Lf(+t),e):o},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:Lf(+t),e):a},e}function Qf(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:ef,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Zf(t,e,n,i,r,o){var a,s=t[0],u=t[1],l=e[0],c=e[1],h=0,f=1,p=l-s,d=c-u;if(a=n-s,p||!(a>0)){if(a/=p,0>p){if(h>a)return;f>a&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=r-s,p||!(0>a)){if(a/=p,0>p){if(a>f)return;a>h&&(h=a)}else if(p>0){if(h>a)return;f>a&&(f=a)}if(a=i-u,d||!(a>0)){if(a/=d,0>d){if(h>a)return;f>a&&(f=a)}else if(d>0){if(a>f)return;a>h&&(h=a)}if(a=o-u,d||!(0>a)){if(a/=d,0>d){if(a>f)return;a>h&&(h=a)}else if(d>0){if(h>a)return;f>a&&(f=a)}return h>0&&(t[0]=s+h*p,t[1]=u+h*d),1>f&&(e[0]=s+f*p,e[1]=u+f*d),!0}}}}}function tp(t,e){return px(t[0]-e[0])<ox&&px(t[1]-e[1])<ox}function ep(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function np(t,e,n,i,r){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(tp(i,a)){for(r.lineStart(),o=0;e>o;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}s.push(n=new ep(i,t,null,!0)),u.push(n.o=new ep(i,null,n,!1)),
s.push(n=new ep(a,t,null,!1)),u.push(n.o=new ep(a,null,n,!0))}}),s.length){for(u.sort(e),ip(s),ip(u),o=0,a=u.length;a>o;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,a=l.length;a>o;++o)r.point((c=l[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)r.point((c=l[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,l=f.z,p=!p}while(!f.v);r.lineEnd()}}}function ip(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function rp(t,e,n,i){function r(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function o(r,o,s,l){var c=0,h=0;if(null==r||(c=a(r,s))!==(h=a(o,s))||u(r,o)<0^s>0){do l.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+s+4)%4)!==h)}else l.point(o[0],o[1])}function a(i,r){return px(i[0]-t)<ox?r>0?0:3:px(i[0]-n)<ox?r>0?2:1:px(i[1]-e)<ox?r>0?1:0:r>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){r(t,e)&&S.point(t,e)}function l(){for(var e=0,n=0,r=m.length;r>n;++n)for(var o,a,s=m[n],u=1,l=s.length,c=s[0],h=c[0],f=c[1];l>u;++u)o=h,a=f,c=s[u],h=c[0],f=c[1],i>=a?f>i&&(h-o)*(i-a)>(f-a)*(t-o)&&++e:i>=f&&(f-a)*(t-o)>(h-o)*(i-a)&&--e;return e}function c(){S=D,v=[],m=[],T=!0}function h(){var t=l(),e=T&&t,n=(v=w(v)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&np(v,s,t,o,a),a.polygonEnd()),S=a,v=m=g=null}function f(){A.point=d,m&&m.push(g=[]),C=!0,M=!1,x=k=NaN}function p(){v&&(d(y,_),b&&M&&D.rejoin(),v.push(D.result())),A.point=u,M&&S.lineEnd()}function d(o,a){var s=r(o,a);if(m&&g.push([o,a]),C)y=o,_=a,b=s,C=!1,s&&(S.lineStart(),S.point(o,a));else if(s&&M)S.point(o,a);else{var u=[x=Math.max(Hx,Math.min(qx,x)),k=Math.max(Hx,Math.min(qx,k))],l=[o=Math.max(Hx,Math.min(qx,o)),a=Math.max(Hx,Math.min(qx,a))];Zf(u,l,t,e,n,i)?(M||(S.lineStart(),S.point(u[0],u[1])),S.point(l[0],l[1]),s||S.lineEnd(),T=!1):s&&(S.lineStart(),S.point(o,a),T=!1)}x=o,k=a,M=s}var v,m,g,y,_,b,x,k,M,C,T,S=a,D=Qf(),A={point:u,lineStart:f,lineEnd:p,polygonStart:c,polygonEnd:h};return A}}function op(){var t,e,n,i=0,r=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=rp(i,r,o,a)(e=n)},extent:function(s){return arguments.length?(i=+s[0][0],r=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[i,r],[o,a]]}}}function ap(){Vx.point=up,Vx.lineEnd=sp}function sp(){Vx.point=Vx.lineEnd=ef}function up(t,e){t*=fx,e*=fx,Ex=t,Nx=xx(e),Px=mx(e),Vx.point=lp}function lp(t,e){t*=fx,e*=fx;var n=xx(e),i=mx(e),r=px(t-Ex),o=mx(r),a=xx(r),s=i*a,u=Px*n-Nx*i*o,l=Nx*n+Px*i*o;$x.add(vx(kx(s*s+u*u),l)),Ex=t,Nx=n,Px=i}function cp(t){return $x?$x.reset():$x=Gh(),af(t,Vx),+$x}function hp(t,e){return Bx[0]=t,Bx[1]=e,cp(Yx)}function fp(t,e,n){var i=h(t,e-ox,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function pp(t,e,n){var i=h(t,e-ox,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function dp(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return h(gx(o/g)*g,r,g).map(p).concat(h(gx(l/y)*y,u,y).map(d)).concat(h(gx(i/v)*v,n,v).filter(function(t){return px(t%g)>ox}).map(c)).concat(h(gx(s/m)*m,a,m).filter(function(t){return px(t%y)>ox}).map(f))}var n,i,r,o,a,s,u,l,c,f,p,d,v=10,m=v,g=90,y=360,_=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(d(u).slice(1),p(r).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),t.precision(_)):[[o,l],[r,u]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(_)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(g=+e[0],y=+e[1],t):[g,y]},t.stepMinor=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.precision=function(e){return arguments.length?(_=+e,c=fp(s,a,90),f=pp(i,n,_),p=fp(l,u,90),d=pp(o,r,_),t):_},t.extentMajor([[-180,-90+ox],[180,90-ox]]).extentMinor([[-180,-80-ox],[180,80+ox]])}function vp(t,e){var n=t[0]*fx,i=t[1]*fx,r=e[0]*fx,o=e[1]*fx,a=mx(i),s=xx(i),u=mx(o),l=xx(o),c=a*mx(n),h=a*xx(n),f=u*mx(r),p=u*xx(r),d=2*Zh(kx(tf(o-i)+a*u*tf(r-n))),v=xx(d),m=d?function(t){var e=xx(t*=d)/v,n=xx(d-t)/v,i=n*c+e*f,r=n*h+e*p,o=n*s+e*l;return[vx(r,i)*hx,vx(o,kx(i*i+r*r))*hx]}:function(){return[n*hx,i*hx]};return m.distance=d,m}function mp(t){return t}function gp(){Gx.point=yp}function yp(t,e){Gx.point=_p,Ox=Ix=t,Fx=zx=e}function _p(t,e){Kx.add(zx*t-Ix*e),Ix=t,zx=e}function bp(){_p(Ox,Fx)}function xp(t,e){Xx>t&&(Xx=t),t>Qx&&(Qx=t),Jx>e&&(Jx=e),e>Zx&&(Zx=e)}function wp(t,e){ew+=t,nw+=e,++iw}function kp(){cw.point=Mp}function Mp(t,e){cw.point=Cp,wp(jx=t,Lx=e)}function Cp(t,e){var n=t-jx,i=e-Lx,r=kx(n*n+i*i);rw+=r*(jx+t)/2,ow+=r*(Lx+e)/2,aw+=r,wp(jx=t,Lx=e)}function Tp(){cw.point=wp}function Sp(){cw.point=Ap}function Dp(){$p(Rx,Ux)}function Ap(t,e){cw.point=$p,wp(Rx=jx=t,Ux=Lx=e)}function $p(t,e){var n=t-jx,i=e-Lx,r=kx(n*n+i*i);rw+=r*(jx+t)/2,ow+=r*(Lx+e)/2,aw+=r,r=Lx*t-jx*e,sw+=r*(jx+t),uw+=r*(Lx+e),lw+=3*r,wp(jx=t,Lx=e)}function Ep(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,cx)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:ef};return s}function Np(){function t(t,e){s.push("M",t,",",e,a)}function e(t,e){s.push("M",t,",",e),u.point=n}function n(t,e){s.push("L",t,",",e)}function i(){u.point=e}function r(){u.point=t}function o(){s.push("Z")}var a=Pp(4.5),s=[],u={point:t,lineStart:i,lineEnd:r,polygonStart:function(){u.lineEnd=o},polygonEnd:function(){u.lineEnd=r,u.point=t},pointRadius:function(t){return a=Pp(t),u},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return u}function Pp(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Op(){function t(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),af(t,n(r))),r.result()}var e,n,i,r,o=4.5;return t.area=function(t){return af(t,n(Gx)),Gx.result()},t.bounds=function(t){return af(t,n(tw)),tw.result()},t.centroid=function(t){return af(t,n(cw)),cw.result()},t.projection=function(i){return arguments.length?(n=null==(e=i)?mp:i.stream,t):e},t.context=function(e){return arguments.length?(r=null==(i=e)?new Np:new Ep(e),"function"!=typeof o&&r.pointRadius(o),t):i},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),t):o},t.projection(null).context(null)}function Fp(t,e){for(var n=e[0],i=e[1],r=[xx(n),-mx(n),0],o=0,a=0,s=0,u=t.length;u>s;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],f=h[0],p=h[1]/2+lx,d=xx(p),v=mx(p),m=0;c>m;++m,f=y,d=b,v=x,h=g){var g=l[m],y=g[0],_=g[1]/2+lx,b=xx(_),x=mx(_),w=y-f,k=w>=0?1:-1,M=k*w,C=M>sx,T=d*b;if(hw.add(vx(T*k*xx(M),v*x+T*mx(M))),o+=C?w+k*cx:w,C^f>=n^y>=n){var S=vf(pf(h),pf(g));yf(S);var D=vf(r,S);yf(D);var A=(C^w>=0?-1:1)*Zh(D[2]);(i>A||i===A&&(S[0]||S[1]))&&(a+=C^w>=0?1:-1)}}var $=(-ox>o||ox>o&&-ox>hw)^1&a;return hw.reset(),$}function Ip(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function u(){x.point=s,m.lineStart()}function l(){x.point=a,m.lineEnd()}function c(t,e){v.push([t,e]);var n=r(t,e);_.point(n[0],n[1])}function h(){_.lineStart(),v=[]}function f(){c(v[0][0],v[0][1]),_.lineEnd();var t,e,n,i,r=_.clean(),a=y.result(),s=a.length;if(v.pop(),p.push(v),v=null,s)if(1&r){if(n=a[0],(e=n.length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;e>t;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else s>1&&2&r&&a.push(a.pop().concat(a.shift())),d.push(a.filter(zp))}var p,d,v,m=e(o),g=r.invert(i[0],i[1]),y=Qf(),_=e(y),b=!1,x={point:a,lineStart:u,lineEnd:l,polygonStart:function(){x.point=c,x.lineStart=h,x.lineEnd=f,d=[],p=[]},polygonEnd:function(){x.point=a,x.lineStart=u,x.lineEnd=l,d=w(d);var t=Fp(p,g);d.length?(b||(o.polygonStart(),b=!0),np(d,Rp,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}}function zp(t){return t.length>1}function Rp(t,e){return((t=t.x)[0]<0?t[1]-ux-ox:ux-t[1])-((e=e.x)[0]<0?e[1]-ux-ox:ux-e[1])}function Up(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?sx:-sx,u=px(o-n);px(u-sx)<ox?(t.point(n,i=(i+a)/2>0?ux:-ux),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=sx&&(px(n-r)<ox&&(n-=r*ox),px(o-s)<ox&&(o-=s*ox),i=jp(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function jp(t,e,n,i){var r,o,a=xx(t-n);return px(a)>ox?dx((xx(e)*(o=mx(i))*xx(n)-xx(i)*(r=mx(e))*xx(t))/(r*o*a)):(e+i)/2}function Lp(t,e,n,i){var r;if(null==t)r=n*ux,i.point(-sx,r),i.point(0,r),i.point(sx,r),i.point(sx,0),i.point(sx,-r),i.point(0,-r),i.point(-sx,-r),i.point(-sx,0),i.point(-sx,r);else if(px(t[0]-e[0])>ox){var o=t[0]<e[0]?sx:-sx;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function qp(t,e){function n(n,i,r,o){Gf(o,t,e,r,n,i)}function i(t,e){return mx(t)*mx(e)>s}function r(t){var e,n,r,s,c;return{lineStart:function(){s=r=!1,c=1},point:function(h,f){var p,d=[h,f],v=i(h,f),m=u?v?0:a(h,f):v?a(h+(0>h?sx:-sx),f):0;if(!e&&(s=r=v)&&t.lineStart(),v!==r&&(p=o(e,d),(tp(e,p)||tp(d,p))&&(d[0]+=ox,d[1]+=ox,v=i(d[0],d[1]))),v!==r)c=0,v?(t.lineStart(),p=o(d,e),t.point(p[0],p[1])):(p=o(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(l&&e&&u^v){var g;m&n||!(g=o(d,e,!0))||(c=0,u?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!v||e&&tp(e,d)||t.point(d[0],d[1]),e=d,r=v,n=m},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return c|(s&&r)<<1}}}function o(t,e,n){var i=pf(t),r=pf(e),o=[1,0,0],a=vf(i,r),u=df(a,a),l=a[0],c=u-l*l;if(!c)return!n&&t;var h=s*u/c,f=-s*l/c,p=vf(o,a),d=gf(o,h),v=gf(a,f);mf(d,v);var m=p,g=df(d,m),y=df(m,m),_=g*g-y*(df(d,d)-1);if(!(0>_)){var b=kx(_),x=gf(m,(-g-b)/y);if(mf(x,d),x=ff(x),!n)return x;var w,k=t[0],M=e[0],C=t[1],T=e[1];k>M&&(w=k,k=M,M=w);var S=M-k,D=px(S-sx)<ox,A=D||ox>S;if(!D&&C>T&&(w=C,C=T,T=w),A?D?C+T>0^x[1]<(px(x[0]-k)<ox?C:T):C<=x[1]&&x[1]<=T:S>sx^(k<=x[0]&&x[0]<=M)){var $=gf(m,(-g+b)/y);return mf($,d),[x,ff($)]}}}function a(e,n){var i=u?t:sx-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var s=mx(t),u=s>0,l=px(s)>ox;return Ip(i,r,n,u?[0,-t]:[-sx,t-sx])}function Hp(t){return{stream:Vp(t)}}function Vp(t){function e(){}var n=e.prototype=Object.create(Bp.prototype);for(var i in t)n[i]=t[i];return function(t){var n=new e;return n.stream=t,n}}function Bp(){}function Yp(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),af(n,t.stream(tw));var a=tw.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),u=+e[0][0]+(i-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function Wp(t){return function(e,n){return Yp(t,[[0,0],e],n)}}function Kp(t){return function(e,n){return Yp(t,e,n)}}function Gp(t,e){return+e?Jp(t,e):Xp(t)}function Xp(t){return Vp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Jp(t,e){function n(i,r,o,a,s,u,l,c,h,f,p,d,v,m){var g=l-i,y=c-r,_=g*g+y*y;if(_>4*e&&v--){var b=a+f,x=s+p,w=u+d,k=kx(b*b+x*x+w*w),M=Zh(w/=k),C=px(px(w)-1)<ox||px(o-h)<ox?(o+h)/2:vx(x,b),T=t(C,M),S=T[0],D=T[1],A=S-i,$=D-r,E=y*A-g*$;(E*E/_>e||px((g*A+y*$)/_-.5)>.3||dw>a*f+s*p+u*d)&&(n(i,r,o,a,s,u,S,D,C,b/=k,x/=k,w,v,m),m.point(S,D),n(S,D,C,b,x,w,l,c,h,f,p,d,v,m))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){g=NaN,w.point=o,e.lineStart()}function o(i,r){var o=pf([i,r]),a=t(i,r);n(g,y,m,_,b,x,g=a[0],y=a[1],m=i,_=o[0],b=o[1],x=o[2],pw,e),e.point(g,y)}function a(){w.point=i,e.lineEnd()}function s(){r(),w.point=u,w.lineEnd=l}function u(t,e){o(c=t,e),h=g,f=y,p=_,d=b,v=x,w.point=o}function l(){n(g,y,m,_,b,x,h,f,c,p,d,v,pw,e),w.lineEnd=a,a()}var c,h,f,p,d,v,m,g,y,_,b,x,w={point:i,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=r}};return w}}function Qp(t){return Zp(function(){return t})()}function Zp(t){function e(t){return t=c(t[0]*fx,t[1]*fx),[t[0]*m+s,u-t[1]*m]}function n(t){return t=c.invert((t[0]-s)/m,(u-t[1])/m),t&&[t[0]*hx,t[1]*hx]}function i(t,e){return t=a(t,e),[t[0]*m+s,u-t[1]*m]}function r(){c=qf(l=Vf(x,w,k),a);var t=a(_,b);return s=g-t[0]*m,u=y+t[1]*m,o()}function o(){return d=v=null,e}var a,s,u,l,c,h,f,p,d,v,m=150,g=480,y=250,_=0,b=0,x=0,w=0,k=0,M=null,C=fw,T=null,S=mp,D=.5,A=Gp(i,D);return e.stream=function(t){return d&&v===t?d:d=vw(C(l,A(S(v=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?qp(M=t*fx,6*fx):(M=null,fw),o()):M*hx},e.clipExtent=function(t){return arguments.length?(S=null==t?(T=h=f=p=null,mp):rp(T=+t[0][0],h=+t[0][1],f=+t[1][0],p=+t[1][1]),o()):null==T?null:[[T,h],[f,p]]},e.scale=function(t){return arguments.length?(m=+t,r()):m},e.translate=function(t){return arguments.length?(g=+t[0],y=+t[1],r()):[g,y]},e.center=function(t){return arguments.length?(_=t[0]%360*fx,b=t[1]%360*fx,r()):[_*hx,b*hx]},e.rotate=function(t){return arguments.length?(x=t[0]%360*fx,w=t[1]%360*fx,k=t.length>2?t[2]%360*fx:0,r()):[x*hx,w*hx,k*hx]},e.precision=function(t){return arguments.length?(A=Gp(i,D=t*t),o()):kx(D)},e.fitExtent=Kp(e),e.fitSize=Wp(e),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,r()}}function td(t){var e=0,n=sx/3,i=Zp(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*fx,n=t[1]*fx):[e*hx,n*hx]},r}function ed(t,e){function n(t,e){var n=kx(o-2*r*xx(e))/r;return[n*xx(t*=r),a-n*mx(t)]}var i=xx(t),r=(i+xx(e))/2,o=1+i*(2*r-i),a=kx(o)/r;return n.invert=function(t,e){var n=a-e;return[vx(t,n)/r,Zh((o-(t*t+n*n)*r*r)/(2*r))]},n}function nd(){return td(ed).scale(155.424).center([0,33.6442])}function id(){return nd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function rd(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function od(){function t(t){var e=t[0],n=t[1];return a=null,i.point(e,n),a||(r.point(e,n),a)||(o.point(e,n),a)}var e,n,i,r,o,a,s=id(),u=nd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=nd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){a=[t,e]}};return t.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?u:r>=.166&&.234>r&&i>=-.214&&-.115>i?l:s).invert(t)},t.stream=function(t){return e&&n===t?e:e=rd([s.stream(n=t),u.stream(t),l.stream(t)])},t.precision=function(e){return arguments.length?(s.precision(e),u.precision(e),l.precision(e),t):s.precision()},t.scale=function(e){return arguments.length?(s.scale(e),u.scale(.35*e),l.scale(e),t.translate(s.translate())):s.scale()},t.translate=function(e){if(!arguments.length)return s.translate();var n=s.scale(),a=+e[0],h=+e[1];return i=s.translate(e).clipExtent([[a-.455*n,h-.238*n],[a+.455*n,h+.238*n]]).stream(c),r=u.translate([a-.307*n,h+.201*n]).clipExtent([[a-.425*n+ox,h+.12*n+ox],[a-.214*n-ox,h+.234*n-ox]]).stream(c),o=l.translate([a-.205*n,h+.212*n]).clipExtent([[a-.214*n+ox,h+.166*n+ox],[a-.115*n-ox,h+.234*n-ox]]).stream(c),t},t.fitExtent=Kp(t),t.fitSize=Wp(t),t.scale(1070)}function ad(t){return function(e,n){var i=mx(e),r=mx(n),o=t(i*r);return[o*r*xx(e),o*xx(n)]}}function sd(t){return function(e,n){var i=kx(e*e+n*n),r=t(i),o=xx(r),a=mx(r);return[vx(e*o,i*a),Zh(i&&n*o/i)]}}function ud(){return Qp(mw).scale(124.75).clipAngle(179.999)}function ld(){return Qp(gw).scale(79.4188).clipAngle(179.999)}function cd(t,e){return[t,_x(Mx((ux+e)/2))]}function hd(){return fd(cd).scale(961/cx)}function fd(t){var e,n=Qp(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(t){return arguments.length?(i(t),e&&n.clipExtent(null),n):i()},n.translate=function(t){return arguments.length?(r(t),e&&n.clipExtent(null),n):r()},n.clipExtent=function(t){if(!arguments.length)return e?null:o();if(e=null==t){var a=sx*i(),s=r();t=[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]}return o(t),n},n.clipExtent(null)}function pd(t){return Mx((ux+t)/2)}function dd(t,e){function n(t,e){o>0?-ux+ox>e&&(e=-ux+ox):e>ux-ox&&(e=ux-ox);var n=o/bx(pd(e),r);return[n*xx(r*t),o-n*mx(r*t)]}var i=mx(t),r=t===e?xx(t):_x(i/mx(e))/_x(pd(e)/pd(t)),o=i*bx(pd(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,i=wx(r)*kx(t*t+n*n);return[vx(t,n)/r,2*dx(bx(o/i,1/r))-ux]},n):cd}function vd(){return td(dd).scale(109.5).parallels([30,30])}function md(t,e){return[t,e]}function gd(){return Qp(md).scale(152.63)}function yd(t,e){function n(t,e){var n=o-e,i=r*t;return[n*xx(i),o-n*mx(i)]}var i=mx(t),r=t===e?xx(t):(i-mx(e))/(e-t),o=i/r+t;return px(r)<ox?md:(n.invert=function(t,e){var n=o-e;return[vx(t,n)/r,o-wx(r)*kx(t*t+n*n)]},n)}function _d(){return td(yd).scale(131.154).center([0,13.9389])}function bd(t,e){var n=mx(e),i=mx(t)*n;return[n*xx(t)/i,xx(e)/i]}function xd(){return Qp(bd).scale(144.049).clipAngle(60)}function wd(t,e){return[mx(e)*xx(t),xx(e)]}function kd(){return Qp(wd).scale(249.5).clipAngle(90+ox)}function Md(t,e){var n=mx(e),i=1+mx(t)*n;return[n*xx(t)/i,xx(e)/i]}function Cd(){return Qp(Md).scale(250).clipAngle(142)}function Td(t,e){return[_x(Mx((ux+e)/2)),-t]}function Sd(){var t=fd(Td),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)}var Dd="4.2.0",Ad=n(e),$d=Ad.right,Ed=Ad.left,Nd=Array.prototype,Pd=Nd.slice,Od=Nd.map,Fd=Math.sqrt(50),Id=Math.sqrt(10),zd=Math.sqrt(2),Rd="$";N.prototype=P.prototype={constructor:N,has:function(t){return Rd+t in this},get:function(t){return this[Rd+t]},set:function(t,e){return this[Rd+t]=e,this},remove:function(t){var e=Rd+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Rd&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Rd&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Rd&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Rd&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Rd&&++t;return t},empty:function(){for(var t in this)if(t[0]===Rd)return!1;return!0},each:function(t){for(var e in this)e[0]===Rd&&t(this[e],e.slice(1),this)}};var Ud=P.prototype;U.prototype=j.prototype={constructor:U,has:Ud.has,add:function(t){return t+="",this[Rd+t]=t,this},remove:Ud.remove,clear:Ud.clear,values:Ud.keys,size:Ud.size,empty:Ud.empty,each:Ud.each};var jd=3,Ld=function yw(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=yw,e}(jd),qd=function _w(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=_w,e}(jd),Hd=function bw(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=bw,e}(jd),Vd=Math.PI,Bd=Vd/2,Yd=4/11,Wd=6/11,Kd=8/11,Gd=.75,Xd=9/11,Jd=10/11,Qd=.9375,Zd=21/22,tv=63/64,ev=1/Yd/Yd,nv=1.70158,iv=function xw(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=xw,e}(nv),rv=function ww(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=ww,e}(nv),ov=function kw(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=kw,e}(nv),av=2*Math.PI,sv=1,uv=.3,lv=function Mw(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((i-n)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=av);return n.amplitude=function(t){return Mw(t,e*av)},n.period=function(e){return Mw(t,e)},n}(sv,uv),cv=function Cw(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+i)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=av);return n.amplitude=function(t){return Cw(t,e*av)},n.period=function(e){return Cw(t,e)},n}(sv,uv),hv=function Tw(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((i-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((i+n)/e))/2}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=av);return n.amplitude=function(t){return Tw(t,e*av)},n.period=function(e){return Tw(t,e)},n}(sv,uv),fv=Math.PI,pv=2*fv,dv=1e-6,vv=pv-dv;kt.prototype=Mt.prototype={constructor:kt,moveTo:function(t,e){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(t,e){this._.push("L",this._x1=+t,",",this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._.push("Q",+t,",",+e,",",this._x1=+n,",",this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._.push("C",+t,",",+e,",",+n,",",+i,",",this._x1=+r,",",this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,u=i-e,l=o-t,c=a-e,h=l*l+c*c;if(0>r)throw new Error("negative radius: "+r);if(null===this._x1)this._.push("M",this._x1=t,",",this._y1=e);else if(h>dv)if(Math.abs(c*s-u*l)>dv&&r){var f=n-o,p=i-a,d=s*s+u*u,v=f*f+p*p,m=Math.sqrt(d),g=Math.sqrt(h),y=r*Math.tan((fv-Math.acos((d+h-v)/(2*m*g)))/2),_=y/g,b=y/m;Math.abs(_-1)>dv&&this._.push("L",t+_*l,",",e+_*c),this._.push("A",r,",",r,",0,0,",+(c*f>l*p),",",this._x1=t+b*s,",",this._y1=e+b*u)}else this._.push("L",this._x1=t,",",this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n;var a=n*Math.cos(i),s=n*Math.sin(i),u=t+a,l=e+s,c=1^o,h=o?i-r:r-i;if(0>n)throw new Error("negative radius: "+n);null===this._x1?this._.push("M",u,",",l):(Math.abs(this._x1-u)>dv||Math.abs(this._y1-l)>dv)&&this._.push("L",u,",",l),n&&(h>vv?this._.push("A",n,",",n,",0,1,",c,",",t-a,",",e-s,"A",n,",",n,",0,1,",c,",",this._x1=u,",",this._y1=l):(0>h&&(h=h%pv+pv),this._.push("A",n,",",n,",0,",+(h>=fv),",",c,",",this._x1=t+n*Math.cos(r),",",this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e,"h",+n,"v",+i,"h",-n,"Z")},toString:function(){return this._.join("")}};var mv=Ht.prototype=Vt.prototype;mv.copy=function(){var t,e,n=new Vt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=Bt(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;4>r;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=Bt(e));return n},mv.add=Ct,mv.addAll=St,mv.cover=Dt,mv.data=At,mv.extent=$t,mv.find=Nt,mv.remove=Pt,mv.removeAll=Ot,mv.root=Ft,mv.size=It,mv.visit=zt,mv.visitAfter=Rt,mv.x=jt,mv.y=qt;var gv=[].slice,yv={};Yt.prototype=Qt.prototype={constructor:Yt,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=gv.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),Wt(this),this},abort:function(){return null==this._error&&Xt(this,new Error("abort")),this},await:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=function(e,n){t.apply(null,[e].concat(n))},Jt(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,Jt(this),this}};var _v=1e-12,bv=Math.PI,xv=bv/2,wv=2*bv;le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var kv=_e(ce);ye.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Mv={draw:function(t,e){var n=Math.sqrt(e/bv);t.moveTo(n,0),t.arc(0,0,n,0,wv)}},Cv={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Tv=Math.sqrt(1/3),Sv=2*Tv,Dv={draw:function(t,e){var n=Math.sqrt(e/Sv),i=n*Tv;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Av=.8908130915292852,$v=Math.sin(bv/10)/Math.sin(7*bv/10),Ev=Math.sin(wv/10)*$v,Nv=-Math.cos(wv/10)*$v,Pv={draw:function(t,e){var n=Math.sqrt(e*Av),i=Ev*n,r=Nv*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;5>o;++o){var a=wv*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},Ov={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},Fv=Math.sqrt(3),Iv={draw:function(t,e){var n=-Math.sqrt(e/(3*Fv));t.moveTo(0,2*n),t.lineTo(-Fv*n,-n),t.lineTo(Fv*n,-n),t.closePath()}},zv=-.5,Rv=Math.sqrt(3)/2,Uv=1/Math.sqrt(12),jv=3*(Uv/2+1),Lv={draw:function(t,e){var n=Math.sqrt(e/jv),i=n/2,r=n*Uv,o=i,a=n*Uv+n,s=-o,u=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(zv*i-Rv*r,Rv*i+zv*r),t.lineTo(zv*o-Rv*a,Rv*o+zv*a),t.lineTo(zv*s-Rv*u,Rv*s+zv*u),t.lineTo(zv*i+Rv*r,zv*r-Rv*i),t.lineTo(zv*o+Rv*a,zv*a-Rv*o),t.lineTo(zv*s+Rv*u,zv*u-Rv*s),t.closePath()}},qv=[Mv,Cv,Dv,Ov,Pv,Iv,Lv];Te.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ce(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ce(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},De.prototype={areaStart:Me,areaEnd:Me,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ce(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},$e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ce(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ne.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*a),this._beta*e[u]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Hv=function Sw(t){function e(e){return 1===t?new Te(e):new Ne(e,t)}return e.beta=function(t){return Sw(+t)},e}(.85);Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Pe(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Pe(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Vv=function Dw(t){function e(e){return new Oe(e,t)}return e.tension=function(t){return Dw(+t)},e}(0);Fe.prototype={areaStart:Me,areaEnd:Me,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Pe(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bv=function Aw(t){function e(e){return new Fe(e,t)}return e.tension=function(t){return Aw(+t)},e}(0);Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pe(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Yv=function $w(t){function e(e){return new Ie(e,t)}return e.tension=function(t){return $w(+t)},e}(0);Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);
break;case 3:this.point(this,this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ze(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Wv=function Ew(t){function e(e){return t?new Re(e,t):new Oe(e,0)}return e.alpha=function(t){return Ew(+t)},e}(.5);Ue.prototype={areaStart:Me,areaEnd:Me,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ze(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Kv=function Nw(t){function e(e){return t?new Ue(e,t):new Fe(e,0)}return e.alpha=function(t){return Nw(+t)},e}(.5);je.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ze(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Gv=function Pw(t){function e(e){return t?new je(e,t):new Ie(e,0)}return e.alpha=function(t){return Pw(+t)},e}(.5);Le.prototype={areaStart:Me,areaEnd:Me,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},We.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ye(this,this._t0,Be(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ye(this,Be(this,n=Ve(this,t,e)),n);break;default:Ye(this,this._t0,n=Ve(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ke.prototype=Object.create(We.prototype)).point=function(t,e){We.prototype.point.call(this,e,t)},Ge.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Ze(t),r=Ze(e),o=0,a=1;n>a;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},en.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Xv=Array.prototype.slice,Jv=.7,Qv=1/Jv,Zv=/^#([0-9a-f]{3})$/,tm=/^#([0-9a-f]{6})$/,em=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,nm=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,im=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,rm=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,om=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,am=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,sm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yn(bn,xn,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),yn(Tn,Cn,_n(bn,{brighter:function(t){return t=null==t?Qv:Math.pow(Qv,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Jv:Math.pow(Jv,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),yn($n,An,_n(bn,{brighter:function(t){return t=null==t?Qv:Math.pow(Qv,t),new $n(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Jv:Math.pow(Jv,t),new $n(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(.5>n?n:1-n)*e,r=2*n-i;return new Tn(En(t>=240?t-240:t+120,r,i),En(t,r,i),En(120>t?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var um=Math.PI/180,lm=180/Math.PI,cm=18,hm=.95047,fm=1,pm=1.08883,dm=4/29,vm=6/29,mm=3*vm*vm,gm=vm*vm*vm;yn(On,Pn,_n(bn,{brighter:function(t){return new On(this.l+cm*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new On(this.l-cm*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=fm*In(t),e=hm*In(e),n=pm*In(n),new Tn(zn(3.2404542*e-1.5371385*t-.4985314*n),zn(-.969266*e+1.8760108*t+.041556*n),zn(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),yn(Ln,jn,_n(bn,{brighter:function(t){return new Ln(this.h,this.c,this.l+cm*(null==t?1:t),this.opacity)},darker:function(t){return new Ln(this.h,this.c,this.l-cm*(null==t?1:t),this.opacity)},rgb:function(){return Nn(this).rgb()}}));var ym=-.14861,_m=1.78277,bm=-.29227,xm=-.90649,wm=1.97294,km=wm*xm,Mm=wm*_m,Cm=_m*bm-xm*ym;yn(Vn,Hn,_n(bn,{brighter:function(t){return t=null==t?Qv:Math.pow(Qv,t),new Vn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Jv:Math.pow(Jv,t),new Vn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*um,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Tn(255*(e+n*(ym*i+_m*r)),255*(e+n*(bm*i+xm*r)),255*(e+n*(wm*i)),this.opacity)}}));var Tm,Sm,Dm,Am,$m=function Ow(t){function e(t,e){var i=n((t=Cn(t)).r,(e=Cn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=n(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}var n=Qn(t);return e.gamma=Ow,e}(1),Em=ti(Yn),Nm=ti(Wn),Pm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Om=new RegExp(Pm.source,"g"),Fm=180/Math.PI,Im={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},zm=pi(hi,"px, ","px)","deg)"),Rm=pi(fi,", ",")",")"),Um=Math.SQRT2,jm=2,Lm=4,qm=1e-12,Hm=yi(Jn),Vm=yi(Zn),Bm=bi(Jn),Ym=bi(Zn),Wm=xi(Jn),Km=xi(Zn),Gm={value:function(){}};Mi.prototype=ki.prototype={constructor:Mi,on:function(t,e){var n,i=this._,r=Ci(t+"",i),o=-1,a=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=Si(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Si(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=Ti(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Mi(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;n>o;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;n>o;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;o>r;++r)i[r].value.apply(e,n)}};var Xm,Jm,Qm=Ei(","),Zm=Qm.parse,tg=Qm.parseRows,eg=Qm.format,ng=Qm.formatRows,ig=Ei("	"),rg=ig.parse,og=ig.parseRows,ag=ig.format,sg=ig.formatRows,ug=Fi("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),lg=Fi("application/json",function(t){return JSON.parse(t.responseText)}),cg=Fi("text/plain",function(t){return t.responseText}),hg=Fi("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),fg=Ii("text/csv",Zm),pg=Ii("text/tab-separated-values",rg),dg=0,vg=0,mg=0,gg=1e3,yg=0,_g=0,bg=0,xg="object"==typeof performance&&performance.now?performance:Date,wg="function"==typeof requestAnimationFrame?xg===Date?function(t){requestAnimationFrame(function(){t(xg.now())})}:requestAnimationFrame:function(t){setTimeout(t,17)};ji.prototype=Li.prototype={constructor:ji,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ri():+n)+(null==e?0:+e),this._next||Jm===this||(Jm?Jm._next=this:Xm=this,Jm=this),this._call=t,this._time=n,Yi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yi())}};var kg=new Date,Mg=new Date,Cg=Gi(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Cg.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Gi(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Cg:null};var Tg=Cg.range,Sg=1e3,Dg=6e4,Ag=36e5,$g=864e5,Eg=6048e5,Ng=Gi(function(t){t.setTime(Math.floor(t/Sg)*Sg)},function(t,e){t.setTime(+t+e*Sg)},function(t,e){return(e-t)/Sg},function(t){return t.getUTCSeconds()}),Pg=Ng.range,Og=Gi(function(t){t.setTime(Math.floor(t/Dg)*Dg)},function(t,e){t.setTime(+t+e*Dg)},function(t,e){return(e-t)/Dg},function(t){return t.getMinutes()}),Fg=Og.range,Ig=Gi(function(t){var e=t.getTimezoneOffset()*Dg%Ag;0>e&&(e+=Ag),t.setTime(Math.floor((+t-e)/Ag)*Ag+e)},function(t,e){t.setTime(+t+e*Ag)},function(t,e){return(e-t)/Ag},function(t){return t.getHours()}),zg=Ig.range,Rg=Gi(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dg)/$g},function(t){return t.getDate()-1}),Ug=Rg.range,jg=Xi(0),Lg=Xi(1),qg=Xi(2),Hg=Xi(3),Vg=Xi(4),Bg=Xi(5),Yg=Xi(6),Wg=jg.range,Kg=Lg.range,Gg=qg.range,Xg=Hg.range,Jg=Vg.range,Qg=Bg.range,Zg=Yg.range,ty=Gi(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),ey=ty.range,ny=Gi(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});ny.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gi(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var iy=ny.range,ry=Gi(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Dg)},function(t,e){return(e-t)/Dg},function(t){return t.getUTCMinutes()}),oy=ry.range,ay=Gi(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Ag)},function(t,e){return(e-t)/Ag},function(t){return t.getUTCHours()}),sy=ay.range,uy=Gi(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/$g},function(t){return t.getUTCDate()-1}),ly=uy.range,cy=Ji(0),hy=Ji(1),fy=Ji(2),py=Ji(3),dy=Ji(4),vy=Ji(5),my=Ji(6),gy=cy.range,yy=hy.range,_y=fy.range,by=py.range,xy=dy.range,wy=vy.range,ky=my.range,My=Gi(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Cy=My.range,Ty=Gi(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Ty.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gi(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Sy,Dy=Ty.range,Ay={"":er,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ir(100*t,e)},r:ir,s:nr,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},$y=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;or.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Ey,Ny=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];ur({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Py,Oy={"-":"",_:" ",0:"0"},Fy=/^\s*\d+/,Iy=/^%/,zy=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;lo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ry="%Y-%m-%dT%H:%M:%S.%LZ",Uy=Date.prototype.toISOString?co:t.utcFormat(Ry),jy=+new Date("2000-01-01T00:00:00.000Z")?ho:t.utcParse(Ry),Ly=Array.prototype,qy=Ly.map,Hy=Ly.slice,Vy={name:"implicit"},By=[0,1],Yy=1e3,Wy=60*Yy,Ky=60*Wy,Gy=24*Ky,Xy=7*Gy,Jy=30*Gy,Qy=365*Gy,Zy=Go("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),t_=Go("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),e_=Go("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),n_=Go("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),i_=Km(Hn(300,.5,0),Hn(-240,.5,1)),r_=Km(Hn(-100,.75,.35),Hn(80,1.5,.8)),o_=Km(Hn(260,.75,.35),Hn(80,1.5,.8)),a_=Hn(),s_=Jo(Go("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),u_=Jo(Go("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),l_=Jo(Go("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),c_=Jo(Go("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),h_="http://www.w3.org/1999/xhtml",f_={svg:"http://www.w3.org/2000/svg",xhtml:h_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},p_=0;ra.prototype=ia.prototype={constructor:ra,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var d_=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var v_=document.documentElement;if(!v_.matches){var m_=v_.webkitMatchesSelector||v_.msMatchesSelector||v_.mozMatchesSelector||v_.oMatchesSelector;d_=function(t){return function(){return m_.call(this,t)}}}}var g_=d_,y_={};if(t.event=null,"undefined"!=typeof document){var __=document.documentElement;"onmouseenter"in __||(y_={mouseenter:"mouseover",mouseleave:"mouseout"})}Ma.prototype={constructor:Ma,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var b_="$";rs.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var x_=[null];Ps.prototype=Os.prototype={constructor:Ps,select:ga,selectAll:ba,filter:xa,data:Da,enter:ka,exit:Aa,merge:$a,order:Ea,sort:Na,call:Oa,nodes:Fa,node:Ia,size:za,empty:Ra,each:Ua,attr:Ya,style:Ja,property:es,classed:cs,text:ds,html:ys,raise:bs,lower:ws,append:ks,insert:Cs,remove:Ss,datum:Ds,on:ca,dispatch:Ns};var w_=ki("start","end","interrupt"),k_=[],M_=0,C_=1,T_=2,S_=3,D_=4,A_=5,$_=Os.prototype.constructor,E_=0,N_=Os.prototype;Iu.prototype=zu.prototype={constructor:Iu,select:wu,selectAll:ku,filter:vu,merge:mu,selection:Mu,transition:Fu,call:N_.call,nodes:N_.nodes,node:N_.node,size:N_.size,empty:N_.empty,each:N_.each,on:_u,attr:iu,attrTween:au,style:Au,styleTween:Eu,text:Ou,remove:xu,tween:Ks,delay:lu,duration:fu,ease:du};var P_={time:null,delay:0,duration:250,ease:nt};Os.prototype.interrupt=Bs,Os.prototype.transition=ju;var O_=[null],F_=Array.prototype.slice,I_=1,z_=2,R_=3,U_=4,j_=1e-6;wl.prototype=gl.prototype={constructor:wl,each:al,eachAfter:ul,eachBefore:sl,sum:ll,sort:cl,path:hl,ancestors:pl,descendants:dl,leaves:vl,links:ml,copy:yl};var L_="$",q_={depth:-1},H_={};rc.prototype=Object.create(wl.prototype);var V_=(1+Math.sqrt(5))/2,B_=function Fw(t){function e(e,n,i,r,o){uc(t,e,n,i,r,o)}return e.ratio=function(t){return Fw((t=+t)>1?t:1)},e}(V_),Y_=function Iw(t){function e(e,n,i,r,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,l,c,h=-1,f=a.length,p=e.value;++h<f;){for(s=a[h],u=s.children,l=s.value=0,c=u.length;c>l;++l)s.value+=u[l].value;s.dice?Wl(s,n,i,r,i+=(o-i)*s.value/p):sc(s,n,i,n+=(r-n)*s.value/p,o),p-=s.value}else e._squarify=a=uc(t,e,n,i,r,o),a.ratio=t}return e.ratio=function(t){return Iw((t=+t)>1?t:1)},e}(V_),W_=10,K_=Math.PI*(3-Math.sqrt(5));Ec.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t},Uc.prototype={constructor:Uc,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Hc(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Lc(this,n),t=n,n=t.U),n.C=!1,i.C=!0,qc(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(qc(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Lc(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?Hc(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Lc(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,qc(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Lc(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,qc(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Lc(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,qc(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var G_,X_,J_,Q_,Z_,tb=[],eb=[],nb=1e-6,ib=1e-12;dh.prototype={constructor:dh,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Qc(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){for(var r,o=n.site,a=n.halfedges,s=-1,u=a.length,l=e[a[u-1]],c=l.left===o?l.right:l.left;++s<u;)r=c,l=e[a[s]],c=l.left===o?l.right:l.left,i<r.index&&i<c.index&&fh(o,r,c)<0&&t.push([o.data,r.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})}},yh.prototype={constructor:yh,scale:function(t){return 1===t?this:new yh(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new yh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t));
},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rb=new yh(1,0,0);_h.prototype=yh.prototype;var ob={name:"drag"},ab={name:"space"},sb={name:"handle"},ub={name:"center"},lb={name:"x",handles:["e","w"].map($h),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},cb={name:"y",handles:["n","s"].map($h),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},hb={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map($h),input:function(t){return t},output:function(t){return t}},fb={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},pb={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},db={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},vb={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mb={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},gb=Math.cos,yb=Math.sin,_b=Math.PI,bb=_b/2,xb=2*_b,wb=Math.max,kb=Array.prototype.slice;Xh.prototype={constructor:Xh,reset:function(){this.s=this.t=0},add:function(t){Jh(rx,t,this.t),Jh(this,rx.s,this.s),this.s?this.t+=rx.t:this.s=rx.t},valueOf:function(){return this.s}};var Mb,Cb,Tb,Sb,Db,Ab,$b,Eb,Nb,Pb,Ob,Fb,Ib,zb,Rb,Ub,jb,Lb,qb,Hb,Vb,Bb,Yb,Wb,Kb,Gb,Xb,Jb,Qb,Zb,tx,ex,nx,ix,rx=new Xh,ox=1e-6,ax=1e-12,sx=Math.PI,ux=sx/2,lx=sx/4,cx=2*sx,hx=180/sx,fx=sx/180,px=Math.abs,dx=Math.atan,vx=Math.atan2,mx=Math.cos,gx=Math.ceil,yx=Math.exp,_x=Math.log,bx=Math.pow,xx=Math.sin,wx=Math.sign||function(t){return t>0?1:0>t?-1:0},kx=Math.sqrt,Mx=Math.tan,Cx={Feature:function(t,e){nf(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)nf(n[i].geometry,e)}},Tx={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){rf(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)rf(n[i],e,0)},Polygon:function(t,e){of(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)of(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)nf(n[i],e)}},Sx={point:ef,lineStart:ef,lineEnd:ef,polygonStart:function(){Mb.reset(),Sx.lineStart=sf,Sx.lineEnd=uf},polygonEnd:function(){var t=+Mb;Cb.add(0>t?cx+t:t),this.lineStart=this.lineEnd=this.point=ef},sphere:function(){Cb.add(cx)}},Dx={point:_f,lineStart:xf,lineEnd:wf,polygonStart:function(){Dx.point=kf,Dx.lineStart=Mf,Dx.lineEnd=Cf,Ub.reset(),Sx.polygonStart()},polygonEnd:function(){Sx.polygonEnd(),Dx.point=_f,Dx.lineStart=xf,Dx.lineEnd=wf,0>Mb?(Eb=-(Pb=180),Nb=-(Ob=90)):Ub>ox?Ob=90:-ox>Ub&&(Nb=-90),Lb[0]=Eb,Lb[1]=Pb}},Ax={sphere:ef,point:$f,lineStart:Nf,lineEnd:Ff,polygonStart:function(){Ax.lineStart=If,Ax.lineEnd=zf},polygonEnd:function(){Ax.lineStart=Nf,Ax.lineEnd=Ff}};Hf.invert=Hf;var $x,Ex,Nx,Px,Ox,Fx,Ix,zx,Rx,Ux,jx,Lx,qx=1e9,Hx=-qx,Vx={sphere:ef,point:ef,lineStart:ap,lineEnd:ef,polygonStart:ef,polygonEnd:ef},Bx=[null,null],Yx={type:"LineString",coordinates:Bx},Wx=Gh(),Kx=Gh(),Gx={point:ef,lineStart:ef,lineEnd:ef,polygonStart:function(){Gx.lineStart=gp,Gx.lineEnd=bp},polygonEnd:function(){Gx.lineStart=Gx.lineEnd=Gx.point=ef,Wx.add(px(Kx)),Kx.reset()},result:function(){var t=Wx/2;return Wx.reset(),t}},Xx=1/0,Jx=Xx,Qx=-Xx,Zx=Qx,tw={point:xp,lineStart:ef,lineEnd:ef,polygonStart:ef,polygonEnd:ef,result:function(){var t=[[Xx,Jx],[Qx,Zx]];return Qx=Zx=-(Jx=Xx=1/0),t}},ew=0,nw=0,iw=0,rw=0,ow=0,aw=0,sw=0,uw=0,lw=0,cw={point:wp,lineStart:kp,lineEnd:Tp,polygonStart:function(){cw.lineStart=Sp,cw.lineEnd=Dp},polygonEnd:function(){cw.point=wp,cw.lineStart=kp,cw.lineEnd=Tp},result:function(){var t=lw?[sw/lw,uw/lw]:aw?[rw/aw,ow/aw]:iw?[ew/iw,nw/iw]:[NaN,NaN];return ew=nw=iw=rw=ow=aw=sw=uw=lw=0,t}},hw=Gh(),fw=Ip(function(){return!0},Up,Lp,[-sx,-ux]);Bp.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pw=16,dw=mx(30*fx),vw=Vp({point:function(t,e){this.stream.point(t*fx,e*fx)}}),mw=ad(function(t){return kx(2/(1+t))});mw.invert=sd(function(t){return 2*Zh(t/2)});var gw=ad(function(t){return(t=Qh(t))&&t/xx(t)});gw.invert=sd(function(t){return t}),cd.invert=function(t,e){return[t,2*dx(yx(e))-ux]},md.invert=md,bd.invert=sd(dx),wd.invert=sd(Zh),Md.invert=sd(function(t){return 2+dx(t)}),Td.invert=function(t,e){return[-e,2*dx(yx(t))-ux]},t.version=Dd,t.bisect=$d,t.bisectRight=$d,t.bisectLeft=Ed,t.ascending=e,t.bisector=n,t.descending=r,t.deviation=s,t.extent=u,t.histogram=v,t.thresholdFreedmanDiaconis=g,t.thresholdScott=y,t.thresholdSturges=d,t.max=_,t.mean=b,t.median=x,t.merge=w,t.min=k,t.pairs=M,t.permute=C,t.quantile=m,t.range=h,t.scan=T,t.shuffle=S,t.sum=D,t.ticks=f,t.tickStep=p,t.transpose=A,t.variance=a,t.zip=E,t.entries=H,t.keys=L,t.values=q,t.map=P,t.set=j,t.nest=O,t.randomUniform=V,t.randomNormal=B,t.randomLogNormal=Y,t.randomBates=K,t.randomIrwinHall=W,t.randomExponential=G,t.easeLinear=X,t.easeQuad=Z,t.easeQuadIn=J,t.easeQuadOut=Q,t.easeQuadInOut=Z,t.easeCubic=nt,t.easeCubicIn=tt,t.easeCubicOut=et,t.easeCubicInOut=nt,t.easePoly=Hd,t.easePolyIn=Ld,t.easePolyOut=qd,t.easePolyInOut=Hd,t.easeSin=ot,t.easeSinIn=it,t.easeSinOut=rt,t.easeSinInOut=ot,t.easeExp=ut,t.easeExpIn=at,t.easeExpOut=st,t.easeExpInOut=ut,t.easeCircle=ht,t.easeCircleIn=lt,t.easeCircleOut=ct,t.easeCircleInOut=ht,t.easeBounce=pt,t.easeBounceIn=ft,t.easeBounceOut=pt,t.easeBounceInOut=dt,t.easeBack=ov,t.easeBackIn=iv,t.easeBackOut=rv,t.easeBackInOut=ov,t.easeElastic=cv,t.easeElasticIn=lv,t.easeElasticOut=cv,t.easeElasticInOut=hv,t.polygonArea=vt,t.polygonCentroid=mt,t.polygonHull=bt,t.polygonContains=xt,t.polygonLength=wt,t.path=Mt,t.quadtree=Ht,t.queue=Qt,t.arc=ue,t.area=de,t.line=pe,t.pie=ge,t.radialArea=we,t.radialLine=xe,t.symbol=ke,t.symbols=qv,t.symbolCircle=Mv,t.symbolCross=Cv,t.symbolDiamond=Dv,t.symbolSquare=Ov,t.symbolStar=Pv,t.symbolTriangle=Iv,t.symbolWye=Lv,t.curveBasisClosed=Ae,t.curveBasisOpen=Ee,t.curveBasis=Se,t.curveBundle=Hv,t.curveCardinalClosed=Bv,t.curveCardinalOpen=Yv,t.curveCardinal=Vv,t.curveCatmullRomClosed=Kv,t.curveCatmullRomOpen=Gv,t.curveCatmullRom=Wv,t.curveLinearClosed=qe,t.curveLinear=ce,t.curveMonotoneX=Xe,t.curveMonotoneY=Je,t.curveNatural=tn,t.curveStep=nn,t.curveStepAfter=on,t.curveStepBefore=rn,t.stack=ln,t.stackOffsetExpand=cn,t.stackOffsetNone=an,t.stackOffsetSilhouette=hn,t.stackOffsetWiggle=fn,t.stackOrderAscending=pn,t.stackOrderDescending=vn,t.stackOrderInsideOut=mn,t.stackOrderNone=sn,t.stackOrderReverse=gn,t.color=xn,t.rgb=Cn,t.hsl=An,t.lab=Pn,t.hcl=jn,t.cubehelix=Hn,t.interpolate=ui,t.interpolateArray=ei,t.interpolateDate=ni,t.interpolateNumber=ii,t.interpolateObject=ri,t.interpolateRound=li,t.interpolateString=si,t.interpolateTransformCss=zm,t.interpolateTransformSvg=Rm,t.interpolateZoom=gi,t.interpolateRgb=$m,t.interpolateRgbBasis=Em,t.interpolateRgbBasisClosed=Nm,t.interpolateHsl=Hm,t.interpolateHslLong=Vm,t.interpolateLab=_i,t.interpolateHcl=Bm,t.interpolateHclLong=Ym,t.interpolateCubehelix=Wm,t.interpolateCubehelixLong=Km,t.interpolateBasis=Yn,t.interpolateBasisClosed=Wn,t.quantize=wi,t.dispatch=ki,t.dsvFormat=Ei,t.csvParse=Zm,t.csvParseRows=tg,t.csvFormat=eg,t.csvFormatRows=ng,t.tsvParse=rg,t.tsvParseRows=og,t.tsvFormat=ag,t.tsvFormatRows=sg,t.request=Ni,t.html=ug,t.json=lg,t.text=cg,t.xml=hg,t.csv=fg,t.tsv=pg,t.now=Ri,t.timer=Li,t.timerFlush=qi,t.timeout=Wi,t.interval=Ki,t.timeInterval=Gi,t.timeMillisecond=Cg,t.timeMilliseconds=Tg,t.timeSecond=Ng,t.timeSeconds=Pg,t.timeMinute=Og,t.timeMinutes=Fg,t.timeHour=Ig,t.timeHours=zg,t.timeDay=Rg,t.timeDays=Ug,t.timeWeek=jg,t.timeWeeks=Wg,t.timeSunday=jg,t.timeSundays=Wg,t.timeMonday=Lg,t.timeMondays=Kg,t.timeTuesday=qg,t.timeTuesdays=Gg,t.timeWednesday=Hg,t.timeWednesdays=Xg,t.timeThursday=Vg,t.timeThursdays=Jg,t.timeFriday=Bg,t.timeFridays=Qg,t.timeSaturday=Yg,t.timeSaturdays=Zg,t.timeMonth=ty,t.timeMonths=ey,t.timeYear=ny,t.timeYears=iy,t.utcMillisecond=Cg,t.utcMilliseconds=Tg,t.utcSecond=Ng,t.utcSeconds=Pg,t.utcMinute=ry,t.utcMinutes=oy,t.utcHour=ay,t.utcHours=sy,t.utcDay=uy,t.utcDays=ly,t.utcWeek=cy,t.utcWeeks=gy,t.utcSunday=cy,t.utcSundays=gy,t.utcMonday=hy,t.utcMondays=yy,t.utcTuesday=fy,t.utcTuesdays=_y,t.utcWednesday=py,t.utcWednesdays=by,t.utcThursday=dy,t.utcThursdays=xy,t.utcFriday=vy,t.utcFridays=wy,t.utcSaturday=my,t.utcSaturdays=ky,t.utcMonth=My,t.utcMonths=Cy,t.utcYear=Ty,t.utcYears=Dy,t.formatLocale=sr,t.formatDefaultLocale=ur,t.formatSpecifier=rr,t.precisionFixed=lr,t.precisionPrefix=cr,t.precisionRound=hr,t.isoFormat=Uy,t.isoParse=jy,t.timeFormatLocale=vr,t.timeFormatDefaultLocale=lo,t.scaleBand=po,t.scalePoint=mo,t.scaleIdentity=Ao,t.scaleLinear=Do,t.scaleLog=zo,t.scaleOrdinal=fo,t.scaleImplicit=Vy,t.scalePow=Uo,t.scaleSqrt=jo,t.scaleQuantile=Lo,t.scaleQuantize=qo,t.scaleThreshold=Ho,t.scaleTime=Wo,t.scaleUtc=Ko,t.schemeCategory10=Zy,t.schemeCategory20b=t_,t.schemeCategory20c=e_,t.schemeCategory20=n_,t.scaleSequential=Qo,t.interpolateCubehelixDefault=i_,t.interpolateRainbow=Xo,t.interpolateWarm=r_,t.interpolateCool=o_,t.interpolateViridis=s_,t.interpolateMagma=u_,t.interpolateInferno=l_,t.interpolatePlasma=c_,t.creator=na,t.customEvent=ha,t.local=ia,t.matcher=g_,t.mouse=da,t.namespace=Zo,t.namespaces=f_,t.select=Fs,t.selectAll=Is,t.selection=Os,t.selector=ma,t.selectorAll=_a,t.touch=zs,t.touches=Rs,t.window=Wa,t.active=Lu,t.interrupt=Vs,t.transition=zu,t.axisTop=Ku,t.axisRight=Gu,t.axisBottom=Xu,t.axisLeft=Ju,t.cluster=ol,t.hierarchy=gl,t.pack=ql,t.packSiblings=Il,t.packEnclose=Cl,t.partition=Kl,t.stratify=Jl,t.tree=ac,t.treemap=lc,t.treemapBinary=cc,t.treemapDice=Wl,t.treemapSlice=sc,t.treemapSliceDice=hc,t.treemapSquarify=B_,t.treemapResquarify=Y_,t.forceCenter=fc,t.forceCollide=gc,t.forceLink=_c,t.forceManyBody=kc,t.forceSimulation=wc,t.forceX=Mc,t.forceY=Cc,t.drag=Fc,t.dragDisable=Dc,t.dragEnable=Ac,t.voronoi=vh,t.zoom=Ch,t.zoomIdentity=rb,t.zoomTransform=_h,t.brush=Rh,t.brushX=Ih,t.brushY=zh,t.brushSelection=Fh,t.chord=Lh,t.ribbon=Kh,t.geoAlbers=id,t.geoAlbersUsa=od,t.geoArea=hf,t.geoAzimuthalEqualArea=ud,t.geoAzimuthalEqualAreaRaw=mw,t.geoAzimuthalEquidistant=ld,t.geoAzimuthalEquidistantRaw=gw,t.geoBounds=Af,t.geoCentroid=jf,t.geoCircle=Jf,t.geoClipExtent=op,t.geoConicConformal=vd,t.geoConicConformalRaw=dd,t.geoConicEqualArea=nd,t.geoConicEqualAreaRaw=ed,t.geoConicEquidistant=_d,t.geoConicEquidistantRaw=yd,t.geoDistance=hp,t.geoEquirectangular=gd,t.geoEquirectangularRaw=md,t.geoGnomonic=xd,t.geoGnomonicRaw=bd,t.geoGraticule=dp,t.geoInterpolate=vp,t.geoLength=cp,t.geoMercator=hd,t.geoMercatorRaw=cd,t.geoOrthographic=kd,t.geoOrthographicRaw=wd,t.geoPath=Op,t.geoProjection=Qp,t.geoProjectionMutator=Zp,t.geoRotation=Kf,t.geoStereographic=Cd,t.geoStereographicRaw=Md,t.geoStream=af,t.geoTransform=Hp,t.geoTransverseMercator=Sd,t.geoTransverseMercatorRaw=Td,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){(function(e){var i=n(37),r=function(t){var e=t||{};this.$popover=null,this.$rankTable=null,this.$preloader=null,this.$rankTable=null,this.selector=e.selector||".rank",this.loading=!1,this.rankFieldName=null,this.order={altType:"",rank:""},this.year=e.year,this.init()};r.prototype.init=function(){var t=this,n=e(".statistics"),r=e(".governmentController");t.noMoreData=!1,n.popover({placement:"bottom",selector:this.selector,animation:!0,template:'<div class="popover rankPopover" role="tooltip"><div class="arrow"></div><div class="popover-title-custom"><h3 class="popover-title"></h3></div><div class="popover-content"></div></div>'}),r.on("click",function(t){e(t.target).closest(".popover")[0]||e(".rank").not(t.target).popover("destroy")}),n.on("click",function(n){var r=e(n.target),o=r.hasClass("rank")?r:r.closest(".rank");return 0===o.length?!0:(n.preventDefault(),n.stopPropagation(),e(n.target).closest(".popover")[0]||e(".rank").not(n.target).popover("destroy"),0===o.length?!0:(t.$popover=r,t.$popoverContent=o.next().find(".popover-content"),t.rankFieldName=o.attr("data-field"),t.$popover.on("hide.bs.popover",function(){t.noMoreData=!1}),t.rankFieldName&&(t.loading=!0,e.ajax({url:window.gw.urls.popover,dataType:"json",data:{field_name:t.rankFieldName,year:t.year},success:function(e){0!==e.data.length?(t.formatData.call(t,e),t.$popoverContent.html(i.templates.rankTable(e)),t.$rankTable=t.$popoverContent.find("table tbody"),t.$preloader=t.$popoverContent.find(".loader"),t.scrollHandler.call(t),t.sortHandler.call(t),t.loading=!1):t.noMoreData||(t.$popoverContent[0].innerHTML='<h3 style="text-align: center">No data</h3>',t.noMoreData=!0,t.loading=!1)}})),!0))})},r.prototype.scrollHandler=function(){var t=this,n=t.$rankTable,r=t.order;t.previousScrollTop=0,t.currentPage=0,t.$popoverContent.scroll(function(){var o=t.$popoverContent.scrollTop();t.previousScrollTop<o&&o>.5*t.$popoverContent[0].scrollHeight&&!t.noMoreData&&(t.previousScrollTop=o,t.loading===!1&&(t.loading=!0,t.$preloader.show(),e.ajax({url:window.gw.urls.popover,dataType:"json",data:{page:++t.currentPage,order:r.rank,name_order:r.altType,field_name:t.rankFieldName,year:t.year},success:function(r){var o;0!==r.data.length?(t.formatData(r),t.loading=!1,t.$preloader.hide(),n[0].innerHTML+=i.templates.rankTableAdditionalRows(r)):t.noMoreData||(t.noMoreData=!0,o=e('<h3 style="text-align: center">No more data</h3>'),t.$popoverContent.append(o),t.loading=!1,t.$preloader.hide())}})))})},r.prototype.sortHandler=function(){var t=this,n=t.order;t.$popoverContent.on("click","th",function(i){var r,o;i.stopPropagation(),t.$popoverContent.find("h3").remove(),t.noMoreData=!1,t.previousScrollTop=0,t.currentPage=0,o=e(this).hasClass("sortable")?e(this):e(this).closest("th"),r=o.find("i"),o.hasClass("desc")?("name_order"===o.attr("data-sort-type")?n.altType="":n.rank="",o.removeClass("desc").removeClass("asc"),r.removeClass("icon__bottom").removeClass("icon__top")):o.hasClass("asc")?("name_order"===o.attr("data-sort-type")?n.altType="desc":n.rank="desc",o.removeClass("asc").addClass("desc"),r.removeClass("icon__top").addClass("icon__bottom")):("name_order"===o.attr("data-sort-type")?n.altType="asc":n.rank="asc",o.addClass("asc"),r.addClass("icon__top")),t.loadNewRows.call(t,n)})},r.prototype.loadNewRows=function(t){var n=this,r=n.$rankTable||n.$popoverContent.find("table tbody"),o=t||this.order;r.html(""),n.$preloader.show(),n.loading=!0,e.ajax({url:window.gw.urls.popover,dataType:"json",data:{page:n.currentPage,order:o.rank,name_order:o.altType,field_name:n.rankFieldName,year:n.year},success:function(t){0!==t.data.length?(n.formatData.call(n,t),r.html(i.templates.rankTableAdditionalRows(t)),n.loading=!1,n.$preloader.hide()):(n.$popoverContent[0].innerHTML='<h3 style="text-align: center">No data</h3>',n.loading=!1,n.$preloader.hide())}})},r.prototype.formatData=function(t){var e=this,n=e.$popover,i=n.attr("data-mask");return i?t.data.forEach(function(t){return t.amount=numeral(t.amount).format(i)}):!0},function(){var t=i.template,e=i.templates=i.templates||{};e.rankTable=t({1:function(t,e,n,i,r){var o,a,s=null!=e?e:{},u=n.helperMissing,l="function",c=t.escapeExpression;return" <tr> <td>"+c((a=null!=(a=n.name||(null!=e?e.name:e))?a:u,typeof a===l?a.call(s,{name:"name",hash:{},data:r}):a))+"</td> <td> "+(null!=(o=n["if"].call(s,null!=e?e.value:e,{name:"if",hash:{},fn:t.program(2,r,0),inverse:t.program(4,r,0),data:r}))?o:"")+"</td> <td> "+c((a=null!=(a=n.amount||(null!=e?e.amount:e))?a:u,typeof a===l?a.call(s,{name:"amount",hash:{},data:r}):a))+"</td> </tr> "},2:function(t,e,n,i,r){var o;return" "+t.escapeExpression((o=null!=(o=n.value||(null!=e?e.value:e))?o:n.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"value",hash:{},data:r}):o))+" "},4:function(t,e,n,i,r){return" No data "},compiler:[7,">= 4.0.0"],main:function(t,e,n,i,r){var o,a,s,u=null!=e?e:{},l=n.helperMissing,c="function",h='<table class="table table-condensed table-hover"> <thead> <tr> <th data-sort-type="name_order" class="sortable"><nobr>'+t.escapeExpression((a=null!=(a=n.alt_type||(null!=e?e.alt_type:e))?a:l,typeof a===c?a.call(u,{name:"alt_type",hash:{},data:r}):a))+'<i class="icon"></i></nobr></th> <th data-sort-type="order" class="sortable"><nobr>Rank<i class="icon"></i></nobr></th> <th>Amount</th> </tr> </thead> <tbody> ';return a=null!=(a=n.data||(null!=e?e.data:e))?a:l,s={name:"data",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r},o=typeof a===c?a.call(u,s):a,n.data||(o=n.blockHelperMissing.call(e,o,s)),null!=o&&(h+=o),h+'\n    </tbody>\n</table>\n<div class="loader"></div>\n'},useData:!0})}(),function(){var t=i.template,e=i.templates=i.templates||{};e.rankTableAdditionalRows=t({1:function(t,e,n,i,r){var o,a,s=null!=e?e:{},u=n.helperMissing,l="function",c=t.escapeExpression;return" <tr> <td>"+c((a=null!=(a=n.name||(null!=e?e.name:e))?a:u,typeof a===l?a.call(s,{name:"name",hash:{},data:r}):a))+"</td> <td> "+(null!=(o=n["if"].call(s,null!=e?e.value:e,{name:"if",hash:{},fn:t.program(2,r,0),inverse:t.program(4,r,0),data:r}))?o:"")+"\n        </td>\n        <td>\n            "+c((a=null!=(a=n.amount||(null!=e?e.amount:e))?a:u,typeof a===l?a.call(s,{name:"amount",hash:{},data:r}):a))+"\n        </td>\n    </tr>\n"},2:function(t,e,n,i,r){var o;return" "+t.escapeExpression((o=null!=(o=n.value||(null!=e?e.value:e))?o:n.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"value",hash:{},data:r}):o))+" "},4:function(t,e,n,i,r){return" No data "},compiler:[7,">= 4.0.0"],main:function(t,e,n,i,r){var o,a,s,u="";return a=null!=(a=n.data||(null!=e?e.data:e))?a:n.helperMissing,s={name:"data",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r},o="function"==typeof a?a.call(null!=e?e:{},s):a,n.data||(o=n.blockHelperMissing.call(e,o,s)),null!=o&&(u+=o),u},useData:!0})}(),t.exports=r}).call(e,n(1))},function(t,e,n){/*!
	
	 handlebars v4.0.5
	
	Copyright (C) 2011-2015 by Yehuda Katz
	
	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:
	
	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.
	
	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
	
	@license
	*/
!function(e,n){t.exports=n()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){var t=new s.HandlebarsEnvironment;return p.extend(t,s),t.SafeString=l["default"],t.Exception=h["default"],t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=v,t.template=function(e){return v.template(e,t)},t}var r=n(1)["default"],o=n(2)["default"];e.__esModule=!0;var a=n(3),s=r(a),u=n(17),l=o(u),c=n(5),h=o(c),f=n(4),p=r(f),d=n(18),v=r(d),m=n(19),g=o(m),y=i();y.create=i,g["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e},e.__esModule=!0},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},u.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(2)["default"];e.__esModule=!0,e.HandlebarsEnvironment=i;var o=n(4),a=n(5),s=r(a),u=n(6),l=n(14),c=n(16),h=r(c),f="4.0.5";e.VERSION=f;var p=7;e.COMPILER_REVISION=p;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=d;var v="[object Object]";i.prototype={constructor:i,logger:h["default"],log:h["default"].log,registerHelper:function(t,e){if(o.toString.call(t)===v){if(e)throw new s["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===v)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new s["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===v){if(e)throw new s["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var m=h["default"].log;e.log=m,e.createFrame=o.createFrame,e.logger=h["default"]},function(t,e){"use strict";function n(t){return c[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function r(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return f.test(t)?t.replace(h,n):t}function a(t){return t||0===t?!(!v(t)||0!==t.length):!0}function s(t){var e=i({},t);return e._parent=t,e}function u(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=r,e.escapeExpression=o,e.isEmpty=a,e.createFrame=s,e.blockParams=u,e.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,f=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var d=function(t){return"function"==typeof t};d(/x/)&&(e.isFunction=d=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=d;var v=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===p.call(t):!1};e.isArray=v},function(t,e){"use strict";function n(t,e){var r=e&&e.loc,o=void 0,a=void 0;r&&(o=r.start.line,a=r.start.column,t+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,t),u=0;u<i.length;u++)this[i[u]]=s[i[u]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=o,this.column=a)}e.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){a["default"](t),u["default"](t),c["default"](t),f["default"](t),d["default"](t),m["default"](t),y["default"](t)}var r=n(2)["default"];e.__esModule=!0,e.registerDefaultHelpers=i;var o=n(7),a=r(o),s=n(8),u=r(s),l=n(9),c=r(l),h=n(10),f=r(h),p=n(11),d=r(p),v=n(12),m=r(v),g=n(13),y=r(g)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse,o=n.fn;if(e===!0)return o(this);if(e===!1||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(e,n)})},t.exports=e["default"]},function(t,e,n){"use strict";var i=n(2)["default"];e.__esModule=!0;var r=n(4),o=n(5),a=i(o);e["default"]=function(t){t.registerHelper("each",function(t,e){function n(e,n,o){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!o,c&&(l.contextPath=c+e)),u+=i(t[e],{data:l,blockParams:r.blockParams([t[e],e],[c+e,null])})}if(!e)throw new a["default"]("Must pass iterator to #each");var i=e.fn,o=e.inverse,s=0,u="",l=void 0,c=void 0;if(e.data&&e.ids&&(c=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(l=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var h=t.length;h>s;s++)s in t&&n(s,s,s===t.length-1);else{var f=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==f&&n(f,s-1),f=p,s++);void 0!==f&&n(f,s-1,!0)}return 0===s&&(u=o(this)),u})},t.exports=e["default"]},function(t,e,n){"use strict";var i=n(2)["default"];e.__esModule=!0;var r=n(5),o=i(r);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4);e["default"]=function(t){t.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4);e["default"]=function(t){t.registerHelper("with",function(t,e){i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&(r=i.createFrame(e.data),r.contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})})},t.exports=e["default"]},function(t,e,n){"use strict";function i(t){a["default"](t)}var r=n(2)["default"];e.__esModule=!0,e.registerDefaultDecorators=i;var o=n(15),a=r(o)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4);e["default"]=function(t){t.registerDecorator("inline",function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var a=n.partials;n.partials=i.extend({},a,e.partials);var s=t(r,o);return n.partials=a,s}),e.partials[r.args[0]]=r.fn,o})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e["default"]=r,t.exports=e["default"]},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=g.COMPILER_REVISION;if(e!==n){if(n>e){var i=g.REVISION_CHANGES[n],r=g.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){function n(n,i,r){r.hash&&(i=d.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var a=o.split("\n"),s=0,u=a.length;u>s&&(a[s]||s+1!==u);s++)a[s]=r.indent+a[s];o=a.join("\n")}return o}throw new m["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(e){function n(e){return""+t.main(r,e,r.helpers,r.partials,a,u,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;i._setup(o),!o.partial&&t.useData&&(a=l(e,a));var s=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(s=o.depths?e!==o.depths[0]?[e].concat(o.depths):o.depths:[e]),(n=c(t.main,n,r,o.depths||[],a,u))(e,o)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;n>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:d.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,i,r){var a=this.programs[t],s=this.fn(t);return e||r||i||n?a=o(this,t,s,e,n,i,r):a||(a=this.programs[t]=o(this,t,s)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=d.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(n.decorators,e.decorators)))},i._child=function(e,n,i,a){if(t.useBlockParams&&!i)throw new m["default"]("must pass block params");if(t.useDepths&&!a)throw new m["default"]("must pass parent depths");return o(r,e,t[e],n,0,i,a)},i}function o(t,e,n,i,r,o,a){function s(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&e!==a[0]&&(s=[e].concat(a)),n(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s)}return s=c(n,s,t,a,i,o),s.program=e,s.depth=a?a.length:0,s.blockParams=r||0,s}function a(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function s(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==u&&(n.data=g.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=d.extend({},n.partials,i.partials))),void 0===t&&i&&(t=i),void 0===t)throw new m["default"]("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function u(){return""}function l(t,e){return e&&"root"in e||(e=e?g.createFrame(e):{},e.root=t),e}function c(t,e,n,i,r,o){if(t.decorator){var a={};e=t.decorator(e,a,n,i&&i[0],r,o,i),d.extend(e,a)}return e}var h=n(1)["default"],f=n(2)["default"];e.__esModule=!0,e.checkRevision=i,e.template=r,e.wrapProgram=o,e.resolvePartial=a,e.invokePartial=s,e.noop=u;var p=n(4),d=h(p),v=n(5),m=f(v),g=n(3)},function(t,e){(function(n){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e["default"]}).call(e,function(){return this}())}])})},function(t,e,n){(function(e){function i(t,n){this.container=n,this.$container=e(n),this.CurrentFormState=".first-condition"===n?t.firstStep:t.secondStep,this.$select=e(n+" select"),this.$loader=e('<div class="loader"></div>'),this.init()}var r=n(39);i.prototype.init=function(){var t=this;t.handlerOnMouseDownSelect(),t.handlerOnChangeSelect(),t.search=new r(t.container,t.searchResponseCallback),t.search.$typeahead.bind("typeahead:selected",function(e,n){t.CurrentFormState.data=n,t.createYearOptions(n)}),t.search.$typeahead.bind("typeahead:asyncrequest",function(){t.loading(!0)}),t.search.$typeahead.bind("typeahead:asyncreceive",function(){t.loading(!1)}),t.search.$typeahead.bind("typeahead:asynccancel",function(){t.loading(!1),t.lockSelect()}),t.search.$typeahead.bind("typeahead:open",function(){t.lockSelect(),t.CurrentFormState.incomplete()})},i.prototype.unlock=function(){this.search.$typeahead.toggleClass("disabled",!1)},i.prototype.lock=function(){this.search.$typeahead.toggleClass("disabled",!0),this.$select.toggleClass("disabled",!0)},i.prototype.lockSelect=function(){this.$select.toggleClass("disabled",!0)},i.prototype.loading=function(t){var e=t?"none":"block";this.$select.css({display:e}),t?this.$container.append(this.$loader):this.$loader.remove()},i.prototype.createYearOptions=function(t){function e(t){r.$select.toggleClass("disabled",!!t)}function n(t){t?r.CurrentFormState.complete():r.CurrentFormState.incomplete()}var i,r=this;return t?(i=t.years.sort(function(t,e){return e>t}),r.CurrentFormState.data.year=t.years[0],e(!1),r.$select.html(""),i.forEach(function(e,n){var i=0===n?"selected":"";r.$select.append('<option value="'+t.id+'" '+i+">"+e+"</option>")}),n(!0),!0):(console.error("First argument not passed in createYearOptions() "),!0)},i.prototype.handlerOnChangeSelect=function(){var t=this;t.$select.on("change",function(n){var i=e(n.target),r=i.find("option:selected"),o=r.text();return o?(t.CurrentFormState.data.year=parseInt(o,10),t.CurrentFormState.complete()):(alert("Please choose correct year"),t.CurrentFormState.incomplete()),!0})},i.prototype.handlerOnMouseDownSelect=function(){var t=this;t.$select.on("mousedown",function(t){var n=e(t.target);return n.hasClass("disabled")?(alert("Please, first select government"),!1):!0})},t.exports=i}).call(e,n(1))},function(t,e,n){(function(e){function i(t){function n(t,n,r){i.timer&&clearTimeout(i.timer),i.timer=setTimeout(function(){e.ajax({method:"GET",url:window.gw.urls.search+"?search="+t}).success(function(t){r(t)})},i.delay)}var i=this;return t?(i.delay=750,i.timer=void 0,i.governmentData={},i.$typeahead=e(t+" .typeahead_government"),i.searchValue="",i.$typeahead.typeahead({hint:!0,highlight:!0,minLength:3},{name:"countries",source:n,templates:{empty:'<div class="tt-suggestion">Not found. Please retype your query </div>',suggestion:r.compile('<div class="sugg-box"><div class="sugg-name">{{name}}</div></div>')},updater:function(t){alert(t)}}),i.$typeahead.bind("typeahead:selected",function(t,e){i.$typeahead.typeahead("val",e.name)}),i.$typeahead.bind("typeahead:cursorchange",function(){i.$typeahead.typeahead("val",i.searchValue)}),i.$typeahead.keyup(function(t){i.searchValue=e(t.target).val(),i.searchValue.length<3&&clearTimeout(i.timer)}),i):(alert("Please pass container selector"),!0)}var r=n(15);n(40),t.exports=i}).call(e,n(1))},function(t,e,n){var i,r,i,r;(function(o){/*!
	 * typeahead.js 0.11.1
	 * https://github.com/twitter/typeahead.js
	 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
	 */
!function(o,a){i=[n(1)],r=function(t){return o.Bloodhound=a(t)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,a,s=this,u=arguments;return o=function(){i=null,n||(r=t.apply(s,u))},a=n&&!i,clearTimeout(i),i=setTimeout(o,e),a&&(r=t.apply(s,u)),r}},throttle:function(t,e){var n,i,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=t.apply(n,i)},function(){var u=new Date,l=e-(u-a);return n=this,i=arguments,0>=l?(clearTimeout(r),r=null,a=u,o=t.apply(n,i)):r||(r=setTimeout(s,l)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||s,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function a(t){var e,n,i=[],r=s.length;for(e=0;r>e;e++)(n=s.key(e)).match(t)&&i.push(n.replace(t,""));return i}var s;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(u){s=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,n,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(i()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=a(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&i()>n)}}),n}(),a=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):s}var i=0,o={},a=6,s=new r(10);return n.setMaxPendingRequests=function(t){a=t},n.resetCache=function(){s.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),c._cache.set(u,t)}function r(){e(!0)}function s(){i--,delete o[u],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var u,l,c=this;u=this._fingerprint(t),this.cancelled||u!==this.lastReq||((l=o[u])?l.done(n).fail(r):a>i?(i++,o[u]=this._send(t).done(n).fail(r).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,o;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),s=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[u]=[],t[s]={},t}function o(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function a(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,a=e.length;o>n&&a>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}var s="c",u="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,a;n.datums[o=n.identify(t)]=t,a=i(n.datumTokenizer(t)),e.each(a,function(t){var e,i,a;for(e=n.trie,i=t.split("");a=i.shift();)e=e[s][a]||(e[s][a]=r()),e[u].push(o)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,l=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=l.trie,n=t.split("");e&&(i=n.shift());)e=e[s][i];return e&&0===n.length?(o=e[u].slice(0),void(r=r?a(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return l.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),u=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,r.transform(e))}var i,r=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),l=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new a({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:r.transform(n))}var i,r=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(r,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?s(i.transport):t.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=a(n),n.transport=n.transport?s(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(t){function e(t,e){return e.url=o(e.url,t),e}function n(t,e){return e.url=e.url.replace(a,encodeURIComponent(t)),e}function i(t,e){return e}var r,o,a;return r=t.prepare,o=t.replace,a=t.wildcard,r?r:r=o?e:t.wildcard?n:i}function a(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var r,o,a;return r=t.limiter,o=t.rateLimitBy,a=t.rateLimitWait,r||(r=/^throttle$/i.test(o)?i(a):n(a)),r}function s(n){return function(i){function r(t){e.defer(function(){a.resolve(t)})}function o(t){e.defer(function(){a.reject(t)})}var a=t.Deferred();return n(i,r,o),a}}return function(n){var o,a;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(o,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),a=n.sorter,n.sorter=a?function(t){return t.sort(a)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}(),h=function(){"use strict";function n(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new l(t.remote):null,this.prefetch=t.prefetch?new u(t.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void n.resolve())}var n,i,r=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function r(t){var n=[];e.each(t,function(t){!e.some(o,function(e){return a.identify(t)===a.identify(e)})&&n.push(t)}),i&&i(n)}var o,a=this;return o=this.sorter(this.index.search(t)),n(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return h}),function(o,a){i=[n(1)],r=function(t){return a(t)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,a,s=this,u=arguments;return o=function(){i=null,n||(r=t.apply(s,u))},a=n&&!i,clearTimeout(i),i=setTimeout(o,e),a&&(r=t.apply(s,u)),r}},throttle:function(t,e){var n,i,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=t.apply(n,i)},function(){var u=new Date,l=e-(u-a);return n=this,i=arguments,0>=l?(clearTimeout(r),r=null,a=u,o=t.apply(n,i)):r||(r=setTimeout(s,l)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var a,s;return s=e.mixin({},o,t),a={css:r(),classes:s,html:n(s),selectors:i(s)},{css:a.css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(t){e.mixin(t,a)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?u(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,o;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=a(n.sync,this,[e].concat(i)),o=a(n.async,this,[e].concat(i)),r()&&c(o);return this}function a(t,e,n){function i(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function s(){var t;return t=window.setImmediate?function(t){o(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function u(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:n,onAsync:e,off:i,trigger:r}}(),a=function(t){"use strict";function n(t,n,i){for(var r,o=[],a=0,s=t.length;s>a;a++)o.push(e.escapeRegExChars(t[a]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var n,i,o;return(n=s.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}function a(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:a(n,e)}var s;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),a(r.node,o))}}(window.document),s=function(){"use strict";function n(n,r){n=n||{},n.input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function a(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!a(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!a(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;n=o(t,this.query),i=n?this.query.length!==t.length:!1,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),u=function(){"use strict";function n(n,r){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!s(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||l(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=o(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function o(n,i){function r(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||r}}function s(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var u,l;return u={val:"tt-selectable-display",obj:"tt-selectable-object"},l=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(u.obj)?{val:n.data(u.val)||"",obj:n.data(u.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;n=this._getSuggestionsFragment(t,e),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,o=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,a;a=o._injectQuery(n,e),i=t(o.templates.suggestion(a)).data(u.obj,e).data(u.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(i[0])}),this.highlight&&a({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){a||(a=!0,t=(t||[]).slice(0,r.limit),s=t.length,r._overwrite(e,t),s<r.limit&&r.async&&r.trigger("asyncRequested",e))}function i(n){n=n||[],!o&&s<r.limit&&(r.cancel=t.noop,s+=n.length,r._append(e,n),r.async&&r.trigger("asyncReceived",e))}var r=this,o=!1,a=!1,s=0;this.cancel(),this.cancel=function(){o=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,n,i),!a&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function r(e){var n=o.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(o.$node),new u(e,i)}var o=this;n=n||{},n.node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,r)}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,r=-1>r?e.length-1:r,-1===r?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?u.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),h=function(){"use strict";function n(n,r){var o,a,s,u,l,c,h,f,p,d,v;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),a=i(this,"deactivate","_onBlurred"),s=i(this,"isActive","isOpen","_onEnterKeyed"),u=i(this,"isActive","isOpen","_onTabKeyed"),l=i(this,"isActive","_onEscKeyed"),c=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),f=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),d=i(this,"_openIfActive","_onQueryChanged"),v=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",a,this).onSync("enterKeyed",s,this).onSync("tabKeyed",u,this).onSync("escKeyed",l,this).onSync("upKeyed",c,this).onSync("downKeyed",h,this).onSync("leftKeyed",f,this).onSync("rightKeyed",p,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",v,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,a;r=document.activeElement,o=i.is(r),a=i.has(r).length>0,e.isMsie()&&(o||a)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){
n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,i,r,o,a,u;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(i),o=e.escapeRegExChars(r),a=new RegExp("^(?:"+o+")(.+$)","i"),u=a.exec(n.val),u&&this.input.setHint(i+u[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,n,i;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),i=n&&e!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(t){var e,n,i,r,o;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,o=this._minLengthMet()&&this.menu.update(e),o||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(v.typeahead))&&n(e,i)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(u(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(v.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function u(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function f(t){var n,i;n=t.data(v.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(v.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(v.typeahead).removeData(v.www).removeData(v.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function p(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),r=i?t(n).first():[],r.length?r:null}var d,v,m;d=t.fn.typeahead,v={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,u){function f(){var n,f,m,g,y,_,b,x,w,k,M;e.each(u,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(d.html.wrapper),m=p(r.hint),g=p(r.menu),y=r.hint!==!1&&!m,_=r.menu!==!1&&!g,y&&(m=o(n,d)),_&&(g=t(d.html.menu).css(d.css.menu)),m&&m.val(""),n=a(n,d),(y||_)&&(f.css(d.css.wrapper),n.css(y?d.css.input:d.css.inputWithNoHint),n.wrap(f).parent().prepend(y?m:null).append(_?g:null)),M=_?c:l,b=new i({el:n}),x=new s({hint:m,input:n},d),w=new M({node:g,datasets:u},d),k=new h({input:x,menu:w,eventBus:b,minLength:r.minLength},d),n.data(v.www,d),n.data(v.typeahead,k)}var d;return u=e.isArray(u)?u:[].slice.call(arguments,1),r=r||{},d=n(r.classNames),this.each(f)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){f(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=d,this}}()})}).call(e,n(41).setImmediate)},function(t,e,n){(function(t,i){function r(t,e){this._id=t,this._clearFn=e}var o=n(42).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},l=0;e.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=l++,i=arguments.length<2?!1:s.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete u[t]}}).call(e,n(41).setImmediate,n(41).clearImmediate)},function(t,e){function n(){l=!1,a.length?u=a.concat(u):c=-1,u.length&&i()}function i(){if(!l){var t=setTimeout(n);l=!0;for(var e=u.length;e;){for(a=u,u=[];++c<e;)a&&a[c].run();c=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var a,s=t.exports={},u=[],l=!1,c=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new r(t,e)),1!==u.length||l||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,n){function i(t,e){var i=n(38);return new i(t,e)}t.exports=i},function(t,e,n){(function(e){function i(t,n){this.container=n,this.$select=e(n),this.firstStep=t.firstStep,this.secondStep=t.secondStep,this.$loader=e('<div class="loader"></div>'),this.init()}var r=n(45);i.prototype.init=function(){this.handlerOnChangeSelect(),this.handlerOnClickSelect()},i.prototype.unlock=function(){this.loading(!0),this.loadMatchedCategories(),this.$select.toggleClass("disabled",!1)},i.prototype.lock=function(){this.$select.html("<option>"+this.$select.data("default-item")+"</option>"),this.$select.toggleClass("disabled",!0)},i.prototype.loading=function(t){var e=t?"none":"block";this.$select.css({display:e}),t?this.$select.parent().append(this.$loader):this.$loader.remove()},i.prototype.switchGraphs=function(){var t=e('<div class="loader"></div>'),n=e("#total-compare-first-pie"),i=e("#total-compare-second-pie"),r=e("#total-compare-column");e(".government-categories .category").removeClass("selected"),e(".government-categories .caption").addClass("selected"),r.show(),n.hide(),i.hide(),r.find("p").append(t)},i.prototype.loadMatchedCategories=function(){var t=this,n={captions:[{id:t.firstStep.data.id,year:t.firstStep.data.year,altType:t.firstStep.data.altType},{id:t.secondStep.data.id,year:t.secondStep.data.year,altType:t.secondStep.data.altType}]},i=JSON.stringify(n);e.ajax({url:window.gw.urls.captions,type:"POST",contentType:"application/json",data:i,success:function(e){var n;return t.loading(!1),e&&0!==e.length?(t.$select.toggleClass("disabled",!1),n=[],e.forEach(function(t){r.find(n,function(e){return e.normal===t.tab})||n.push({translated:t.translatedTab,normal:t.tab})}),n.forEach(function(e){t.$select.append('<optgroup data-name="'+e.normal+'" label="'+e.translated+'"></optgroup>')}),e.forEach(function(e){var n=e.fieldName||e.name,i=t.$select.find('[label="'+e.translatedTab+'"]');i.append('<option value="'+n+'">'+e.translatedName+"</option>")}),!0):(alert("Not can find categories for current comparison"),t.lock(),!0)},error:function(){t.loading(!1),alert("Something wrong, please try another government"),t.$select.toggleClass("disabled",!0)}})},i.prototype.drawDiagramm=function(t,e,n){var i,r,o,a,s;a=new google.visualization.DataTable,a.addColumn("string","Caption"),a.addColumn("number","Total Funds"),o=[],o.push(["Total "+n,parseInt(t.total,10)]),s=t.data,s.forEach(function(t){o.push([t.caption,parseInt(t.amount,10)])}),a.addRows(o),r={title:"Compare",titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",pieStartAngle:60,sliceVisibilityThreshold:0,forceIFrame:!0,chartArea:{left:"3%",top:"13%",height:"94%",width:"94%"},legend:{position:"top",maxLines:"6"}},i=new google.visualization.PieChart(document.getElementById(e)),i.draw(a,r)},i.prototype.handlerOnChangeSelect=function(){var t,n=this;e(n.container).on("change",function(i){var r=e(i.target),o=r.find("option:selected"),a=o.text(),s=o.parent("optgroup").data("name");return a?(n.switchGraphs(),t={firstGovernment:{id:n.firstStep.data.id,name:n.firstStep.data.name,year:n.firstStep.data.year},secondGovernment:{id:n.secondStep.data.id,name:n.secondStep.data.name,year:n.firstStep.data.year},caption:a,tab:s},"Financial Statement"!==s&&(t.fieldName=o.val()),t=JSON.stringify(t),console.log(t),e.ajax({url:window.gw.urls.compare,type:"POST",data:t,contentType:"application/json",success:function(t){n.drawColumnChart(t,"total-compare-column")}}),!0):(alert("Please select one of captions"),!0)})},i.prototype.handlerOnClickSelect=function(){var t=this;t.$select.on("mousedown",function(n){var i=e(n.target);return i.hasClass("disabled")?(alert("Please, first select governments"),!1):t.firstStep.completed&&t.secondStep.completed?!0:(alert("Please, first enter all fields"),!1)})},i.prototype.drawColumnChart=function(t,e){var n,i,r,o,a=t.firstGovernment,s=t.secondGovernment;r=[["City","Amount"]],r.push([a.name,parseInt(a.data[0].amount,10)]),r.push([s.name,parseInt(s.data[0].amount,10)]),i={title:t.caption,titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",pieStartAngle:60,sliceVisibilityThreshold:.05,forceIFrame:!0,chartArea:{width:"90%",height:"75%"}},o=google.visualization.arrayToDataTable(r),n=new google.visualization.ColumnChart(document.getElementById(e)),n.draw(o,i)},t.exports=i}).call(e,n(1))},function(t,e,n){var i;(function(t,r,o){!function(a,s){function u(t){return t&&"object"==typeof t&&t.__wrapped__?t:this instanceof u?void(this.__wrapped__=t):new u(t)}function l(t,e,n){e||(e=0);var i=t.length,r=i-e>=(n||de);if(r)for(var o={},a=e-1;++a<i;){var s=t[a]+"";(Pe.call(o,s)?o[s]:o[s]=[]).push(t[a])}return function(n){if(r){var i=n+"";return Pe.call(o,i)&&yt(o[i],n)>-1}return yt(t,n,e)>-1}}function c(t){return t.charCodeAt(0)}function h(t,e){var n=t.index,i=e.index;if(t=t.criteria,e=e.criteria,t!==e){if(t>e||"undefined"==typeof t)return 1;if(e>t||"undefined"==typeof e)return-1}return i>n?-1:1}function f(t,e,n,i){function r(){var u=arguments,l=a?this:e;if(o||(t=e[s]),n.length&&(u=u.length?(u=_(u),i?u.concat(n):n.concat(u)):n),this instanceof r){y.prototype=t.prototype,l=new y,y.prototype=null;var c=t.apply(l,u);return I(c)?c:l}return t.apply(l,u)}var o=F(t),a=!n,s=e;return a&&(n=e),o||(e=t),r}function p(t,e,n){if(null==t)return Yt;var i=typeof t;if("function"!=i){if("object"!=i)return function(e){return e[t]};var r=kn(t);return function(e){for(var n=r.length,i=!1;n--&&(i=P(e[r[n]],t[r[n]],pe)););return i}}return"undefined"!=typeof e?1===n?function(n){return t.call(e,n)}:2===n?function(n,i){return t.call(e,n,i)}:4===n?function(n,i,r,o){return t.call(e,n,i,r,o)}:function(n,i,r){return t.call(e,n,i,r)}:t}function d(){for(var t,e={hasDontEnumBug:se,hasEnumPrototype:ue,isKeysFast:nn,nonEnumArgs:on,noCharByIndex:un,shadowed:Se,arrays:"isArray(iterable)",bottom:"",loop:"",top:"",useHas:!0},n=0;t=arguments[n];n++)for(var i in t)e[i]=t[i];var r=e.args;e.firstArg=/^[^,]+/.exec(r)[0];var o=Function("createCallback, hasOwnProperty, isArguments, isArray, isString, objectTypes, nativeKeys","return function("+r+") {\n"+vn(e)+"\n}");return o(p,Pe,x,wn,L,pn,je)}function v(t){return"\\"+dn[t]}function m(t){return Mn[t]}function g(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function y(){}function _(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,o=Array(0>r?0:r);++i<r;)o[i]=t[e+i];return o}function b(t){return Cn[t]}function x(t){return Fe.call(t)==Ve}function w(t){var e=!1;if(!t||"object"!=typeof t||x(t))return e;var n=t.constructor;return!F(n)&&(!ln||!g(t))||n instanceof n?le?(bn(t,function(t,n,i){return e=!Pe.call(i,n),!1}),e===!1):(bn(t,function(t,n){e=n}),e===!1||Pe.call(t,e)):e}function k(t){var e=[];return xn(t,function(t,n){e.push(n)}),e}function M(t,e,n,i,r,o){var a=t;if("function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n){n="undefined"==typeof i?n:p(n,i,1),a=n(a);var u="undefined"!=typeof a;u||(a=t)}var l=I(a);if(l){var c=Fe.call(a);if(!hn[c]||ln&&g(a))return a;var h=wn(a)}if(!l||!e)return l&&!u?h?_(a):Tn({},a):a;var f=fn[c];switch(c){case Ye:case We:return u?a:new f(+a);case Ge:case Qe:return u?a:new f(a);case Je:return u?a:f(a.source,be.exec(a))}r||(r=[]),o||(o=[]);for(var d=r.length;d--;)if(r[d]==t)return o[d];return u||(a=h?f(a.length):{},h&&(Pe.call(t,"index")&&(a.index=t.index),Pe.call(t,"input")&&(a.input=t.input))),r.push(t),o.push(a),(h?tt:xn)(u?a:t,function(t,i){a[i]=M(t,e,n,s,r,o)}),a}function C(t,e,n){return M(t,!0,e,n)}function T(t){var e=[];return bn(t,function(t,n){F(t)&&e.push(n)}),e.sort()}function S(t,e){return t?Pe.call(t,e):!1}function D(t){for(var e=-1,n=kn(t),i=n.length,r={};++e<i;){var o=n[e];r[t[o]]=o}return r}function A(t){return t===!0||t===!1||Fe.call(t)==Ye}function $(t){return t instanceof Date||Fe.call(t)==We}function E(t){return t?1===t.nodeType:!1}function N(t){var e=!0;if(!t)return e;var n=Fe.call(t),i=t.length;return n==Be||n==Qe||n==Ve||sn&&x(t)||n==Xe&&"number"==typeof i&&F(t.splice)?!i:(xn(t,function(){return e=!1}),e)}function P(t,e,n,i,r,o){var a=n===pe;if(n&&!a){n="undefined"==typeof i?n:p(n,i,2);var s=n(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;var u=typeof t,l=typeof e;if(t===t&&(!t||"function"!=u&&"object"!=u)&&(!e||"function"!=l&&"object"!=l))return!1;if(null==t||null==e)return t===e;var c=Fe.call(t),h=Fe.call(e);if(c==Ve&&(c=Xe),h==Ve&&(h=Xe),c!=h)return!1;switch(c){case Ye:case We:return+t==+e;case Ge:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case Je:case Qe:return t==e+""}var f=c==Be;if(!f){if(t.__wrapped__||e.__wrapped__)return P(t.__wrapped__||t,e.__wrapped__||e,n,i,r,o);if(c!=Xe||ln&&(g(t)||g(e)))return!1;var d=!an&&x(t)?Object:t.constructor,v=!an&&x(e)?Object:e.constructor;if(d!=v&&!(F(d)&&d instanceof d&&F(v)&&v instanceof v))return!1}r||(r=[]),o||(o=[]);for(var m=r.length;m--;)if(r[m]==t)return o[m]==e;var y=0;if(s=!0,r.push(t),o.push(e),f){if(m=t.length,y=e.length,s=y==t.length,!s&&!a)return s;for(;y--;){var _=m,b=e[y];if(a)for(;_--&&!(s=P(t[_],b,n,i,r,o)););else if(!(s=P(t[y],b,n,i,r,o)))break}return s}return bn(e,function(e,a,u){return Pe.call(u,a)?(y++,s=Pe.call(t,a)&&P(t[a],e,n,i,r,o)):void 0}),s&&!a&&bn(t,function(t,e,n){return Pe.call(n,e)?s=--y>-1:void 0}),s}function O(t){return Re(t)&&!Ue(parseFloat(t))}function F(t){return"function"==typeof t}function I(t){return t?pn[typeof t]:!1}function z(t){return U(t)&&t!=+t}function R(t){return null===t}function U(t){return"number"==typeof t||Fe.call(t)==Ge}function j(t){return t instanceof RegExp||Fe.call(t)==Je}function L(t){return"string"==typeof t||Fe.call(t)==Qe}function q(t){return"undefined"==typeof t}function H(t,e,n){var i=arguments,r=0,o=2;if(!I(t))return t;if(n===pe)var a=i[3],s=i[4],u=i[5];else s=[],u=[],"number"!=typeof n&&(o=i.length),o>3&&"function"==typeof i[o-2]?a=p(i[--o-1],i[o--],2):o>2&&"function"==typeof i[o-1]&&(a=i[--o]);for(;++r<o;)(wn(i[r])?tt:xn)(i[r],function(e,n){var i,r,o=e,l=t[n];if(e&&((r=wn(e))||Dn(e))){for(var c=s.length;c--;)if(i=s[c]==e){l=u[c];break}i||(l=r?wn(l)?l:[]:Dn(l)?l:{},a&&(o=a(l,e),"undefined"!=typeof o&&(l=o)),s.push(e),u.push(l),a||(l=H(l,e,pe,a,s,u)))}else a&&(o=a(l,e),"undefined"==typeof o&&(o=e)),"undefined"!=typeof o&&(l=o);t[n]=l});return t}function V(t,e,n){var i="function"==typeof e,r={};if(i)e=p(e,n);else var o=$e.apply(ce,arguments);return bn(t,function(t,n,a){(i?!e(t,n,a):yt(o,n,1)<0)&&(r[n]=t)}),r}function B(t){for(var e=-1,n=kn(t),i=n.length,r=Array(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function Y(t,e,n){var i={};if("function"!=typeof e)for(var r=0,o=$e.apply(ce,arguments),a=I(t)?o.length:0;++r<a;){var s=o[r];s in t&&(i[s]=t[s])}else e=p(e,n),bn(t,function(t,n,r){e(t,n,r)&&(i[n]=t)});return i}function W(t){for(var e=-1,n=kn(t),i=n.length,r=Array(i);++e<i;)r[e]=t[n[e]];return r}function K(t){var e=-1,n=$e.apply(ce,_(arguments,1)),i=n.length,r=Array(i);for(un&&L(t)&&(t=t.split(""));++e<i;)r[e]=t[n[e]];return r}function G(t,e,n){var i=-1,r=t?t.length:0,o=!1;return n=(0>n?Le(0,r+n):n)||0,"number"==typeof r?o=(L(t)?t.indexOf(e,n):yt(t,e,n))>-1:_n(t,function(t){return++i>=n?!(o=t===e):void 0}),o}function X(t,e,n){var i={};return e=p(e,n),tt(t,function(t,n,r){n=e(t,n,r)+"",Pe.call(i,n)?i[n]++:i[n]=1}),i}function J(t,e,n){var i=!0;if(e=p(e,n),wn(t))for(var r=-1,o=t.length;++r<o&&(i=!!e(t[r],r,t)););else _n(t,function(t,n,r){return i=!!e(t,n,r)});return i}function Q(t,e,n){var i=[];if(e=p(e,n),wn(t))for(var r=-1,o=t.length;++r<o;){var a=t[r];e(a,r,t)&&i.push(a)}else _n(t,function(t,n,r){e(t,n,r)&&i.push(t)});return i}function Z(t,e,n){var i;return e=p(e,n),tt(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}function tt(t,e,n){if(e&&"undefined"==typeof n&&wn(t))for(var i=-1,r=t.length;++i<r&&e(t[i],i,t)!==!1;);else _n(t,e,n);return t}function et(t,e,n){var i={};return e=p(e,n),tt(t,function(t,n,r){n=e(t,n,r)+"",(Pe.call(i,n)?i[n]:i[n]=[]).push(t)}),i}function nt(t,e){var n=_(arguments,2),i=-1,r="function"==typeof e,o=t?t.length:0,a=Array("number"==typeof o?o:0);return tt(t,function(t){a[++i]=(r?e:t[e]).apply(t,n)}),a}function it(t,e,n){var i=-1,r=t?t.length:0,o=Array("number"==typeof r?r:0);if(e=p(e,n),wn(t))for(;++i<r;)o[i]=e(t[i],i,t);else _n(t,function(t,n,r){o[++i]=e(t,n,r)});return o}function rt(t,e,n){var i=-(1/0),r=i;if(!e&&wn(t))for(var o=-1,a=t.length;++o<a;){var s=t[o];s>r&&(r=s)}else e=!e&&L(t)?c:p(e,n),_n(t,function(t,n,o){var a=e(t,n,o);a>i&&(i=a,r=t)});return r}function ot(t,e,n){var i=1/0,r=i;if(!e&&wn(t))for(var o=-1,a=t.length;++o<a;){var s=t[o];r>s&&(r=s)}else e=!e&&L(t)?c:p(e,n),_n(t,function(t,n,o){var a=e(t,n,o);i>a&&(i=a,r=t)});return r}function at(t,e,n,i){var r=arguments.length<3;if(e=p(e,i,4),wn(t)){var o=-1,a=t.length;for(r&&(n=t[++o]);++o<a;)n=e(n,t[o],o,t)}else _n(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)});return n}function st(t,e,n,i){var r=t,o=t?t.length:0,a=arguments.length<3;if("number"!=typeof o){var s=kn(t);o=s.length}else un&&L(t)&&(r=t.split(""));return e=p(e,i,4),tt(t,function(t,i,u){i=s?s[--o]:--o,n=a?(a=!1,r[i]):e(n,r[i],i,u)}),n}function ut(t,e,n){return e=p(e,n),Q(t,function(t,n,i){return!e(t,n,i)})}function lt(t){var e=-1,n=t?t.length:0,i=Array("number"==typeof n?n:0);return tt(t,function(t){var n=Ee(He()*(++e+1));i[e]=i[n],i[n]=t}),i}function ct(t){var e=t?t.length:0;return"number"==typeof e?e:kn(t).length}function ht(t,e,n){var i;if(e=p(e,n),wn(t))for(var r=-1,o=t.length;++r<o&&!(i=e(t[r],r,t)););else _n(t,function(t,n,r){return!(i=e(t,n,r))});return!!i}function ft(t,e,n){var i=-1,r=t?t.length:0,o=Array("number"==typeof r?r:0);for(e=p(e,n),tt(t,function(t,n,r){o[++i]={criteria:e(t,n,r),index:i,value:t}}),r=o.length,o.sort(h);r--;)o[r]=o[r].value;return o}function pt(t){return t&&"number"==typeof t.length?un&&L(t)?t.split(""):_(t):W(t)}function dt(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i}function vt(t){for(var e=-1,n=t?t.length:0,i=$e.apply(ce,arguments),r=l(i,n),o=[];++e<n;){var a=t[e];r(a)||o.push(a)}return o}function mt(t,e,n){if(t){var i=0,r=t.length;if("number"!=typeof e&&null!=e){var o=-1;for(e=p(e,n);++o<r&&e(t[o],o,t);)i++}else if(i=e,null==i||n)return t[0];return _(t,0,qe(Le(0,i),r))}}function gt(t,e){for(var n=-1,i=t?t.length:0,r=[];++n<i;){var o=t[n];wn(o)?Oe.apply(r,e?o:gt(o)):r.push(o)}return r}function yt(t,e,n){var i=-1,r=t?t.length:0;if("number"==typeof n)i=(0>n?Le(0,r+n):n||0)-1;else if(n)return i=Tt(t,e),t[i]===e?i:-1;for(;++i<r;)if(t[i]===e)return i;return-1}function _t(t,e,n){if(!t)return[];var i=0,r=t.length;if("number"!=typeof e&&null!=e){var o=r;for(e=p(e,n);o--&&e(t[o],o,t);)i++}else i=null==e||n?1:e||i;return _(t,0,qe(Le(0,r-i),r))}function bt(t){var e=arguments,n=e.length,i={0:{}},r=-1,o=t?t.length:0,a=o>=100,s=[],u=s;t:for(;++r<o;){var c=t[r];if(a)var h=c+"",f=Pe.call(i[0],h)?!(u=i[0][h]):u=i[0][h]=[];if(f||yt(u,c)<0){a&&u.push(c);for(var p=n;--p;)if(!(i[p]||(i[p]=l(e[p],0,100)))(c))continue t;s.push(c)}}return s}function xt(t,e,n){if(t){var i=0,r=t.length;if("number"!=typeof e&&null!=e){var o=r;for(e=p(e,n);o--&&e(t[o],o,t);)i++}else if(i=e,null==i||n)return t[r-1];return _(t,Le(0,r-i))}}function wt(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?Le(0,i+n):qe(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function kt(t,e){for(var n=-1,i=t?t.length:0,r={};++n<i;){var o=t[n];e?r[o]=e[n]:r[o[0]]=o[1]}return r}function Mt(t,e,n){t=+t||0,n=+n||1,null==e&&(e=t,t=0);for(var i=-1,r=Le(0,Ae((e-t)/n)),o=Array(r);++i<r;)o[i]=t,t+=n;return o}function Ct(t,e,n){if("number"!=typeof e&&null!=e){var i=0,r=-1,o=t?t.length:0;for(e=p(e,n);++r<o&&e(t[r],r,t);)i++}else i=null==e||n?1:Le(0,e);return _(t,i)}function Tt(t,e,n,i){var r=0,o=t?t.length:r;for(n=n?p(n,i,1):Yt,e=n(e);o>r;){var a=r+o>>>1;n(t[a])<e?r=a+1:o=a}return r}function St(){return Dt($e.apply(ce,arguments))}function Dt(t,e,n,i){var r=-1,o=t?t.length:0,a=[],s=a;"function"==typeof e&&(i=n,n=e,e=!1);var u=!e&&o>=75;if(u)var l={};for(n&&(s=[],n=p(n,i));++r<o;){var c=t[r],h=n?n(c,r,t):c;if(u)var f=h+"",d=Pe.call(l,f)?!(s=l[f]):s=l[f]=[];(e?!r||s[s.length-1]!==h:d||yt(s,h)<0)&&((n||u)&&s.push(h),a.push(c))}return a}function At(t){for(var e=-1,n=t?t.length:0,i=l(arguments,1),r=[];++e<n;){var o=t[e];i(o)||r.push(o)}return r}function $t(t){for(var e=-1,n=t?rt(An(arguments,"length")):0,i=Array(n);++e<n;)i[e]=An(arguments,e);return i}function Et(t,e){return 1>t?e():function(){return--t<1?e.apply(this,arguments):void 0}}function Nt(t,e){return en||Ie&&arguments.length>2?Ie.call.apply(Ie,arguments):f(t,e,_(arguments,2))}function Pt(t){for(var e=$e.apply(ce,arguments),n=e.length>1?0:(e=T(t),-1),i=e.length;++n<i;){var r=e[n];t[r]=Nt(t[r],t)}return t}function Ot(t,e){return f(t,e,_(arguments,2))}function Ft(){var t=arguments;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function It(t,e,n){function i(){s=null,n||(o=t.apply(a,r))}var r,o,a,s;return function(){var u=n&&!s;return r=arguments,a=this,clearTimeout(s),s=setTimeout(i,e),u&&(o=t.apply(a,r)),o}}function zt(t,e){var n=_(arguments,2);return setTimeout(function(){t.apply(s,n)},e)}function Rt(t){var e=_(arguments,1);return setTimeout(function(){t.apply(s,e)},1)}function Ut(t,e){var n={};return function(){var i=(e?e.apply(this,arguments):arguments[0])+"";return Pe.call(n,i)?n[i]:n[i]=t.apply(this,arguments)}}function jt(t){var e,n;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Lt(t){return f(t,_(arguments,1))}function qt(t){return f(t,_(arguments,1),null,pe)}function Ht(t,e){function n(){s=new Date,a=null,r=t.apply(o,i)}var i,r,o,a,s=0;return function(){var u=new Date,l=e-(u-s);return i=arguments,o=this,0>=l?(clearTimeout(a),a=null,s=u,r=t.apply(o,i)):a||(a=setTimeout(n,l)),r}}function Vt(t,e){return function(){var n=[t];return Oe.apply(n,arguments),e.apply(this,n)}}function Bt(t){return null==t?"":(t+"").replace(Ce,m)}function Yt(t){return t}function Wt(t){tt(T(t),function(e){var n=u[e]=t[e];u.prototype[e]=function(){var t=[this.__wrapped__];return Oe.apply(t,arguments),new u(n.apply(u,t))}})}function Kt(){return a._=ve,this}function Gt(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e&&(e=t,t=0),t+Ee(He()*((+e||0)-t+1))}function Xt(t,e){var n=t?t[e]:s;return F(n)?t[e]():n}function Jt(t,e,n){var i=u.templateSettings;t||(t=""),n=Sn({},n,i);var r,o=Sn({},n.imports,i.imports),a=kn(o),l=W(o),c=0,h=n.interpolate||Me,f="__p += '",p=RegExp((n.escape||Me).source+"|"+h.source+"|"+(h===ke?we:Me).source+"|"+(n.evaluate||Me).source+"|$","g");t.replace(p,function(e,n,i,o,a,s){return i||(i=o),f+=t.slice(c,s).replace(Te,v),n&&(f+="' +\n__e("+n+") +\n'"),a&&(r=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),f+="';\n";var d=n.variable,m=d;m||(d="obj",f="with ("+d+") {\n"+f+"\n}\n"),f=(r?f.replace(ge,""):f).replace(ye,"$1").replace(_e,"$1;"),f="function("+d+") {\n"+(m?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g="\n/*\n//@ sourceURL="+(n.sourceURL||"/lodash/template/source["+De++ +"]")+"\n*/";try{var y=Function(a,"return "+f+g).apply(s,l)}catch(_){throw _.source=f,_}return e?y(e):(y.source=f,y)}function Qt(t,e,n){t=+t||0;for(var i=-1,r=Array(t);++i<t;)r[i]=e.call(n,i);return r}function Zt(t){return null==t?"":(t+"").replace(me,b)}function te(t){var e=++fe;return(null==t?"":t+"")+e}function ee(t,e){return e(t),t}function ne(){return this.__wrapped__+""}function ie(){return this.__wrapped__}var re="object"==typeof e&&e,oe="object"==typeof t&&t&&t.exports==re&&t,ae="object"==typeof r&&r;ae.global===ae&&(a=ae);var se,ue,le,ce=[],he={},fe=0,pe=he,de=30,ve=a._,me=/&(?:amp|lt|gt|quot|#39);/g,ge=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/\w*$/,xe=RegExp("^"+(he.valueOf+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),we=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/<%=([\s\S]+?)%>/g,Me=/($^)/,Ce=/[&<>"']/g,Te=/['\n\r\t\u2028\u2029\\]/g,Se=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],De=0,Ae=Math.ceil,$e=ce.concat,Ee=Math.floor,Ne=xe.test(Ne=Object.getPrototypeOf)&&Ne,Pe=he.hasOwnProperty,Oe=ce.push,Fe=he.toString,Ie=xe.test(Ie=_.bind)&&Ie,ze=xe.test(ze=Array.isArray)&&ze,Re=a.isFinite,Ue=a.isNaN,je=xe.test(je=Object.keys)&&je,Le=Math.max,qe=Math.min,He=Math.random,Ve="[object Arguments]",Be="[object Array]",Ye="[object Boolean]",We="[object Date]",Ke="[object Function]",Ge="[object Number]",Xe="[object Object]",Je="[object RegExp]",Qe="[object String]",Ze=!!a.attachEvent,tn=Ie&&!/\n|true/.test(Ie+Ze),en=Ie&&!tn,nn=je&&(Ze||tn),rn=(rn={0:1,length:1},ce.splice.call(rn,0,1),rn[0]),on=!0;!function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);for(n in arguments)on=!n;se=!/valueOf/.test(e),ue=t.propertyIsEnumerable("prototype"),le="x"!=e[0]}(1);var an=arguments.constructor==Object,sn=!x(arguments),un="x"[0]+Object("x")[0]!="xx";try{var ln=Fe.call(document)==Xe&&!({toString:0}+"")}catch(cn){}var hn={};hn[Ke]=!1,hn[Ve]=hn[Be]=hn[Ye]=hn[We]=hn[Ge]=hn[Xe]=hn[Je]=hn[Qe]=!0;var fn={};fn[Be]=Array,fn[Ye]=Boolean,fn[We]=Date,fn[Xe]=Object,fn[Ge]=Number,fn[Je]=RegExp,fn[Qe]=String;var pn={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},dn={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};u.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ke,variable:"",imports:{_:u}};var vn=function(t){var e="var index, iterable = "+t.firstArg+", result = iterable;\nif (!iterable) return result;\n"+t.top+";\n";if(t.arrays?(e+="var length = iterable.length; index = -1;\nif ("+t.arrays+") {  ",t.noCharByIndex&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+"\n  }\n}\nelse {  "):t.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+"\n    }\n  } else {  "),t.hasEnumPrototype&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),t.isKeysFast&&t.useHas?(e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] ? nativeKeys(iterable) : [],\n      length = ownProps.length;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n    ",t.hasEnumPrototype&&(e+="if (!(skipProto && index == 'prototype')) {\n  "),
e+=t.loop+"",t.hasEnumPrototype&&(e+="}\n"),e+="  }  "):(e+="\n  for (index in iterable) {",(t.hasEnumPrototype||t.useHas)&&(e+="\n    if (",t.hasEnumPrototype&&(e+="!(skipProto && index == 'prototype')"),t.hasEnumPrototype&&t.useHas&&(e+=" && "),t.useHas&&(e+="hasOwnProperty.call(iterable, index)"),e+=") {    "),e+=t.loop+";    ",(t.hasEnumPrototype||t.useHas)&&(e+="\n    }"),e+="\n  }  "),t.hasDontEnumBug){e+="\n\n  var ctor = iterable.constructor;\n    ";for(var n=0;7>n;n++)e+="\n  index = '"+t.shadowed[n]+"';\n  if (","constructor"==t.shadowed[n]&&(e+="!(ctor && ctor.prototype === iterable) && "),e+="hasOwnProperty.call(iterable, index)) {\n    "+t.loop+"\n  }    "}return(t.arrays||t.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"},mn={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},gn={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : createCallback(callback, thisArg)",arrays:"typeof length == 'number'",loop:"if (callback(iterable[index], index, collection) === false) return result"},yn={top:"if (!objectTypes[typeof iterable]) return result;\n"+gn.top,arrays:!1},_n=d(gn);sn&&(x=function(t){return t?Pe.call(t,"callee"):!1});var bn=d(gn,yn,{useHas:!1}),xn=d(gn,yn),wn=ze||function(t){return an&&t instanceof Array||Fe.call(t)==Be},kn=je?function(t){return I(t)?ue&&"function"==typeof t||on&&t.length&&x(t)?k(t):je(t):[]}:k,Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cn=D(Mn),Tn=d(mn,{top:mn.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = createCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Sn=d(mn);F(/x/)&&(F=function(t){return t instanceof Function||Fe.call(t)==Ke});var Dn=Ne?function(t){if(!t||"object"!=typeof t)return!1;var e=t.valueOf,n="function"==typeof e&&(n=Ne(e))&&Ne(n);return n?t==n||Ne(t)==n&&!x(t):w(t)}:w,An=it,$n=Q;tn&&oe&&"function"==typeof o&&(Rt=Nt(o,a)),u.after=Et,u.assign=Tn,u.at=K,u.bind=Nt,u.bindAll=Pt,u.bindKey=Ot,u.compact=dt,u.compose=Ft,u.countBy=X,u.debounce=It,u.defaults=Sn,u.defer=Rt,u.delay=zt,u.difference=vt,u.filter=Q,u.flatten=gt,u.forEach=tt,u.forIn=bn,u.forOwn=xn,u.functions=T,u.groupBy=et,u.initial=_t,u.intersection=bt,u.invert=D,u.invoke=nt,u.keys=kn,u.map=it,u.max=rt,u.memoize=Ut,u.merge=H,u.min=ot,u.object=kt,u.omit=V,u.once=jt,u.pairs=B,u.partial=Lt,u.partialRight=qt,u.pick=Y,u.pluck=An,u.range=Mt,u.reject=ut,u.rest=Ct,u.shuffle=lt,u.sortBy=ft,u.tap=ee,u.throttle=Ht,u.times=Qt,u.toArray=pt,u.union=St,u.uniq=Dt,u.values=W,u.where=$n,u.without=At,u.wrap=Vt,u.zip=$t,u.collect=it,u.drop=Ct,u.each=tt,u.extend=Tn,u.methods=T,u.select=Q,u.tail=Ct,u.unique=Dt,Wt(u),u.clone=M,u.cloneDeep=C,u.contains=G,u.escape=Bt,u.every=J,u.find=Z,u.has=S,u.identity=Yt,u.indexOf=yt,u.isArguments=x,u.isArray=wn,u.isBoolean=A,u.isDate=$,u.isElement=E,u.isEmpty=N,u.isEqual=P,u.isFinite=O,u.isFunction=F,u.isNaN=z,u.isNull=R,u.isNumber=U,u.isObject=I,u.isPlainObject=Dn,u.isRegExp=j,u.isString=L,u.isUndefined=q,u.lastIndexOf=wt,u.mixin=Wt,u.noConflict=Kt,u.random=Gt,u.reduce=at,u.reduceRight=st,u.result=Xt,u.size=ct,u.some=ht,u.sortedIndex=Tt,u.template=Jt,u.unescape=Zt,u.uniqueId=te,u.all=J,u.any=ht,u.detect=Z,u.foldl=at,u.foldr=st,u.include=G,u.inject=at,xn(u,function(t,e){u.prototype[e]||(u.prototype[e]=function(){var e=[this.__wrapped__];return Oe.apply(e,arguments),t.apply(u,e)})}),u.first=mt,u.last=xt,u.take=mt,u.head=mt,xn(u,function(t,e){u.prototype[e]||(u.prototype[e]=function(e,n){var i=t(this.__wrapped__,e,n);return null==e||n&&"function"!=typeof e?i:new u(i)})}),u.VERSION="1.0.2",u.prototype.toString=ne,u.prototype.value=ie,u.prototype.valueOf=ie,_n(["join","pop","shift"],function(t){var e=ce[t];u.prototype[t]=function(){return e.apply(this.__wrapped__,arguments)}}),_n(["push","reverse","sort","unshift"],function(t){var e=ce[t];u.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),_n(["concat","slice","splice"],function(t){var e=ce[t];u.prototype[t]=function(){return new u(e.apply(this.__wrapped__,arguments))}}),rn&&_n(["pop","shift","splice"],function(t){var e=ce[t],n="splice"==t;u.prototype[t]=function(){var t=this.__wrapped__,i=e.apply(t,arguments);return 0===t.length&&delete t[0],n?new u(i):i}}),a._=u,i=function(){return u}.call(e,n,e,t),!(i!==s&&(t.exports=i))}(this)}).call(e,n(46)(t),function(){return this}(),n(41).setImmediate)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(e){function i(t,n){this.container=n,this.$select=e(n),this.firstStep=t.firstStep,this.secondStep=t.secondStep,this.init()}var r=n(34).rowSortFunction;i.prototype.init=function(){this.handlerOnChangeSelect(),this.handlerOnClickSelect()},i.prototype.unlock=function(){this.$select.toggleClass("disabled",!1)},i.prototype.lock=function(){this.$select.toggleClass("disabled",!0)},i.prototype.drawDiagramm=function(t,e,n){var i,o,a,s,u;s=new google.visualization.DataTable,s.addColumn("string","Caption"),s.addColumn("number","Total Funds"),a=[],u=t.data,u.forEach(function(t){var e=_.assign({},t);e.amount<0&&(e.amount=-parseInt(e.amount,10)),a.push([e.translatedCaption,parseInt(e.amount,10)])}),a.sort(r),s.addRows(a),o={title:"Total "+n.translatedCategory+": "+t.name,titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:"100%",height:"100%",sliceVisibilityThreshold:0,forceIFrame:!0,chartArea:{left:"3%",top:"13%",height:"94%",width:"94%"},legend:{position:"top",maxLines:"6"}},i=new google.visualization.PieChart(document.getElementById(e)),i.draw(s,o)},i.prototype.switchGraphs=function(){var t=e("#total-compare-first-pie"),n=e("#total-compare-second-pie"),i=e("#total-compare-column"),r=e('<div class="loader"></div>'),o=e('<div class="loader"></div>');e(".government-categories .category").addClass("selected"),e(".government-categories .caption").removeClass("selected"),i.hide(),t.show(),n.show(),t.find("p").append(r),n.find("p").append(o)},i.prototype.drawTable=function(t,n){var i,r,o,a,s,u,l;i=e(t),i.html(""),r=".compare-first-table"===t?"firstGovernment":"secondGovernment",o=n.translatedCategory,a=n[r].name,s=n[r].year,u='<thead><tr><th colspan="2" style="text-align: center">'+a+" ("+s+")</th></tr><tr><th>"+o+"</th><th> Total </th></tr>></thead>",l="<tbody>",n[r].data.forEach(function(t){l+="<tr><td>"+t.translatedCaption+"</td><td>"+numeral(t.amount).format("$0,0")+"</td></tr>"}),l+="</tbody>",i.append(u),i.append(l)},i.prototype.handlerOnChangeSelect=function(){var t=this;return e(t.container).on("change",function(n){var i=e(n.target),r=i.find("option:selected"),o=r.parent("optgroup").data("name"),a=r.val();return a?(t.loadComparedData(o,a),!0):(alert("Please select one of category"),!0)}),!0},i.prototype.loadComparedData=function(t,n,i){var r,o=this;return t&&n?(i&&o.$select.find('[value="'+n+'"]').attr("selected",!0),r={firstGovernment:{id:o.firstStep.data.id,name:o.firstStep.data.name,year:o.firstStep.data.year},secondGovernment:{id:o.secondStep.data.id,name:o.secondStep.data.name,year:o.secondStep.data.year},category:n,tab:t},r=JSON.stringify(r),e.ajax({url:window.gw.urls.compare,type:"POST",data:r,contentType:"application/json",success:function(t){o.switchGraphs(),o.drawTable(".compare-first-table",t),o.drawTable(".compare-second-table",t),o.drawDiagramm(t.firstGovernment,"total-compare-first-pie",t),o.drawDiagramm(t.secondGovernment,"total-compare-second-pie",t)},error:function(){return alert("Cant load data for this governments, please try later"),!0}}),!0):(alert("Something went wrong, please contact with us"),console.error("Please pass all required arguments into loadComparedData() function"),!1)},i.prototype.handlerOnClickSelect=function(){var t=this;t.$select.on("mousedown",function(n){var i=e(n.target);return i.hasClass("disabled")?alert("Please, first select governments"):t.firstStep.completed&&t.secondStep.completed||alert("Please, first enter all fields"),!0})},t.exports=i}).call(e,n(1))}]);