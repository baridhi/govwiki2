webpackJsonp([2],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {var $subscribeBtn;\nvar $pane;\nvar $mobileNav = $('.nav');\nvar tab;\n\nvar step1;\nvar step2;\nvar step3;\nvar step31;\n\nvar FormState;\nvar Step31;\nvar Step3;\nvar Step2;\nvar Step1;\nvar government = JSON.parse(window.gw.government);\n\nvar graphs = __webpack_require__(28);\nvar popover = new (__webpack_require__(35))({  // eslint-disable-line\n  year: JSON.parse(window.gw.government).currentYear\n});\n\nStep1 = __webpack_require__(37);\nStep2 = __webpack_require__(42);\nStep3 = __webpack_require__(43);\nStep31 = __webpack_require__(44);\n\ngraphs.init(function init() {\n  graphs.forceInit();\n});\n\n/**\n * Status of form steps\n * If step isn't completed - dependency fields will be .disabled\n *\n * @typedef FormState\n * @type {{firstStep: boolean, secondStep: boolean, thirdStep: boolean}}\n */\nFormState = {\n  firstStep: {\n    completed: true,\n    data: {},\n    complete: function complete() {\n      this.completed = true;\n\n      step2.unlock();\n\n      // If first step\n      if (FormState.firstStep.completed && FormState.secondStep.completed) {\n                // Default action if thirdSteps not initialized\n        if (!FormState.thirdStep.completed || !FormState.thirdOneStep.completed) {\n          step31.loadComparedData('Financial Statement', 'Revenues', true);\n        }\n        step31.unlock();\n        step3.unlock();\n      }\n    },\n    incomplete: function incomplete() {\n      this.completed = false;\n\n      step2.lock();\n      step3.lock();\n      step31.lock();\n    }\n  },\n  secondStep: {\n    completed: false,\n    data: {},\n    complete: function complete() {\n      this.completed = true;\n\n      if (FormState.firstStep.completed && FormState.secondStep.completed) {\n        // Default action if thirdSteps not initialized\n        if (!FormState.thirdStep.completed || !FormState.thirdOneStep.completed) {\n          step31.loadComparedData('Financial Statement', 'Revenues', true);\n        }\n        step31.unlock();\n        step3.unlock();\n      }\n    },\n    incomplete: function incomplete() {\n      this.completed = false;\n\n      step31.lock();\n      step3.lock();\n    }\n  },\n  thirdStep: {\n    completed: false,\n    data: {},\n    complete: function complete() {\n      this.completed = false;\n    },\n    incomplete: function incomplete() {\n      this.completed = true;\n    }\n  },\n  thirdOneStep: {\n    completed: false,\n    data: {},\n    complete: function complete() {\n      this.completed = false;\n    },\n    incomplete: function incomplete() {\n      this.completed = true;\n    }\n  }\n};\n\nstep1 = new Step1(FormState, '.first-condition');\nstep1.unlock();\n\nstep2 = new Step2(FormState, '.second-condition');\nstep2.lock();\n\nstep3 = new Step3(FormState, '.government-categories .caption');\nstep3.lock();\n\nstep31 = new Step31(FormState, '.government-categories .category');\nstep31.lock();\n\n/**\n * Change fin statement year.\n */\n$('#fin-stmt-year').change(function change() {\n  var $this = $(this);\n  $this.closest('form').submit();\n  window.localStorage.setItem('tab', 'Financial_Statements');\n});\n\ntab = window.localStorage.getItem('tab');\nif (tab) {\n  window.localStorage.removeItem('tab');\n  $('.nav-pills a[href=\"' + tab + '\"]').tab('show');\n}\n\n/*\n Subscribe to government\n */\n$subscribeBtn = $('#subscribe');\n\nif ($subscribeBtn.hasClass('subscribe')) {\n  $('#chat_message_container').hide();\n} else {\n  $('#chat_message_container').show();\n}\n\n$subscribeBtn.click(function click(event) {\n  event.preventDefault();\n  event.stopPropagation();\n\n  $.ajax({\n    url: $subscribeBtn.attr('href')\n  }).done(function load() {\n    if ($subscribeBtn.hasClass('subscribe')) {\n      $('#chat_message_container').show();\n      $subscribeBtn\n                .text('Unsubscribe')\n                .removeClass('subscribe')\n                .removeClass('btn-success')\n                .addClass('unsubscribe')\n                .addClass('btn-danger');\n    } else {\n      $('#chat_message_container').hide();\n      $subscribeBtn\n                .text('Subscribe')\n                .removeClass('unsubscribe')\n                .removeClass('btn-danger')\n                .addClass('subscribe')\n                .addClass('btn-success');\n    }\n  });\n});\n\n/*\n Reload data for government by given year.\n */\n$('#year-selector').change(function change() {\n  var selectedYear = $(this).find(':selected').val();\n  var openedTab = $('.tab-titles').find('li.active').find('a').attr('href');\n\n  window.location.search = '?year=' + selectedYear;\n  window.localStorage.setItem('tab', openedTab);\n});\n\n// Table pagination handler.\n$pane = $('.paginate');\n\n$pane.on('click', '.pagination a', function paneClick(e) {\n  var $loader;\n  var $mainContent;\n  var query;\n  var firstElement;\n  var url;\n  var type;\n  var $closestPane;\n  var $this;\n  e.preventDefault();\n  e.stopPropagation();\n\n  $this = $(this);\n  $closestPane = $this.closest('.tab-pane');\n  type = $closestPane.data('type');\n  url = $this.attr('href');\n\n  if (url.indexOf('api') === -1) {\n    url = url.substr(1, url.length);\n    firstElement = url.substr(0, url.indexOf('/'));\n    query = url.substr(url.indexOf('?') + 1, url.length);\n\n    if (firstElement === 'app_dev.php') {\n      url = '/' + firstElement + '/api/v1/government/' + government.id\n            + '/' + type + '?' + query;\n    } else {\n      url = '/api/v1/government/' + government.id + '/' + type + '?' + query;\n    }\n  }\n\n  $mainContent = $closestPane.find('.tab-pane-main');\n  $mainContent.html('');\n\n  $loader = $('.tab-content').find('.loader');\n  $loader.show();\n  $.ajax(url).success(function load(data) {\n    $loader.hide();\n    $mainContent.html(data);\n  });\n});\n\n$pane.on('click', '.sortable a', function click(e) {\n  var $loader;\n  var $mainContent;\n  var query;\n  var firstElement;\n  var $this = $(this);\n  var $closestPane = $this.closest('.tab-pane');\n  var type = $closestPane.data('type');\n  var url = $this.attr('href');\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  if (url.indexOf('api') === -1) {\n    url = url.substr(1, url.length);\n    firstElement = url.substr(0, url.indexOf('/'));\n    query = url.substr(url.indexOf('?') + 1, url.length);\n\n    if (firstElement === 'app_dev.php') {\n      url = '/' + firstElement + '/api/v1/government/' + government.id\n            + '/' + type + '?' + query;\n    } else {\n      url = '/api/v1/government/' + government.id + '/' + type + '?' + query;\n    }\n  }\n\n  $mainContent = $closestPane.find('.tab-pane-main');\n  $mainContent.html('');\n\n  $loader = $('.tab-content').find('.loader');\n  $loader.show();\n  $.ajax(url).success(function load(data) {\n    $loader.hide();\n    $mainContent.html(data);\n  });\n});\n\n$('.prev_tab').on('click', function previousTabClick() {\n  var $mobileTab = $(this).closest('.tab');\n  var $prevMobileTab;\n\n  if ($mobileTab) {\n    $mobileTab.toggleClass('active');\n    $prevMobileTab = prevTab();\n    gotoTab($prevMobileTab);\n  }\n\n  function prevTab() {\n    $prevMobileTab = $mobileTab.prev();\n\n    if ($prevMobileTab.length === 0) {\n        $prevMobileTab = $mobileTab.parent().children();\n        $prevMobileTab = $prevMobileTab.eq($prevMobileTab.length-1);\n    }\n    $prevMobileTab.toggleClass('active');\n    return $prevMobileTab;\n  }\n});\n\n$('.next_tab').on('click', function nextTabClick() {\n  var $mobileTab = $(this).closest('.tab');\n  var $nextMobileTab;\n\n  if ($mobileTab) {\n    $mobileTab.toggleClass('active');\n    $nextMobileTab = nextTab();\n    gotoTab($nextMobileTab);\n  }\n\n  function nextTab() {\n    $nextMobileTab = $mobileTab.next();\n\n    if ($nextMobileTab.length === 0) {\n        $nextMobileTab = $mobileTab.parent().children().eq(0);\n    }\n    $nextMobileTab.toggleClass('active');\n    return $nextMobileTab;\n  }\n});\n\nfunction gotoTab($mobileTab) {\n  $mobileTab.find('a')[0].click();\n  window.scrollBy(0, -45);\n}\n\n// Sticky header.\n$(window).scroll(function windowScroll() {\n  if (window.pageYOffset > 147) {\n    $mobileNav.addClass(\"nav_fixed\");\n  } else {\n    $mobileNav.removeClass(\"nav_fixed\");\n  }\n});\n\n// Init tooltip.\n$('[data-toggle=tooltip]').tooltip({\n  trigger: 'click'\n});\n\n// Change table value row.\n$('.fin-stmt-select').change(function finStmtCaptionChange() {\n  var $this = $(this);\n  var $table = $this.closest('table');\n  var value = $this.find(':selected').val();\n\n  $table.find('td:nth-child(2)').hide();\n  $table.find('td:nth-child(3)').hide();\n  $table.find('td:nth-child(4)').hide();\n  $table.find('td:nth-child('+ value +')').show();\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/index.js\n ** module id = 0\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/index.js?");

/***/ },
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {var employeeCompensationGraphs = __webpack_require__(29);\nvar financialHealthGraphs = __webpack_require__(31);\nvar financialStatementGraphs = __webpack_require__(32);\n\n/**\n * Initialization\n */\nfunction init(callback) {\n  return function cb() {\n    handlerOnTabSwitch();\n    callback();\n  };\n}\n\n/**\n * (Handler)\n * On tab switch\n */\nfunction handlerOnTabSwitch() {\n  $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function shownTab(e) {\n    var tabname = $(e.target).attr('data-tabname');\n\n        /**\n         * Init graphs\n         */\n    switch (tabname) {\n      case 'Quality of Services':\n        break;\n      case 'Employee Compensation':\n        employeeCompensationGraphs.initAll();\n        break;\n      case 'Financial Health':\n        financialHealthGraphs.initAll();\n        break;\n      case 'Financial Financial_Statements':\n        financialStatementGraphs.initAll();\n        break;\n      default:\n    }\n  });\n}\n\nfunction forceInit() {\n  employeeCompensationGraphs.initAll();\n  financialHealthGraphs.initAll();\n  financialStatementGraphs.initAll();\n}\n\nfunction initGoogleViz(callback) {\n  google.load('visualization', '1.0', {\n    packages: ['treemap', 'corechart'],\n    callback: init(callback)\n  });\n}\n\nmodule.exports = {\n  init: initGoogleViz,\n  forceInit: forceInit\n};\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/graphs.js\n ** module id = 28\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/graphs.js?");

/***/ },
/* 29 */
/***/ function(module, exports, __webpack_require__) {

	eval("var data = __webpack_require__(30).data;\n\n/**\n * Initialization\n */\nfunction init() {\n  employeeCompensationFirstChart();\n  employeeCompensationSecondChart();\n}\n\n/**\n * median-comp-graph\n */\nfunction employeeCompensationFirstChart() {\n  var chart;\n  var formatter;\n  var options;\n  var container;\n  var visData;\n    /*\n     Ahtung! Hardcode detected!\n     todo replace such bad code\n     */\n  if (!data.median_salary_per_full_time_emp) {\n    data.median_salary_per_full_time_emp = data.median_salary_for_full_time_employees;\n  }\n  if (!data.median_benefits_per_ft_emp) {\n    data.median_benefits_per_ft_emp = data.median_benefits_for_full_time_employees;\n  }\n\n  if (data.median_wages_general_public === 0) {\n    data.median_wages_general_public = undefined;\n  }\n\n  if (data.median_benefits_general_public === 0) {\n    data.median_benefits_general_public = undefined;\n  }\n\n  if (!data.median_salary_per_full_time_emp ||\n        !data.median_benefits_per_ft_emp ||\n        !data.median_wages_general_public ||\n        !data.median_benefits_general_public) {\n    return;\n  }\n\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Median Compensation');\n  visData.addColumn('number', 'Wages');\n  visData.addColumn('number', 'Bens.');\n  visData.addRows([\n    [\n      toTitleCase(data.name + '\\n Employees'),\n      +data.median_salary_per_full_time_emp,\n      +data.median_benefits_per_ft_emp\n    ],\n    [\n      'All \\n' + toTitleCase(data.name + ' \\n Residents'),\n      +data.median_wages_general_public,\n      +data.median_benefits_general_public\n    ]\n  ]);\n  formatter = new google.visualization.NumberFormat({\n    groupingSymbol: ',',\n    fractionDigits: '0'\n  });\n  formatter.format(visData, 1);\n  formatter.format(visData, 2);\n\n  container = 'median-comp-graph';\n  options = {\n    title: 'Median Total Compensation - Full Time Workers: \\n Government vs. Private Sector',\n    titleTextStyle: {\n      fontSize: 12\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    isStacked: true,\n    colors: ['#005ce6', '#009933']\n  };\n\n  chart = new google.visualization.ColumnChart(document.getElementById(container));\n  chart.draw(visData, options);\n\n\n  function toTitleCase(str) {\n    return str.replace(/\\w\\S*/g, function replace(txt) {\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n    });\n  }\n}\n\n/**\n * median-pension-graph\n */\nfunction employeeCompensationSecondChart() {\n  var chart;\n  var formatter;\n  var options;\n  var container;\n  var visData;\n    /*\n     Ahtung! Hardcode detected!\n     todo replace such bad code\n     */\n  if (!data.median_pension30_year_retiree) {\n    data.median_pension30_year_retiree = data.median_pension_for_retiree_with_30_years_service;\n  }\n\n  if (!data.median_pension30_year_retiree) {\n    return;\n  }\n\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Median Pension');\n  visData.addColumn('number', 'Wages');\n  visData.addRows([['Pension for \\n Retiree w/ 30 Years', +data.median_pension30_year_retiree]]);\n  formatter = new google.visualization.NumberFormat({\n    groupingSymbol: ',',\n    fractionDigits: '0'\n  });\n  formatter.format(visData, 1);\n\n  container = 'median-pension-graph';\n  options = {\n    title: 'Median Total Compensation - Full Time Workers: \\n Government vs. Private Sector',\n    titleTextStyle: {\n      fontSize: 12\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    isStacked: 'true',\n    colors: ['#005ce6', '#009933']\n  };\n\n  chart = new google.visualization.ColumnChart(document.getElementById(container));\n  chart.draw(visData, options);\n}\n\n\nmodule.exports = {\n  init: init,\n  initAll: init\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/graph/employee-compensation.js\n ** module id = 29\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/graph/employee-compensation.js?");

/***/ },
/* 30 */
/***/ function(module, exports) {

	eval("var data = JSON.parse(window.gw.government);\n\n\nmodule.exports = {\n  data: data\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/graph/glob.js\n ** module id = 30\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/graph/glob.js?");

/***/ },
/* 31 */
/***/ function(module, exports, __webpack_require__) {

	eval("var data = __webpack_require__(30).data;\n\n/**\n * Initialization\n */\nfunction init() {\n  financialHealthFirstChart();\n  financialHealthSecondChart();\n  financialHealthThirdChart();\n}\n\n/**\n * public-safety-pie\n */\nfunction financialHealthFirstChart() {\n  var chart;\n  var options;\n  var visData;\n  var container;\n  var element;\n  /**\n   * Ahtung! Hardcode detected!\n   * todo replace such bad code\n   */\n  if (!data.public_safety_exp_over_tot_gov_fund_revenue) {\n    data.public_safety_exp_over_tot_gov_fund_revenue = data.public_safety_expense_total_governmental_fund_revenue;\n  }\n\n  if (!data.public_safety_exp_over_tot_gov_fund_revenue) {\n    return;\n  }\n\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Public Safety Expense');\n  visData.addColumn('number', 'Total');\n  visData.addRows([\n    ['Public Safety Exp', 1 - data.public_safety_exp_over_tot_gov_fund_revenue],\n    ['Other', +data.public_safety_exp_over_tot_gov_fund_revenue]\n  ]);\n\n  container = 'public-safety-pie';\n  options = {\n    title: 'Public safety expense',\n    titleTextStyle: {\n      fontSize: 12\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    is3D: 'true',\n    colors: ['#005ce6', '#009933'],\n    slices: {\n      1: {\n        offset: 0.2\n      }\n    },\n    pieStartAngle: 45\n  };\n\n  element = document.getElementById(container);\n\n  if (element) {\n    chart = new google.visualization.PieChart(element);\n    chart.draw(visData, options);\n  }\n}\n\n/**\n * fin-health-revenue-graph\n */\nfunction financialHealthSecondChart() {\n  var chart;\n  var options;\n  var visData;\n  var container;\n\n  if (!data.total_revenue_per_capita) {\n    return;\n  }\n\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Per Capita');\n  visData.addColumn('number', 'Rev.');\n  visData.addRows([\n    ['Total Revenue \\n Per Capita', +data.total_revenue_per_capita],\n    ['Median Total \\n Revenue Per \\n Capita For All Cities', 420]\n  ]);\n\n  container = 'fin-health-revenue-graph';\n  options = {\n    title: 'Total Revenue',\n    titleTextStyle: {\n      fontSize: 12\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    isStacked: true,\n    colors: ['#005ce6', '#009933'],\n    'chartArea.width': '100%'\n  };\n\n  chart = new google.visualization.ColumnChart(document.getElementById(container));\n  chart.draw(visData, options);\n}\n\n/**\n * fin-health-expenditures-graph\n */\nfunction financialHealthThirdChart() {\n  var chart;\n  var options;\n  var visData;\n  var container;\n\n  if (!data.total_expenditures_per_capita) {\n    return;\n  }\n\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Per Capita');\n  visData.addColumn('number', 'Exp.');\n  visData.addRows([\n    ['Total Expenditures \\n Per Capita', +data.total_expenditures_per_capita],\n    ['Median Total \\n Expenditures \\n Per Capita \\n For All Cities', 420]\n  ]);\n\n  container = 'fin-health-expenditures-graph';\n  options = {\n    title: 'Total Expenditures',\n    titleTextStyle: {\n      fontSize: 12\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    isStacked: 'true',\n    colors: ['#005ce6', '#009933'],\n    'chartArea.width': '100%'\n  };\n\n  chart = new google.visualization.ColumnChart(document.getElementById(container));\n  chart.draw(visData, options);\n}\n\n\nmodule.exports = {\n  init: init,\n  initAll: init\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/graph/financial-health.js\n ** module id = 31\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/graph/financial-health.js?");

/***/ },
/* 32 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {var data = __webpack_require__(30).data;\nvar chartStatus = __webpack_require__(33).chart;\nvar rowSortFunction = __webpack_require__(34).rowSortFunction;\n\n/**\n * Initialization\n */\nfunction init() {\n  handlerSwitchChart();\n  revenuePie();\n  expendituresPie();\n}\n\n/**\n * #total-revenue-pie\n */\nfunction revenuePie() {\n  var subCatValue;\n  var subCategory;\n  var rKey;\n  var tooltip;\n  var totalfunds;\n  var caption;\n  var chart;\n  var options;\n  var r;\n  var container;\n  var rows;\n  var visData;\n  var revenues = data.financialStatements.Revenues;\n  var totalAmount = 0;\n  var key;\n\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Total Gov. Revenues');\n  visData.addColumn('number', 'Total');\n  visData.addColumn({ type: 'string', role: 'tooltip' });\n  rows = [];\n\n  // Prepare Revenues data to Google Tree Chart\n  for (rKey in revenues) {\n    if (revenues.hasOwnProperty(rKey) && (revenues[rKey].caption !== 'Total Revenues')) {\n      subCategory = revenues[rKey];\n      subCatValue = getSubCatValue(subCategory);\n      if (!subCatValue) {\n        continue;\n      }\n\n      totalAmount += parseInt(subCatValue, 10);\n    }\n  }\n\n  function renderTooltip(tooltipCaption, tooltipTotalfunds) {\n    var percent = tooltipTotalfunds * 100 / totalAmount;\n    percent = percent.toFixed(2);\n    return '' + tooltipCaption + ': ' + numeral(tooltipTotalfunds).format('$0,0') + ' (' + percent + '%)';\n  }\n\n  for (key in revenues) {\n    if (revenues.hasOwnProperty(key) && (revenues[key].caption !== 'Total Revenues')) {\n      caption = revenues[key].translatedCaption;\n      totalfunds = parseInt(revenues[key].totalfunds, 10);\n      tooltip = renderTooltip(caption, totalfunds, totalAmount);\n      r = [caption, totalfunds, tooltip];\n      rows.push(r);\n    }\n  }\n\n  // Sort all records by amount\n  rows.sort(rowSortFunction);\n\n  visData.addRows(rows);\n\n  container = 'total-revenue-pie';\n  options = {\n    title: data.translations.total_revenue,\n    titleTextStyle: {\n      fontSize: 16\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    sliceVisibilityThreshold: 0,\n    forceIFrame: true,\n    chartArea: {\n      left: \"3%\",\n      top: \"13%\",\n      height: \"94%\",\n      width: \"94%\"\n    },\n    legend: {\n      position: 'top', maxLines: '6'\n    }\n  };\n\n  chart = new google.visualization.PieChart(document.getElementById(container));\n  chart.draw(visData, options);\n}\n\n/**\n * #total-expenditures-pie\n */\nfunction expendituresPie() {\n  var subCatValue;\n  var subCategory;\n  var tooltip;\n  var totalfunds;\n  var caption;\n  var chart;\n  var options;\n  var r;\n  var container;\n  var rows;\n  var visData;\n  var rKey;\n  var key;\n  var expenditures = data.financialStatements.Expenditures;\n  var totalAmount = 0;\n\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Total Gov. Expenditures');\n  visData.addColumn('number', 'Total');\n  visData.addColumn({ type: 'string', role: 'tooltip' });\n  rows = [];\n\n  // Prepare Revenues data to Google Tree Chart\n  for (rKey in expenditures) {\n    if (expenditures.hasOwnProperty(rKey) && (expenditures[rKey].caption !== 'Total Revenues')) {\n      subCategory = expenditures[rKey];\n      subCatValue = getSubCatValue(subCategory);\n      if (!subCatValue) {\n        continue;\n      }\n\n      totalAmount += parseInt(subCatValue, 10);\n    }\n  }\n\n  function renderTooltip(tooltipCaption, tooltipTotalfunds) {\n    var percent = tooltipTotalfunds * 100 / totalAmount;\n    percent = percent.toFixed(2);\n    return '' + tooltipCaption + ': ' + numeral(tooltipTotalfunds).format('$0,0') + ' (' + percent + '%)';\n  }\n\n  for (key in expenditures) {\n    if (expenditures.hasOwnProperty(key) && (expenditures[key].caption !== 'Total Expenditures')) {\n      caption = expenditures[key].translatedCaption;\n      totalfunds = parseInt(expenditures[key].totalfunds, 10);\n      tooltip = renderTooltip(caption, totalfunds);\n      r = [caption, totalfunds, tooltip];\n      rows.push(r);\n    }\n  }\n\n  // Sort all records by amount\n  rows.sort(rowSortFunction);\n\n  visData.addRows(rows);\n\n  container = 'total-expenditures-pie';\n  options = {\n    title: data.translations.total_expenditure,\n    titleTextStyle: {\n      fontSize: 16\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    sliceVisibilityThreshold: 0,\n    forceIFrame: true,\n    chartArea: {\n      left: \"3%\",\n      top: \"13%\",\n      height: \"94%\",\n      width: \"94%\"\n    },\n    legend: {\n      position: 'top', maxLines: '6'\n    }\n  };\n\n  chart = new google.visualization.PieChart(document.getElementById(container));\n  chart.draw(visData, options);\n}\n\n\n/**\n * TODO: Refactor\n * #total-revenue-tree\n */\nfunction revenuesTree() {\n  var chart;\n  var RevenuesDataTable;\n  var visData;\n  var totalAmount = 0;\n  var options;\n  var container;\n  var subCatValue;\n  var subCategory;\n  var rKey;\n  var RevenuesData = data.financialStatements.Revenues;\n\n  RevenuesDataTable = [\n    ['Location', 'Parent', 'FinData', 'Heat'],\n    [data.translations.total_revenue, null, 0, 0]\n  ];\n\n  // Prepare Revenues data to Google Tree Chart\n  for (rKey in RevenuesData) {\n    if (RevenuesData.hasOwnProperty(rKey) && (RevenuesData[rKey].caption !== 'Total Revenues')) {\n      subCategory = RevenuesData[rKey];\n      subCatValue = getSubCatValue(subCategory);\n\n      if (!subCatValue) {\n        continue;\n      }\n\n      RevenuesDataTable.push(\n        [\n          subCategory.translatedCaption,\n          data.translations.total_revenue,\n          parseInt(subCatValue, 10),\n          parseInt(subCatValue, 10)\n        ]\n      );\n\n      totalAmount += parseInt(subCatValue, 10);\n    }\n  }\n\n  container = 'total-revenue-tree';\n  options = {\n    highlightOnMouseOver: true,\n    maxDepth: 1,\n    maxPostDepth: 2,\n    minHighlightColor: '#8c6bb1',\n    midHighlightColor: '#9ebcda',\n    maxHighlightColor: '#edf8fb',\n    minColor: '#009688',\n    midColor: '#f7f7f7',\n    maxColor: '#ee8100',\n    headerHeight: 15,\n    showScale: true,\n    width: '100%',\n    height: 500,\n    useWeightedAverageForAggregation: true,\n    generateTooltip: revenuesTooltip\n  };\n\n  function revenuesTooltip(row) {\n    var caption = visData.getValue(row, 0);\n    var val = visData.getValue(row, 2);\n    var percent = val * 100 / totalAmount;\n    percent = percent.toFixed(2);\n    return '<div style=\"background:#7bbaff; color: #fff; padding:10px; border-style:solid\">' + caption + ': ' +\n      numeral(val).format('$0,0') + ' (' + percent + '%)</div>';\n  }\n\n\n  visData = google.visualization.arrayToDataTable(RevenuesDataTable);\n  chart = new google.visualization.TreeMap(document.getElementById(container));\n  chart.draw(visData, options);\n}\n\n/**\n * TODO: Refactor\n * #total-expenditures-tree\n */\nfunction expendituresTree() {\n  var subCatValue;\n  var subCategory;\n  var chart;\n  var ExpendituresDataTable;\n  var visData;\n  var eKey;\n  var totalAmount = 0;\n  var options;\n  var container;\n  var ExpendituresData = data.financialStatements.Expenditures;\n\n  ExpendituresDataTable = [\n    ['Location', 'Parent', 'FinData', 'Heat'],\n    [data.translations.total_expenditure, null, 0, 0]\n  ];\n\n  // Prepare ExpendituresData data to Google Tree Chart\n  for (eKey in ExpendituresData) {\n    if (ExpendituresData.hasOwnProperty(eKey) && (ExpendituresData[eKey].caption !== 'Total Expenditures')) {\n      subCategory = ExpendituresData[eKey];\n      subCatValue = getSubCatValue(subCategory);\n      if (!subCatValue) {\n        continue;\n      }\n\n      ExpendituresDataTable.push(\n        [\n          subCategory.translatedCaption,\n          data.translations.total_expenditure,\n          parseInt(subCatValue, 10),\n          parseInt(subCatValue, 10)\n        ]\n      );\n\n      totalAmount += parseInt(subCatValue, 10);\n    }\n  }\n\n  container = 'total-expenditures-tree';\n  options = {\n    highlightOnMouseOver: true,\n    maxDepth: 1,\n    maxPostDepth: 2,\n    minHighlightColor: '#8c6bb1',\n    midHighlightColor: '#9ebcda',\n    maxHighlightColor: '#edf8fb',\n    minColor: '#009688',\n    midColor: '#f7f7f7',\n    maxColor: '#ee8100',\n    headerHeight: 15,\n    showScale: true,\n    height: 500,\n    useWeightedAverageForAggregation: true,\n    generateTooltip: expendituresTooltip\n  };\n\n  function expendituresTooltip(row) {\n    var caption = visData.getValue(row, 0);\n    var val = visData.getValue(row, 2);\n    var percent = val * 100 / totalAmount;\n    percent = percent.toFixed(2);\n    return '<div style=\"background:#7bbaff; color: #fff; padding:10px; border-style:solid\">' + caption + ': ' +\n      numeral(val).format('$0,0') + ' (' + percent + '%)</div>';\n  }\n\n  visData = google.visualization.arrayToDataTable(ExpendituresDataTable);\n  chart = new google.visualization.TreeMap(document.getElementById(container));\n  chart.draw(visData, options);\n}\n\n//function handlerSwitchColumnOnFinancialTable() {\n//  $('.financial-table select').on('change', function (e) {\n//    var $select = $(e.currentTarget);\n//\tvar financialTable;\n//\tvar selectedColumn;\n//\n//    $financialTable = $select.closest('.financial-table');\n//    $financialTable.find('tbody td:not(:first-child)').css({display: 'none'});\n//\n//    selectedColumn = $select.val();\n//    $financialTable.find('tbody td:nth-child(' + selectedColumn + ')').css({display: 'table-cell'});\n//  })\n//}\n\n/**\n * #Financial_Statements (.chart-controls .btn)\n */\nfunction handlerSwitchChart() {\n  var mobile = '';\n\n  hideChartGroup('pie-charts', false);\n  hideChartGroup('compare-charts', true);\n  hideChartGroup('tree-charts', true);\n  hideTableGroup('financialTable', true);\n  hideTableGroup('compareTables', false);\n\n  $('#' + mobile + 'Financial_Statements').on('click', '.chart-controls .btn',\n    function mobileFinancialStatementClick() {\n      var chartType = this.getElementsByTagName('input')[0].id;\n\n      if (chartType === 'chart') {\n        hideTableGroup('financialTable', true);\n        hideTableGroup('compareTables', false);\n        hideChartGroup('pie-charts', false);\n        hideChartGroup('compare-charts', true);\n        hideChartGroup('tree-charts', true);\n        if (!chartStatus.revenuePie.init ||\n          !chartStatus.expendituresPie.init) {\n          revenuePie();\n          expendituresPie();\n        }\n      } else if (chartType === 'tree-charts') {\n        hideTableGroup('financialTable', true);\n        hideTableGroup('compareTables', false);\n        hideChartGroup('pie-charts', true);\n        hideChartGroup('compare-charts', true);\n        hideChartGroup('tree-charts', false);\n        if (!chartStatus.expendituresTree.init ||\n          !chartStatus.revenuesTree.init) {\n          expendituresTree();\n          revenuesTree();\n        }\n      } else if (chartType === 'compare-charts') {\n        hideTableGroup('financialTable', false);\n        hideTableGroup('compareTables', true);\n        hideChartGroup('pie-charts', true);\n        hideChartGroup('compare-charts', false);\n        hideChartGroup('tree-charts', true);\n        if (!chartStatus.expendituresTree.init ||\n          !chartStatus.revenuesTree.init) {\n          expendituresTree();\n          revenuesTree();\n      }\n    }\n  });\n\n  function hideTableGroup(tableGroup, hide) {\n    var display = hide ? { display: 'none' } : { display: 'table' };\n\n    if (tableGroup === 'financialTable') {\n      $('.compare-first-table').css(display);\n      $('.compare-second-table').css(display);\n    } else if (tableGroup === 'compareTables') {\n      $('.financial-table').css(display);\n    }\n  }\n\n  /**\n   * Hide chart group. Group may contain few charts\n   */\n  function hideChartGroup(chartGroup, hide) {\n    var caption;\n    var category;\n    var $selected;\n    var display = hide ? { display: 'none' } : { display: 'block' };\n\n    if (chartGroup === 'pie-charts') {\n      $('#' + mobile + 'total-expenditures-pie').css(display);\n      $('#' + mobile + 'total-revenue-pie').css(display);\n    } else if (chartGroup === 'compare-charts') {\n      if (hide) {\n        $('#' + mobile + 'total-compare-pie').css(display);\n        $('#' + mobile + 'total-compare-first-pie').css(display);\n        $('#' + mobile + 'total-compare-second-pie').css(display);\n        $('#' + mobile + 'total-compare-column').css(display);\n      } else {\n        $selected = $('.government-categories .selected');\n        category = $selected.hasClass('category');\n        caption = $selected.hasClass('caption');\n        if (category) {\n          $('#' + mobile + 'total-compare-first-pie').css(display);\n          $('#' + mobile + 'total-compare-second-pie').css(display);\n        } else if (caption) {\n          $('#' + mobile + 'total-compare-column').css(display);\n        } else {\n          $('#' + mobile + 'total-compare-first-pie').css(display);\n          $('#' + mobile + 'total-compare-second-pie').css(display);\n        }\n\n        $('#' + mobile + 'total-compare-pie').css(display);\n      }\n    } else if (chartGroup === 'tree-charts') {\n      $('#' + mobile + 'total-expenditures-tree').css(display);\n      $('#' + mobile + 'total-revenue-tree').css(display);\n    }\n  }\n}\n\n/**\n * TODO: Hardcoded!! Please ask the question to client, which field must be there?\n */\nfunction getSubCatValue(subCategory) {\n  var cpySubCategory = $.extend({}, subCategory);\n  if (cpySubCategory.totalfunds) {\n    if (cpySubCategory.totalfunds < 0) {\n      cpySubCategory.totalfunds = -(subCategory.totalfunds);\n    }\n  }\n\n  return cpySubCategory.totalfunds || false;\n}\n\nmodule.exports = {\n  init: init,\n  initAll: init,\n  handlerSwitchChart: handlerSwitchChart\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/graph/financial-statement.js\n ** module id = 32\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/graph/financial-statement.js?");

/***/ },
/* 33 */
/***/ function(module, exports) {

	eval("var chart = {\n  employeeCompensation_one: {\n    init: false\n  },\n  employeeCompensation_two: {\n    init: false\n  },\n  financialHealth_one: {\n    init: false\n  },\n  financialHealth_two: {\n    init: false\n  },\n  financialHealth_three: {\n    init: false\n  },\n  expendituresPie: {\n    init: false\n  },\n  revenuePie: {\n    init: false\n  },\n  expendituresTree: {\n    init: false\n  },\n  revenuesTree: {\n    init: false\n  }\n};\n\nmodule.exports = {\n  chart: chart\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/graph/config.js\n ** module id = 33\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/graph/config.js?");

/***/ },
/* 34 */
/***/ function(module, exports) {

	eval("/**\n * Callback to sort viz data for pie charts.\n *\n * @param {Array} a\n * @param {Array} b\n * @return {number}\n */\nfunction rowSortFunction(a, b) {\n  if (a[1] > b[1]) {\n    return -1;\n  } else if (a[1] < b[1]) {\n    return 1;\n  }\n\n  return 0;\n}\n\nmodule.exports = {\n  rowSortFunction: rowSortFunction\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/graph/utils.js\n ** module id = 34\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/graph/utils.js?");

/***/ },
/* 35 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {var Handlebars = __webpack_require__(36);\n\n/**\n * @param {Object} options\n * @param {String} [options.selector]\n * @param {Number} options.year\n * @constructor\n */\nvar RankPopover = function RankPopover(options) {\n  var opt = options || {};\n\n  this.$popover = null;\n  this.$rankTable = null;\n  this.$preloader = null;\n  this.$rankTable = null;\n\n  this.selector = opt.selector || '.rank';\n  this.loading = false;\n  this.rankFieldName = null;\n  this.order = { altType: '', rank: '' };\n  this.year = opt.year;\n\n  this.init();\n};\n\n\n/**\n * Initialize popover\n */\nRankPopover.prototype.init = function init() {\n  var self = this;\n  var $statistics = $('.statistics');\n  var $governmentController = $('.governmentController');\n  self.noMoreData = false;\n\n    // Popover window (Rank over all altTypes)\n  $statistics.popover({\n    placement: 'bottom',\n    selector: this.selector,\n    animation: true,\n    template: '<div class=\"popover rankPopover\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n        '<div class=\"popover-title-custom\"><h3 class=\"popover-title\"></h3></div>' +\n        '<div class=\"popover-content\"></div></div>'\n  });\n\n  $governmentController.on('click', function click(e) {\n        // Close other popovers\n    if (!$(e.target).closest('.popover')[0]) {\n      $('.rank').not(e.target).popover('destroy');\n    }\n  });\n\n  $statistics.on('click', function click(e) {\n    var $element = $(e.target);\n    var $popover = $element.hasClass('rank') ? $element : $element.closest('.rank');\n\n    e.preventDefault();\n    e.stopPropagation();\n\n        // Close other popovers\n    if (!$(e.target).closest('.popover')[0]) {\n      $('.rank').not(e.target).popover('destroy');\n    }\n\n    if ($popover.length === 0) {\n      return true;\n    }\n\n    self.$popover = $element;\n\n    self.$popoverContent = $popover.next().find('.popover-content');\n\n    self.rankFieldName = $popover.attr('data-field');\n\n    self.$popover.on('hide.bs.popover', function onHidePopover() {\n      self.noMoreData = false;\n    });\n\n    if (self.rankFieldName) {\n      self.loading = true;\n\n      $.ajax({\n        url: window.gw.urls.popover,\n        dataType: 'json',\n        data: {\n          field_name: self.rankFieldName,\n          year: self.year\n        },\n        success: function success(data) {\n          if (data.data.length !== 0) {\n            self.formatData.call(self, data);\n                        // Render rankTable template\n            self.$popoverContent.html(Handlebars.templates.rankTable(data));\n            self.$rankTable = self.$popoverContent.find('table tbody');\n            self.$preloader = self.$popoverContent.find('.loader');\n                        // Initialize scroll and sort handlers\n            self.scrollHandler.call(self);\n            self.sortHandler.call(self);\n            self.loading = false;\n          } else {\n            if (!self.noMoreData) {\n              self.$popoverContent[0].innerHTML = '<h3 style=\"text-align: center\">No data</h3>';\n              self.noMoreData = true;\n              self.loading = false;\n            }\n          }\n        }\n      });\n    }\n    return true;\n  });\n};\n\n/**\n * Add scroll handler on popoverContent\n */\nRankPopover.prototype.scrollHandler = function scrollHandler() {\n  var self = this;\n\n  var $rankTable = self.$rankTable;\n\n  var order = self.order;\n\n  self.previousScrollTop = 0;\n  self.currentPage = 0;\n\n  self.$popoverContent.scroll(function scroll() {\n    var currentScrollTop = self.$popoverContent.scrollTop();\n\n    if (self.previousScrollTop < currentScrollTop &&\n            currentScrollTop > 0.5 * self.$popoverContent[0].scrollHeight &&\n            !self.noMoreData) {\n      self.previousScrollTop = currentScrollTop;\n      if (self.loading === false) {\n        self.loading = true;\n        self.$preloader.show();\n        $.ajax({\n          url: window.gw.urls.popover,\n          dataType: 'json',\n          data: {\n            page: ++self.currentPage,\n            order: order.rank,\n            name_order: order.altType,\n            field_name: self.rankFieldName,\n            year: self.year\n          },\n          success: function success(data) {\n            var h3;\n            if (data.data.length !== 0) {\n              self.formatData(data);\n              self.loading = false;\n              self.$preloader.hide();\n              $rankTable[0].innerHTML += Handlebars.templates.rankTableAdditionalRows(data);\n            } else {\n              if (!self.noMoreData) {\n                self.noMoreData = true;\n                h3 = $('<h3 style=\"text-align: center\">No more data</h3>');\n                self.$popoverContent.append(h3);\n                self.loading = false;\n                self.$preloader.hide();\n              }\n            }\n          }\n        });\n      }\n    }\n  });\n};\n\n/**\n * Add sort handler for rankTable header (th)\n */\nRankPopover.prototype.sortHandler = function sortHandler() {\n  var self = this;\n  var order = self.order;\n\n  self.$popoverContent.on('click', 'th', function click(e) {\n    var $sortIcon;\n    var $column;\n    e.stopPropagation();\n\n    self.$popoverContent.find('h3').remove();\n\n    self.noMoreData = false;\n    self.previousScrollTop = 0;\n    self.currentPage = 0;\n\n    $column = $(this).hasClass('sortable') ? $(this) : $(this).closest('th');\n    $sortIcon = $column.find('i');\n\n        /* eslint-disable */\n        if ($column.hasClass('desc')) {\n            $column.attr('data-sort-type') === 'name_order' ? order.altType = '' : order.rank = '';\n            $column.removeClass('desc').removeClass('asc');\n            $sortIcon.removeClass('icon__bottom').removeClass('icon__top');\n\n        } else if ($column.hasClass('asc')) {\n            $column.attr('data-sort-type') === 'name_order' ? order.altType = 'desc' : order.rank = 'desc';\n            $column.removeClass('asc').addClass('desc');\n            $sortIcon.removeClass('icon__top').addClass('icon__bottom');\n\n        } else {\n            $column.attr('data-sort-type') === 'name_order' ? order.altType = 'asc' : order.rank = 'asc';\n            $column.addClass('asc');\n            $sortIcon.addClass('icon__top');\n        }\n        /* eslint-enable */\n    self.loadNewRows.call(self, order);\n  });\n};\n\n/**\n * Lazy load additional rows\n * @param {Object} [order] Sort\n * @param {String} [order.altType] Available values: '', 'asc', 'desc'\n * @param {String} [order.rank] Available values: '', 'asc', 'desc'\n */\nRankPopover.prototype.loadNewRows = function loadNewRows(order) {\n  var self = this;\n\n  var $rankTable = self.$rankTable || self.$popoverContent.find('table tbody');\n\n  var _order = order || this.order;\n\n  $rankTable.html('');\n\n  self.$preloader.show();\n  self.loading = true;\n\n  $.ajax({\n    url: window.gw.urls.popover,\n    dataType: 'json',\n    data: {\n      page: self.currentPage,\n      order: _order.rank,\n      name_order: _order.altType,\n      field_name: self.rankFieldName,\n      year: self.year\n    },\n    success: function success(data) {\n      if (data.data.length !== 0) {\n        self.formatData.call(self, data);\n        $rankTable.html(Handlebars.templates.rankTableAdditionalRows(data));\n        self.loading = false;\n        self.$preloader.hide();\n      } else {\n        self.$popoverContent[0].innerHTML = '<h3 style=\"text-align: center\">No data</h3>';\n        self.loading = false;\n        self.$preloader.hide();\n      }\n    }\n  });\n};\n\n/**\n * Apply mask with numeric.js library\n *\n * @param data\n * @returns {void|*}\n */\nRankPopover.prototype.formatData = function formatData(data) {\n  var self = this;\n\n  var $popover = self.$popover;\n  var mask = $popover.attr('data-mask');\n\n    /*eslint-disable */\n    if (mask) {\n        return data.data.forEach(function loop(rank) {\n            return rank.amount = numeral(rank.amount).format(mask);\n        });\n    }\n    /*eslint-disable */\n    return true;\n};\n\n/*eslint-disable */\n// rankTable template\n(function () {\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    templates['rankTable'] = template({ '1':function (container, depth0, helpers, partials, data) {\n        var stack1, helper, alias1 = depth0 != null ? depth0 : {}, alias2 = helpers.helperMissing, alias3 = 'function', alias4 = container.escapeExpression;\n\n        return ' <tr> <td>'\n            + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2), (typeof helper === alias3 ? helper.call(alias1, { 'name':'name', 'hash':{}, 'data':data }) : helper)))\n            + '</td> <td> '\n            + ((stack1 = helpers['if'].call(alias1, (depth0 != null ? depth0.value : depth0), { 'name':'if', 'hash':{}, 'fn':container.program(2, data, 0), 'inverse':container.program(4, data, 0), 'data':data })) != null ? stack1 : '')\n            + '</td> <td> '\n            + alias4(((helper = (helper = helpers.amount || (depth0 != null ? depth0.amount : depth0)) != null ? helper : alias2), (typeof helper === alias3 ? helper.call(alias1, { 'name':'amount', 'hash':{}, 'data':data }) : helper)))\n            + '</td> </tr> ';\n    }, '2':function (container, depth0, helpers, partials, data) {\n        var helper;\n\n        return ' '\n            + container.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing), (typeof helper === 'function' ? helper.call(depth0 != null ? depth0 : {}, { 'name':'value', 'hash':{}, 'data':data }) : helper)))\n            + ' ';\n    }, '4':function (container, depth0, helpers, partials, data) {\n        return ' No data ';\n    }, 'compiler':[7, '>= 4.0.0'], 'main':function (container, depth0, helpers, partials, data) {\n        var stack1, helper, options, alias1 = depth0 != null ? depth0 : {}, alias2 = helpers.helperMissing, alias3 = 'function', buffer =\n            '<table class=\"table table-condensed table-hover\"> <thead> <tr> <th data-sort-type=\"name_order\" class=\"sortable\"><nobr>'\n            + container.escapeExpression(((helper = (helper = helpers.alt_type || (depth0 != null ? depth0.alt_type : depth0)) != null ? helper : alias2), (typeof helper === alias3 ? helper.call(alias1, { 'name':'alt_type', 'hash':{}, 'data':data }) : helper)))\n            + '<i class=\"icon\"></i></nobr></th> <th data-sort-type=\"order\" class=\"sortable\"><nobr>Rank<i class=\"icon\"></i></nobr></th> <th>Amount</th> </tr> </thead> <tbody> ';\n        stack1 = ((helper = (helper = helpers.data || (depth0 != null ? depth0.data : depth0)) != null ? helper : alias2), (options = { 'name':'data', 'hash':{}, 'fn':container.program(1, data, 0), 'inverse':container.noop, 'data':data }), (typeof helper === alias3 ? helper.call(alias1, options) : helper));\n        if (!helpers.data) { stack1 = helpers.blockHelperMissing.call(depth0, stack1, options);}\n        if (stack1 != null) { buffer += stack1; }\n        return buffer + '\\n    </tbody>\\n</table>\\n<div class=\"loader\"></div>\\n';\n    }, 'useData':true });\n})();\n\n// rankTableAdditionalRows template\n(function () {\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    templates['rankTableAdditionalRows'] = template({ '1':function (container, depth0, helpers, partials, data) {\n        var stack1, helper, alias1 = depth0 != null ? depth0 : {}, alias2 = helpers.helperMissing, alias3 = 'function', alias4 = container.escapeExpression;\n\n        return ' <tr> <td>'\n            + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2), (typeof helper === alias3 ? helper.call(alias1, { 'name':'name', 'hash':{}, 'data':data }) : helper)))\n            + '</td> <td> '\n            + ((stack1 = helpers['if'].call(alias1, (depth0 != null ? depth0.value : depth0), { 'name':'if', 'hash':{}, 'fn':container.program(2, data, 0), 'inverse':container.program(4, data, 0), 'data':data })) != null ? stack1 : '')\n            + '\\n        </td>\\n        <td>\\n            '\n            + alias4(((helper = (helper = helpers.amount || (depth0 != null ? depth0.amount : depth0)) != null ? helper : alias2), (typeof helper === alias3 ? helper.call(alias1, { 'name':'amount', 'hash':{}, 'data':data }) : helper)))\n            + '\\n        </td>\\n    </tr>\\n';\n    }, '2':function (container, depth0, helpers, partials, data) {\n        var helper;\n\n        return ' '\n            + container.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing), (typeof helper === 'function' ? helper.call(depth0 != null ? depth0 : {}, { 'name':'value', 'hash':{}, 'data':data }) : helper)))\n            + ' ';\n    }, '4':function (container, depth0, helpers, partials, data) {\n        return ' No data ';\n    }, 'compiler':[7, '>= 4.0.0'], 'main':function (container, depth0, helpers, partials, data) {\n        var stack1, helper, options, buffer = '';\n\n        stack1 = ((helper = (helper = helpers.data || (depth0 != null ? depth0.data : depth0)) != null ? helper : helpers.helperMissing), (options = { 'name':'data', 'hash':{}, 'fn':container.program(1, data, 0), 'inverse':container.noop, 'data':data }), (typeof helper === 'function' ? helper.call(depth0 != null ? depth0 : {}, options) : helper));\n        if (!helpers.data) { stack1 = helpers.blockHelperMissing.call(depth0, stack1, options);}\n        if (stack1 != null) { buffer += stack1; }\n        return buffer;\n    }, 'useData':true });\n})();\n/*eslint-enable */\n\nmodule.exports = RankPopover;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/rank-popover.js\n ** module id = 35\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/rank-popover.js?");

/***/ },
/* 36 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*!\n\n handlebars v4.0.5\n\nCopyright (C) 2011-2015 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n@license\n*/\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Handlebars\"] = factory();\n\telse\n\t\troot[\"Handlebars\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(1)['default'];\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\n\texports.__esModule = true;\n\n\tvar _handlebarsBase = __webpack_require__(3);\n\n\tvar base = _interopRequireWildcard(_handlebarsBase);\n\n\t// Each of these augment the Handlebars object. No need to setup here.\n\t// (This is done to easily share code between commonjs and browse envs)\n\n\tvar _handlebarsSafeString = __webpack_require__(17);\n\n\tvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\n\tvar _handlebarsException = __webpack_require__(5);\n\n\tvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\n\tvar _handlebarsUtils = __webpack_require__(4);\n\n\tvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\n\tvar _handlebarsRuntime = __webpack_require__(18);\n\n\tvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\n\tvar _handlebarsNoConflict = __webpack_require__(19);\n\n\tvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n\t// For compatibility and usage outside of module systems, make the Handlebars object a namespace\n\tfunction create() {\n\t  var hb = new base.HandlebarsEnvironment();\n\n\t  Utils.extend(hb, base);\n\t  hb.SafeString = _handlebarsSafeString2['default'];\n\t  hb.Exception = _handlebarsException2['default'];\n\t  hb.Utils = Utils;\n\t  hb.escapeExpression = Utils.escapeExpression;\n\n\t  hb.VM = runtime;\n\t  hb.template = function (spec) {\n\t    return runtime.template(spec, hb);\n\t  };\n\n\t  return hb;\n\t}\n\n\tvar inst = create();\n\tinst.create = create;\n\n\t_handlebarsNoConflict2['default'](inst);\n\n\tinst['default'] = inst;\n\n\texports['default'] = inst;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\texports[\"default\"] = function (obj) {\n\t  if (obj && obj.__esModule) {\n\t    return obj;\n\t  } else {\n\t    var newObj = {};\n\n\t    if (obj != null) {\n\t      for (var key in obj) {\n\t        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n\t      }\n\t    }\n\n\t    newObj[\"default\"] = obj;\n\t    return newObj;\n\t  }\n\t};\n\n\texports.__esModule = true;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\texports[\"default\"] = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    \"default\": obj\n\t  };\n\t};\n\n\texports.__esModule = true;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\n\texports.__esModule = true;\n\texports.HandlebarsEnvironment = HandlebarsEnvironment;\n\n\tvar _utils = __webpack_require__(4);\n\n\tvar _exception = __webpack_require__(5);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _helpers = __webpack_require__(6);\n\n\tvar _decorators = __webpack_require__(14);\n\n\tvar _logger = __webpack_require__(16);\n\n\tvar _logger2 = _interopRequireDefault(_logger);\n\n\tvar VERSION = '4.0.5';\n\texports.VERSION = VERSION;\n\tvar COMPILER_REVISION = 7;\n\n\texports.COMPILER_REVISION = COMPILER_REVISION;\n\tvar REVISION_CHANGES = {\n\t  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n\t  2: '== 1.0.0-rc.3',\n\t  3: '== 1.0.0-rc.4',\n\t  4: '== 1.x.x',\n\t  5: '== 2.0.0-alpha.x',\n\t  6: '>= 2.0.0-beta.1',\n\t  7: '>= 4.0.0'\n\t};\n\n\texports.REVISION_CHANGES = REVISION_CHANGES;\n\tvar objectType = '[object Object]';\n\n\tfunction HandlebarsEnvironment(helpers, partials, decorators) {\n\t  this.helpers = helpers || {};\n\t  this.partials = partials || {};\n\t  this.decorators = decorators || {};\n\n\t  _helpers.registerDefaultHelpers(this);\n\t  _decorators.registerDefaultDecorators(this);\n\t}\n\n\tHandlebarsEnvironment.prototype = {\n\t  constructor: HandlebarsEnvironment,\n\n\t  logger: _logger2['default'],\n\t  log: _logger2['default'].log,\n\n\t  registerHelper: function registerHelper(name, fn) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      if (fn) {\n\t        throw new _exception2['default']('Arg not supported with multiple helpers');\n\t      }\n\t      _utils.extend(this.helpers, name);\n\t    } else {\n\t      this.helpers[name] = fn;\n\t    }\n\t  },\n\t  unregisterHelper: function unregisterHelper(name) {\n\t    delete this.helpers[name];\n\t  },\n\n\t  registerPartial: function registerPartial(name, partial) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      _utils.extend(this.partials, name);\n\t    } else {\n\t      if (typeof partial === 'undefined') {\n\t        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n\t      }\n\t      this.partials[name] = partial;\n\t    }\n\t  },\n\t  unregisterPartial: function unregisterPartial(name) {\n\t    delete this.partials[name];\n\t  },\n\n\t  registerDecorator: function registerDecorator(name, fn) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      if (fn) {\n\t        throw new _exception2['default']('Arg not supported with multiple decorators');\n\t      }\n\t      _utils.extend(this.decorators, name);\n\t    } else {\n\t      this.decorators[name] = fn;\n\t    }\n\t  },\n\t  unregisterDecorator: function unregisterDecorator(name) {\n\t    delete this.decorators[name];\n\t  }\n\t};\n\n\tvar log = _logger2['default'].log;\n\n\texports.log = log;\n\texports.createFrame = _utils.createFrame;\n\texports.logger = _logger2['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\texports.extend = extend;\n\texports.indexOf = indexOf;\n\texports.escapeExpression = escapeExpression;\n\texports.isEmpty = isEmpty;\n\texports.createFrame = createFrame;\n\texports.blockParams = blockParams;\n\texports.appendContextPath = appendContextPath;\n\tvar escape = {\n\t  '&': '&amp;',\n\t  '<': '&lt;',\n\t  '>': '&gt;',\n\t  '\"': '&quot;',\n\t  \"'\": '&#x27;',\n\t  '`': '&#x60;',\n\t  '=': '&#x3D;'\n\t};\n\n\tvar badChars = /[&<>\"'`=]/g,\n\t    possible = /[&<>\"'`=]/;\n\n\tfunction escapeChar(chr) {\n\t  return escape[chr];\n\t}\n\n\tfunction extend(obj /* , ...source */) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    for (var key in arguments[i]) {\n\t      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n\t        obj[key] = arguments[i][key];\n\t      }\n\t    }\n\t  }\n\n\t  return obj;\n\t}\n\n\tvar toString = Object.prototype.toString;\n\n\texports.toString = toString;\n\t// Sourced from lodash\n\t// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n\t/* eslint-disable func-style */\n\tvar isFunction = function isFunction(value) {\n\t  return typeof value === 'function';\n\t};\n\t// fallback for older versions of Chrome and Safari\n\t/* istanbul ignore next */\n\tif (isFunction(/x/)) {\n\t  exports.isFunction = isFunction = function (value) {\n\t    return typeof value === 'function' && toString.call(value) === '[object Function]';\n\t  };\n\t}\n\texports.isFunction = isFunction;\n\n\t/* eslint-enable func-style */\n\n\t/* istanbul ignore next */\n\tvar isArray = Array.isArray || function (value) {\n\t  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n\t};\n\n\texports.isArray = isArray;\n\t// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\n\tfunction indexOf(array, value) {\n\t  for (var i = 0, len = array.length; i < len; i++) {\n\t    if (array[i] === value) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\tfunction escapeExpression(string) {\n\t  if (typeof string !== 'string') {\n\t    // don't escape SafeStrings, since they're already safe\n\t    if (string && string.toHTML) {\n\t      return string.toHTML();\n\t    } else if (string == null) {\n\t      return '';\n\t    } else if (!string) {\n\t      return string + '';\n\t    }\n\n\t    // Force a string conversion as this will be done by the append regardless and\n\t    // the regex test will do this transparently behind the scenes, causing issues if\n\t    // an object's to string has escaped characters in it.\n\t    string = '' + string;\n\t  }\n\n\t  if (!possible.test(string)) {\n\t    return string;\n\t  }\n\t  return string.replace(badChars, escapeChar);\n\t}\n\n\tfunction isEmpty(value) {\n\t  if (!value && value !== 0) {\n\t    return true;\n\t  } else if (isArray(value) && value.length === 0) {\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t}\n\n\tfunction createFrame(object) {\n\t  var frame = extend({}, object);\n\t  frame._parent = object;\n\t  return frame;\n\t}\n\n\tfunction blockParams(params, ids) {\n\t  params.path = ids;\n\t  return params;\n\t}\n\n\tfunction appendContextPath(contextPath, id) {\n\t  return (contextPath ? contextPath + '.' : '') + id;\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\n\tfunction Exception(message, node) {\n\t  var loc = node && node.loc,\n\t      line = undefined,\n\t      column = undefined;\n\t  if (loc) {\n\t    line = loc.start.line;\n\t    column = loc.start.column;\n\n\t    message += ' - ' + line + ':' + column;\n\t  }\n\n\t  var tmp = Error.prototype.constructor.call(this, message);\n\n\t  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n\t  for (var idx = 0; idx < errorProps.length; idx++) {\n\t    this[errorProps[idx]] = tmp[errorProps[idx]];\n\t  }\n\n\t  /* istanbul ignore else */\n\t  if (Error.captureStackTrace) {\n\t    Error.captureStackTrace(this, Exception);\n\t  }\n\n\t  if (loc) {\n\t    this.lineNumber = line;\n\t    this.column = column;\n\t  }\n\t}\n\n\tException.prototype = new Error();\n\n\texports['default'] = Exception;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\n\texports.__esModule = true;\n\texports.registerDefaultHelpers = registerDefaultHelpers;\n\n\tvar _helpersBlockHelperMissing = __webpack_require__(7);\n\n\tvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\n\tvar _helpersEach = __webpack_require__(8);\n\n\tvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\n\tvar _helpersHelperMissing = __webpack_require__(9);\n\n\tvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\n\tvar _helpersIf = __webpack_require__(10);\n\n\tvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\n\tvar _helpersLog = __webpack_require__(11);\n\n\tvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\n\tvar _helpersLookup = __webpack_require__(12);\n\n\tvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\n\tvar _helpersWith = __webpack_require__(13);\n\n\tvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\n\tfunction registerDefaultHelpers(instance) {\n\t  _helpersBlockHelperMissing2['default'](instance);\n\t  _helpersEach2['default'](instance);\n\t  _helpersHelperMissing2['default'](instance);\n\t  _helpersIf2['default'](instance);\n\t  _helpersLog2['default'](instance);\n\t  _helpersLookup2['default'](instance);\n\t  _helpersWith2['default'](instance);\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(4);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('blockHelperMissing', function (context, options) {\n\t    var inverse = options.inverse,\n\t        fn = options.fn;\n\n\t    if (context === true) {\n\t      return fn(this);\n\t    } else if (context === false || context == null) {\n\t      return inverse(this);\n\t    } else if (_utils.isArray(context)) {\n\t      if (context.length > 0) {\n\t        if (options.ids) {\n\t          options.ids = [options.name];\n\t        }\n\n\t        return instance.helpers.each(context, options);\n\t      } else {\n\t        return inverse(this);\n\t      }\n\t    } else {\n\t      if (options.data && options.ids) {\n\t        var data = _utils.createFrame(options.data);\n\t        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n\t        options = { data: data };\n\t      }\n\n\t      return fn(context, options);\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(4);\n\n\tvar _exception = __webpack_require__(5);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('each', function (context, options) {\n\t    if (!options) {\n\t      throw new _exception2['default']('Must pass iterator to #each');\n\t    }\n\n\t    var fn = options.fn,\n\t        inverse = options.inverse,\n\t        i = 0,\n\t        ret = '',\n\t        data = undefined,\n\t        contextPath = undefined;\n\n\t    if (options.data && options.ids) {\n\t      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n\t    }\n\n\t    if (_utils.isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    if (options.data) {\n\t      data = _utils.createFrame(options.data);\n\t    }\n\n\t    function execIteration(field, index, last) {\n\t      if (data) {\n\t        data.key = field;\n\t        data.index = index;\n\t        data.first = index === 0;\n\t        data.last = !!last;\n\n\t        if (contextPath) {\n\t          data.contextPath = contextPath + field;\n\t        }\n\t      }\n\n\t      ret = ret + fn(context[field], {\n\t        data: data,\n\t        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n\t      });\n\t    }\n\n\t    if (context && typeof context === 'object') {\n\t      if (_utils.isArray(context)) {\n\t        for (var j = context.length; i < j; i++) {\n\t          if (i in context) {\n\t            execIteration(i, i, i === context.length - 1);\n\t          }\n\t        }\n\t      } else {\n\t        var priorKey = undefined;\n\n\t        for (var key in context) {\n\t          if (context.hasOwnProperty(key)) {\n\t            // We're running the iterations one step out of sync so we can detect\n\t            // the last iteration without have to scan the object twice and create\n\t            // an itermediate keys array.\n\t            if (priorKey !== undefined) {\n\t              execIteration(priorKey, i - 1);\n\t            }\n\t            priorKey = key;\n\t            i++;\n\t          }\n\t        }\n\t        if (priorKey !== undefined) {\n\t          execIteration(priorKey, i - 1, true);\n\t        }\n\t      }\n\t    }\n\n\t    if (i === 0) {\n\t      ret = inverse(this);\n\t    }\n\n\t    return ret;\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\n\texports.__esModule = true;\n\n\tvar _exception = __webpack_require__(5);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n\t    if (arguments.length === 1) {\n\t      // A missing field in a {{foo}} construct.\n\t      return undefined;\n\t    } else {\n\t      // Someone is actually trying to call something, blow up.\n\t      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(4);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('if', function (conditional, options) {\n\t    if (_utils.isFunction(conditional)) {\n\t      conditional = conditional.call(this);\n\t    }\n\n\t    // Default behavior is to render the positive path if the value is truthy and not empty.\n\t    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n\t    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n\t    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n\t      return options.inverse(this);\n\t    } else {\n\t      return options.fn(this);\n\t    }\n\t  });\n\n\t  instance.registerHelper('unless', function (conditional, options) {\n\t    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('log', function () /* message, options */{\n\t    var args = [undefined],\n\t        options = arguments[arguments.length - 1];\n\t    for (var i = 0; i < arguments.length - 1; i++) {\n\t      args.push(arguments[i]);\n\t    }\n\n\t    var level = 1;\n\t    if (options.hash.level != null) {\n\t      level = options.hash.level;\n\t    } else if (options.data && options.data.level != null) {\n\t      level = options.data.level;\n\t    }\n\t    args[0] = level;\n\n\t    instance.log.apply(instance, args);\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('lookup', function (obj, field) {\n\t    return obj && obj[field];\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(4);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('with', function (context, options) {\n\t    if (_utils.isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    var fn = options.fn;\n\n\t    if (!_utils.isEmpty(context)) {\n\t      var data = options.data;\n\t      if (options.data && options.ids) {\n\t        data = _utils.createFrame(options.data);\n\t        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n\t      }\n\n\t      return fn(context, {\n\t        data: data,\n\t        blockParams: _utils.blockParams([context], [data && data.contextPath])\n\t      });\n\t    } else {\n\t      return options.inverse(this);\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\n\texports.__esModule = true;\n\texports.registerDefaultDecorators = registerDefaultDecorators;\n\n\tvar _decoratorsInline = __webpack_require__(15);\n\n\tvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\n\tfunction registerDefaultDecorators(instance) {\n\t  _decoratorsInline2['default'](instance);\n\t}\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(4);\n\n\texports['default'] = function (instance) {\n\t  instance.registerDecorator('inline', function (fn, props, container, options) {\n\t    var ret = fn;\n\t    if (!props.partials) {\n\t      props.partials = {};\n\t      ret = function (context, options) {\n\t        // Create a new partials stack frame prior to exec.\n\t        var original = container.partials;\n\t        container.partials = _utils.extend({}, original, props.partials);\n\t        var ret = fn(context, options);\n\t        container.partials = original;\n\t        return ret;\n\t      };\n\t    }\n\n\t    props.partials[options.args[0]] = options.fn;\n\n\t    return ret;\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(4);\n\n\tvar logger = {\n\t  methodMap: ['debug', 'info', 'warn', 'error'],\n\t  level: 'info',\n\n\t  // Maps a given level value to the `methodMap` indexes above.\n\t  lookupLevel: function lookupLevel(level) {\n\t    if (typeof level === 'string') {\n\t      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n\t      if (levelMap >= 0) {\n\t        level = levelMap;\n\t      } else {\n\t        level = parseInt(level, 10);\n\t      }\n\t    }\n\n\t    return level;\n\t  },\n\n\t  // Can be overridden in the host environment\n\t  log: function log(level) {\n\t    level = logger.lookupLevel(level);\n\n\t    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n\t      var method = logger.methodMap[level];\n\t      if (!console[method]) {\n\t        // eslint-disable-line no-console\n\t        method = 'log';\n\t      }\n\n\t      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        message[_key - 1] = arguments[_key];\n\t      }\n\n\t      console[method].apply(console, message); // eslint-disable-line no-console\n\t    }\n\t  }\n\t};\n\n\texports['default'] = logger;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t// Build out our basic SafeString type\n\t'use strict';\n\n\texports.__esModule = true;\n\tfunction SafeString(string) {\n\t  this.string = string;\n\t}\n\n\tSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n\t  return '' + this.string;\n\t};\n\n\texports['default'] = SafeString;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(1)['default'];\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\n\texports.__esModule = true;\n\texports.checkRevision = checkRevision;\n\texports.template = template;\n\texports.wrapProgram = wrapProgram;\n\texports.resolvePartial = resolvePartial;\n\texports.invokePartial = invokePartial;\n\texports.noop = noop;\n\n\tvar _utils = __webpack_require__(4);\n\n\tvar Utils = _interopRequireWildcard(_utils);\n\n\tvar _exception = __webpack_require__(5);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _base = __webpack_require__(3);\n\n\tfunction checkRevision(compilerInfo) {\n\t  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n\t      currentRevision = _base.COMPILER_REVISION;\n\n\t  if (compilerRevision !== currentRevision) {\n\t    if (compilerRevision < currentRevision) {\n\t      var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n\t          compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n\t      throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n\t    } else {\n\t      // Use the embedded version info since the runtime doesn't know about this revision yet\n\t      throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n\t    }\n\t  }\n\t}\n\n\tfunction template(templateSpec, env) {\n\t  /* istanbul ignore next */\n\t  if (!env) {\n\t    throw new _exception2['default']('No environment passed to template');\n\t  }\n\t  if (!templateSpec || !templateSpec.main) {\n\t    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n\t  }\n\n\t  templateSpec.main.decorator = templateSpec.main_d;\n\n\t  // Note: Using env.VM references rather than local var references throughout this section to allow\n\t  // for external users to override these as psuedo-supported APIs.\n\t  env.VM.checkRevision(templateSpec.compiler);\n\n\t  function invokePartialWrapper(partial, context, options) {\n\t    if (options.hash) {\n\t      context = Utils.extend({}, context, options.hash);\n\t      if (options.ids) {\n\t        options.ids[0] = true;\n\t      }\n\t    }\n\n\t    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\t    var result = env.VM.invokePartial.call(this, partial, context, options);\n\n\t    if (result == null && env.compile) {\n\t      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n\t      result = options.partials[options.name](context, options);\n\t    }\n\t    if (result != null) {\n\t      if (options.indent) {\n\t        var lines = result.split('\\n');\n\t        for (var i = 0, l = lines.length; i < l; i++) {\n\t          if (!lines[i] && i + 1 === l) {\n\t            break;\n\t          }\n\n\t          lines[i] = options.indent + lines[i];\n\t        }\n\t        result = lines.join('\\n');\n\t      }\n\t      return result;\n\t    } else {\n\t      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n\t    }\n\t  }\n\n\t  // Just add water\n\t  var container = {\n\t    strict: function strict(obj, name) {\n\t      if (!(name in obj)) {\n\t        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj);\n\t      }\n\t      return obj[name];\n\t    },\n\t    lookup: function lookup(depths, name) {\n\t      var len = depths.length;\n\t      for (var i = 0; i < len; i++) {\n\t        if (depths[i] && depths[i][name] != null) {\n\t          return depths[i][name];\n\t        }\n\t      }\n\t    },\n\t    lambda: function lambda(current, context) {\n\t      return typeof current === 'function' ? current.call(context) : current;\n\t    },\n\n\t    escapeExpression: Utils.escapeExpression,\n\t    invokePartial: invokePartialWrapper,\n\n\t    fn: function fn(i) {\n\t      var ret = templateSpec[i];\n\t      ret.decorator = templateSpec[i + '_d'];\n\t      return ret;\n\t    },\n\n\t    programs: [],\n\t    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n\t      var programWrapper = this.programs[i],\n\t          fn = this.fn(i);\n\t      if (data || depths || blockParams || declaredBlockParams) {\n\t        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n\t      } else if (!programWrapper) {\n\t        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n\t      }\n\t      return programWrapper;\n\t    },\n\n\t    data: function data(value, depth) {\n\t      while (value && depth--) {\n\t        value = value._parent;\n\t      }\n\t      return value;\n\t    },\n\t    merge: function merge(param, common) {\n\t      var obj = param || common;\n\n\t      if (param && common && param !== common) {\n\t        obj = Utils.extend({}, common, param);\n\t      }\n\n\t      return obj;\n\t    },\n\n\t    noop: env.VM.noop,\n\t    compilerInfo: templateSpec.compiler\n\t  };\n\n\t  function ret(context) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t    var data = options.data;\n\n\t    ret._setup(options);\n\t    if (!options.partial && templateSpec.useData) {\n\t      data = initData(context, data);\n\t    }\n\t    var depths = undefined,\n\t        blockParams = templateSpec.useBlockParams ? [] : undefined;\n\t    if (templateSpec.useDepths) {\n\t      if (options.depths) {\n\t        depths = context !== options.depths[0] ? [context].concat(options.depths) : options.depths;\n\t      } else {\n\t        depths = [context];\n\t      }\n\t    }\n\n\t    function main(context /*, options*/) {\n\t      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n\t    }\n\t    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n\t    return main(context, options);\n\t  }\n\t  ret.isTop = true;\n\n\t  ret._setup = function (options) {\n\t    if (!options.partial) {\n\t      container.helpers = container.merge(options.helpers, env.helpers);\n\n\t      if (templateSpec.usePartial) {\n\t        container.partials = container.merge(options.partials, env.partials);\n\t      }\n\t      if (templateSpec.usePartial || templateSpec.useDecorators) {\n\t        container.decorators = container.merge(options.decorators, env.decorators);\n\t      }\n\t    } else {\n\t      container.helpers = options.helpers;\n\t      container.partials = options.partials;\n\t      container.decorators = options.decorators;\n\t    }\n\t  };\n\n\t  ret._child = function (i, data, blockParams, depths) {\n\t    if (templateSpec.useBlockParams && !blockParams) {\n\t      throw new _exception2['default']('must pass block params');\n\t    }\n\t    if (templateSpec.useDepths && !depths) {\n\t      throw new _exception2['default']('must pass parent depths');\n\t    }\n\n\t    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n\t  };\n\t  return ret;\n\t}\n\n\tfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n\t  function prog(context) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t    var currentDepths = depths;\n\t    if (depths && context !== depths[0]) {\n\t      currentDepths = [context].concat(depths);\n\t    }\n\n\t    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n\t  }\n\n\t  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n\t  prog.program = i;\n\t  prog.depth = depths ? depths.length : 0;\n\t  prog.blockParams = declaredBlockParams || 0;\n\t  return prog;\n\t}\n\n\tfunction resolvePartial(partial, context, options) {\n\t  if (!partial) {\n\t    if (options.name === '@partial-block') {\n\t      partial = options.data['partial-block'];\n\t    } else {\n\t      partial = options.partials[options.name];\n\t    }\n\t  } else if (!partial.call && !options.name) {\n\t    // This is a dynamic partial that returned a string\n\t    options.name = partial;\n\t    partial = options.partials[partial];\n\t  }\n\t  return partial;\n\t}\n\n\tfunction invokePartial(partial, context, options) {\n\t  options.partial = true;\n\t  if (options.ids) {\n\t    options.data.contextPath = options.ids[0] || options.data.contextPath;\n\t  }\n\n\t  var partialBlock = undefined;\n\t  if (options.fn && options.fn !== noop) {\n\t    options.data = _base.createFrame(options.data);\n\t    partialBlock = options.data['partial-block'] = options.fn;\n\n\t    if (partialBlock.partials) {\n\t      options.partials = Utils.extend({}, options.partials, partialBlock.partials);\n\t    }\n\t  }\n\n\t  if (partial === undefined && partialBlock) {\n\t    partial = partialBlock;\n\t  }\n\n\t  if (partial === undefined) {\n\t    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n\t  } else if (partial instanceof Function) {\n\t    return partial(context, options);\n\t  }\n\t}\n\n\tfunction noop() {\n\t  return '';\n\t}\n\n\tfunction initData(context, data) {\n\t  if (!data || !('root' in data)) {\n\t    data = data ? _base.createFrame(data) : {};\n\t    data.root = context;\n\t  }\n\t  return data;\n\t}\n\n\tfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n\t  if (fn.decorator) {\n\t    var props = {};\n\t    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n\t    Utils.extend(prog, props);\n\t  }\n\t  return prog;\n\t}\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/* global window */\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (Handlebars) {\n\t  /* istanbul ignore next */\n\t  var root = typeof global !== 'undefined' ? global : window,\n\t      $Handlebars = root.Handlebars;\n\t  /* istanbul ignore next */\n\t  Handlebars.noConflict = function () {\n\t    if (root.Handlebars === Handlebars) {\n\t      root.Handlebars = $Handlebars;\n\t    }\n\t    return Handlebars;\n\t  };\n\t};\n\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }\n/******/ ])\n});\n;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/vendor/handlebars.runtime.js\n ** module id = 36\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/vendor/handlebars.runtime.js?");

/***/ },
/* 37 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {var Search = __webpack_require__(38);\n\n/**\n * Constructor\n *\n * @param FormState\n * @param container\n * @constructor\n */\nfunction Step(FormState, container) {\n  this.container = container;\n  this.$container = $(container);\n  this.CurrentFormState = container === '.first-condition' ? FormState.firstStep : FormState.secondStep;\n  this.$select = $(container + ' select');\n  this.$loader = $('<div class=\"loader\"></div>');\n  this.init();\n}\n\n/**\n * Init step\n */\nStep.prototype.init = function init() {\n  var self = this;\n  self.handlerOnMouseDownSelect();\n  self.handlerOnChangeSelect();\n  // Typeahead initialization\n  self.search = new Search(self.container, self.searchResponseCallback);\n  // Pressed mouse or enter button\n  self.search.$typeahead.bind('typeahead:selected', function selected(e, selectedGovernment) {\n    self.CurrentFormState.data = selectedGovernment;\n    self.createYearOptions(selectedGovernment);\n  });\n  // Start typing, triggered after select item\n  self.search.$typeahead.bind('typeahead:asyncrequest', function asyncrequest() {\n    self.loading(true);\n  });\n  self.search.$typeahead.bind('typeahead:asyncreceive', function asyncreceive() {\n    self.loading(false);\n  });\n  self.search.$typeahead.bind('typeahead:asynccancel', function asynccancel() {\n    self.loading(false);\n    self.lockSelect();\n  });\n  self.search.$typeahead.bind('typeahead:open', function open() {\n    self.lockSelect();\n    self.CurrentFormState.incomplete();\n  });\n};\n/**\n * (DOM)\n *\n * Unlock step\n */\nStep.prototype.unlock = function unlock() {\n  this.search.$typeahead.toggleClass('disabled', false);\n};\n/**\n * (DOM)\n *\n * Lock step\n */\nStep.prototype.lock = function lock() {\n  this.search.$typeahead.toggleClass('disabled', true);\n  this.$select.toggleClass('disabled', true);\n};\n/**\n * (DOM)\n *\n * Lock step\n */\nStep.prototype.lockSelect = function lockSelect() {\n  this.$select.toggleClass('disabled', true);\n};\n/**\n * (DOM)\n *\n * Loading state\n * @param isLoading\n */\nStep.prototype.loading = function loading(isLoading) {\n  var display = isLoading ? 'none' : 'block';\n  this.$select.css({ display: display });\n  if (isLoading) {\n    this.$container.append(this.$loader);\n  } else {\n    this.$loader.remove();\n  }\n};\n/**\n * (DOM)\n *\n * @param data\n * @returns {boolean}\n */\nStep.prototype.createYearOptions = function createYearOptions(government) {\n  var self = this;\n  var sortedYears;\n  if (!government) {\n    console.error('First argument not passed in createYearOptions() ');\n    return true;\n  }\n  sortedYears = government.years.sort(function loop(a, b) {\n    return a < b;\n  });\n  self.CurrentFormState.data.year = government.years[0];\n  disableSelect(false);\n  self.$select.html('');\n  sortedYears.forEach(function loop(year, index) {\n    var selected = index === 0 ? 'selected' : '';\n    self.$select.append('<option value=\"' + government.id + '\" ' + selected + '>' + year + '</option>');\n  });\n  correctForm(true);\n  /**\n   * Disable select\n   * @param {Boolean} disabled\n   */\n  function disableSelect(disabled) {\n    self.$select.toggleClass('disabled', !!disabled);\n  }\n\n  /**\n   *\n   * @param isCorrect\n   */\n  function correctForm(isCorrect) {\n    if (isCorrect) {\n      self.CurrentFormState.complete();\n    } else {\n      self.CurrentFormState.incomplete();\n    }\n  }\n  return true;\n};\n/**\n * (Handler)\n *\n * On change select\n */\nStep.prototype.handlerOnChangeSelect = function handlerOnChangeSelect() {\n  var self = this;\n  self.$select.on('change', function change(e) {\n    var $el = $(e.target);\n    var $selected = $el.find('option:selected');\n    var year = $selected.text();\n    if (year) {\n      self.CurrentFormState.data.year = parseInt(year, 10);\n      self.CurrentFormState.complete();\n    } else {\n      alert('Please choose correct year');\n      self.CurrentFormState.incomplete();\n    }\n    return true;\n  });\n};\n/**\n * Show error message if government not selected\n */\nStep.prototype.handlerOnMouseDownSelect = function handlerOnMouseDownSelect() {\n  var self = this;\n  self.$select.on('mousedown', function mousedown(e) {\n    var $el = $(e.target);\n    if ($el.hasClass('disabled')) {\n      alert('Please, first select government');\n      return false;\n    }\n    return true;\n  });\n};\nmodule.exports = Step;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/form/compare/step-1.js\n ** module id = 37\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/form/compare/step-1.js?");

/***/ },
/* 38 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {var Handlebars = __webpack_require__(15);\n__webpack_require__(39);\n\n/**\n * Typeahead search\n *\n * @param {Selector} container - May be .first-condition or .second-condition\n */\nfunction typeahead(container) {\n  var self = this;\n  if (!container) {\n    alert('Please pass container selector');\n    return true;\n  }\n\n  self.governmentData = {};\n  self.$typeahead = $(container + ' .typeahead_government');\n  self.searchValue = '';\n\n    // Init typeahead\n  self.$typeahead.typeahead({\n    hint: true,\n    highlight: true,\n    minLength: 3\n  }, {\n    name: 'countries',\n    source: findMatches,\n    templates: {\n      empty: '<div class=\"tt-suggestion\">Not found. Please retype your query </div>',\n      suggestion: Handlebars.compile('<div class=\"sugg-box\">' +\n                '<div class=\"sugg-name\">{{name}}</div>' +\n                '</div>')\n    },\n    updater: function updater(item) {\n      alert(item);\n    }\n  });\n\n    // Pressed mouse or enter button\n  self.$typeahead.bind('typeahead:selected', function selected(obj, selectedGovernment) {\n    self.$typeahead.typeahead('val', selectedGovernment.name);\n  });\n\n    // Move cursor via arrows keys\n  self.$typeahead.bind('typeahead:cursorchange', function cursorchange() {\n    self.$typeahead.typeahead('val', self.searchValue);\n  });\n\n    // Store search value on typing\n  self.$typeahead.keyup(function keyup(event) {\n    self.searchValue = $(event.target).val();\n  });\n\n    /**\n     * (Ajax)\n     *\n     * Matcher for typeahead\n     * @param query\n     * @param syncCallback\n     * @param asyncCallback\n     **/\n  function findMatches(query, syncCallback, asyncCallback) {\n    $.ajax({\n      method: 'GET',\n      url: window.gw.urls.search + '?search=' + query\n    }).success(function success(data) {\n      asyncCallback(data);\n    });\n  }\n\n  return self;\n}\n\nmodule.exports = typeahead;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/search/government.js\n ** module id = 38\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/search/government.js?");

/***/ },
/* 39 */
/***/ function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate) {/*!\n * typeahead.js 0.11.1\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT\n */\n\n(function(root, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(1) ], __WEBPACK_AMD_DEFINE_RESULT__ = function(a0) {\n            return root[\"Bloodhound\"] = factory(a0);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports === \"object\") {\n        module.exports = factory(require(\"jquery\"));\n    } else {\n        root[\"Bloodhound\"] = factory(jQuery);\n    }\n})(this, function($) {\n    var _ = function() {\n        \"use strict\";\n        return {\n            isMsie: function() {\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n            },\n            isBlankString: function(str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function(str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n            },\n            isString: function(obj) {\n                return typeof obj === \"string\";\n            },\n            isNumber: function(obj) {\n                return typeof obj === \"number\";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function(obj) {\n                return typeof obj === \"undefined\";\n            },\n            isElement: function(obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n            isJQuery: function(obj) {\n                return obj instanceof $;\n            },\n            toStr: function toStr(s) {\n                return _.isUndefined(s) || s === null ? \"\" : s + \"\";\n            },\n            bind: $.proxy,\n            each: function(collection, cb) {\n                $.each(collection, reverseArgs);\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function(obj, test) {\n                var result = true;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function(obj, test) {\n                var result = false;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            identity: function(x) {\n                return x;\n            },\n            clone: function(obj) {\n                return $.extend(true, {}, obj);\n            },\n            getIdGenerator: function() {\n                var counter = 0;\n                return function() {\n                    return counter++;\n                };\n            },\n            templatify: function templatify(obj) {\n                return $.isFunction(obj) ? obj : template;\n                function template() {\n                    return String(obj);\n                }\n            },\n            defer: function(fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function(func, wait, immediate) {\n                var timeout, result;\n                return function() {\n                    var context = this, args = arguments, later, callNow;\n                    later = function() {\n                        timeout = null;\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n                    return result;\n                };\n            },\n            throttle: function(func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n                later = function() {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n                return function() {\n                    var now = new Date(), remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n                    return result;\n                };\n            },\n            stringify: function(val) {\n                return _.isString(val) ? val : JSON.stringify(val);\n            },\n            noop: function() {}\n        };\n    }();\n    var VERSION = \"0.11.1\";\n    var tokenizers = function() {\n        \"use strict\";\n        return {\n            nonword: nonword,\n            whitespace: whitespace,\n            obj: {\n                nonword: getObjTokenizer(nonword),\n                whitespace: getObjTokenizer(whitespace)\n            }\n        };\n        function whitespace(str) {\n            str = _.toStr(str);\n            return str ? str.split(/\\s+/) : [];\n        }\n        function nonword(str) {\n            str = _.toStr(str);\n            return str ? str.split(/\\W+/) : [];\n        }\n        function getObjTokenizer(tokenizer) {\n            return function setKey(keys) {\n                keys = _.isArray(keys) ? keys : [].slice.call(arguments, 0);\n                return function tokenize(o) {\n                    var tokens = [];\n                    _.each(keys, function(k) {\n                        tokens = tokens.concat(tokenizer(_.toStr(o[k])));\n                    });\n                    return tokens;\n                };\n            };\n        }\n    }();\n    var LruCache = function() {\n        \"use strict\";\n        function LruCache(maxSize) {\n            this.maxSize = _.isNumber(maxSize) ? maxSize : 100;\n            this.reset();\n            if (this.maxSize <= 0) {\n                this.set = this.get = $.noop;\n            }\n        }\n        _.mixin(LruCache.prototype, {\n            set: function set(key, val) {\n                var tailItem = this.list.tail, node;\n                if (this.size >= this.maxSize) {\n                    this.list.remove(tailItem);\n                    delete this.hash[tailItem.key];\n                    this.size--;\n                }\n                if (node = this.hash[key]) {\n                    node.val = val;\n                    this.list.moveToFront(node);\n                } else {\n                    node = new Node(key, val);\n                    this.list.add(node);\n                    this.hash[key] = node;\n                    this.size++;\n                }\n            },\n            get: function get(key) {\n                var node = this.hash[key];\n                if (node) {\n                    this.list.moveToFront(node);\n                    return node.val;\n                }\n            },\n            reset: function reset() {\n                this.size = 0;\n                this.hash = {};\n                this.list = new List();\n            }\n        });\n        function List() {\n            this.head = this.tail = null;\n        }\n        _.mixin(List.prototype, {\n            add: function add(node) {\n                if (this.head) {\n                    node.next = this.head;\n                    this.head.prev = node;\n                }\n                this.head = node;\n                this.tail = this.tail || node;\n            },\n            remove: function remove(node) {\n                node.prev ? node.prev.next = node.next : this.head = node.next;\n                node.next ? node.next.prev = node.prev : this.tail = node.prev;\n            },\n            moveToFront: function(node) {\n                this.remove(node);\n                this.add(node);\n            }\n        });\n        function Node(key, val) {\n            this.key = key;\n            this.val = val;\n            this.prev = this.next = null;\n        }\n        return LruCache;\n    }();\n    var PersistentStorage = function() {\n        \"use strict\";\n        var LOCAL_STORAGE;\n        try {\n            LOCAL_STORAGE = window.localStorage;\n            LOCAL_STORAGE.setItem(\"~~~\", \"!\");\n            LOCAL_STORAGE.removeItem(\"~~~\");\n        } catch (err) {\n            LOCAL_STORAGE = null;\n        }\n        function PersistentStorage(namespace, override) {\n            this.prefix = [ \"__\", namespace, \"__\" ].join(\"\");\n            this.ttlKey = \"__ttl__\";\n            this.keyMatcher = new RegExp(\"^\" + _.escapeRegExChars(this.prefix));\n            this.ls = override || LOCAL_STORAGE;\n            !this.ls && this._noop();\n        }\n        _.mixin(PersistentStorage.prototype, {\n            _prefix: function(key) {\n                return this.prefix + key;\n            },\n            _ttlKey: function(key) {\n                return this._prefix(key) + this.ttlKey;\n            },\n            _noop: function() {\n                this.get = this.set = this.remove = this.clear = this.isExpired = _.noop;\n            },\n            _safeSet: function(key, val) {\n                try {\n                    this.ls.setItem(key, val);\n                } catch (err) {\n                    if (err.name === \"QuotaExceededError\") {\n                        this.clear();\n                        this._noop();\n                    }\n                }\n            },\n            get: function(key) {\n                if (this.isExpired(key)) {\n                    this.remove(key);\n                }\n                return decode(this.ls.getItem(this._prefix(key)));\n            },\n            set: function(key, val, ttl) {\n                if (_.isNumber(ttl)) {\n                    this._safeSet(this._ttlKey(key), encode(now() + ttl));\n                } else {\n                    this.ls.removeItem(this._ttlKey(key));\n                }\n                return this._safeSet(this._prefix(key), encode(val));\n            },\n            remove: function(key) {\n                this.ls.removeItem(this._ttlKey(key));\n                this.ls.removeItem(this._prefix(key));\n                return this;\n            },\n            clear: function() {\n                var i, keys = gatherMatchingKeys(this.keyMatcher);\n                for (i = keys.length; i--; ) {\n                    this.remove(keys[i]);\n                }\n                return this;\n            },\n            isExpired: function(key) {\n                var ttl = decode(this.ls.getItem(this._ttlKey(key)));\n                return _.isNumber(ttl) && now() > ttl ? true : false;\n            }\n        });\n        return PersistentStorage;\n        function now() {\n            return new Date().getTime();\n        }\n        function encode(val) {\n            return JSON.stringify(_.isUndefined(val) ? null : val);\n        }\n        function decode(val) {\n            return $.parseJSON(val);\n        }\n        function gatherMatchingKeys(keyMatcher) {\n            var i, key, keys = [], len = LOCAL_STORAGE.length;\n            for (i = 0; i < len; i++) {\n                if ((key = LOCAL_STORAGE.key(i)).match(keyMatcher)) {\n                    keys.push(key.replace(keyMatcher, \"\"));\n                }\n            }\n            return keys;\n        }\n    }();\n    var Transport = function() {\n        \"use strict\";\n        var pendingRequestsCount = 0, pendingRequests = {}, maxPendingRequests = 6, sharedCache = new LruCache(10);\n        function Transport(o) {\n            o = o || {};\n            this.cancelled = false;\n            this.lastReq = null;\n            this._send = o.transport;\n            this._get = o.limiter ? o.limiter(this._get) : this._get;\n            this._cache = o.cache === false ? new LruCache(0) : sharedCache;\n        }\n        Transport.setMaxPendingRequests = function setMaxPendingRequests(num) {\n            maxPendingRequests = num;\n        };\n        Transport.resetCache = function resetCache() {\n            sharedCache.reset();\n        };\n        _.mixin(Transport.prototype, {\n            _fingerprint: function fingerprint(o) {\n                o = o || {};\n                return o.url + o.type + $.param(o.data || {});\n            },\n            _get: function(o, cb) {\n                var that = this, fingerprint, jqXhr;\n                fingerprint = this._fingerprint(o);\n                if (this.cancelled || fingerprint !== this.lastReq) {\n                    return;\n                }\n                if (jqXhr = pendingRequests[fingerprint]) {\n                    jqXhr.done(done).fail(fail);\n                } else if (pendingRequestsCount < maxPendingRequests) {\n                    pendingRequestsCount++;\n                    pendingRequests[fingerprint] = this._send(o).done(done).fail(fail).always(always);\n                } else {\n                    this.onDeckRequestArgs = [].slice.call(arguments, 0);\n                }\n                function done(resp) {\n                    cb(null, resp);\n                    that._cache.set(fingerprint, resp);\n                }\n                function fail() {\n                    cb(true);\n                }\n                function always() {\n                    pendingRequestsCount--;\n                    delete pendingRequests[fingerprint];\n                    if (that.onDeckRequestArgs) {\n                        that._get.apply(that, that.onDeckRequestArgs);\n                        that.onDeckRequestArgs = null;\n                    }\n                }\n            },\n            get: function(o, cb) {\n                var resp, fingerprint;\n                cb = cb || $.noop;\n                o = _.isString(o) ? {\n                    url: o\n                } : o || {};\n                fingerprint = this._fingerprint(o);\n                this.cancelled = false;\n                this.lastReq = fingerprint;\n                if (resp = this._cache.get(fingerprint)) {\n                    cb(null, resp);\n                } else {\n                    this._get(o, cb);\n                }\n            },\n            cancel: function() {\n                this.cancelled = true;\n            }\n        });\n        return Transport;\n    }();\n    var SearchIndex = window.SearchIndex = function() {\n        \"use strict\";\n        var CHILDREN = \"c\", IDS = \"i\";\n        function SearchIndex(o) {\n            o = o || {};\n            if (!o.datumTokenizer || !o.queryTokenizer) {\n                $.error(\"datumTokenizer and queryTokenizer are both required\");\n            }\n            this.identify = o.identify || _.stringify;\n            this.datumTokenizer = o.datumTokenizer;\n            this.queryTokenizer = o.queryTokenizer;\n            this.reset();\n        }\n        _.mixin(SearchIndex.prototype, {\n            bootstrap: function bootstrap(o) {\n                this.datums = o.datums;\n                this.trie = o.trie;\n            },\n            add: function(data) {\n                var that = this;\n                data = _.isArray(data) ? data : [ data ];\n                _.each(data, function(datum) {\n                    var id, tokens;\n                    that.datums[id = that.identify(datum)] = datum;\n                    tokens = normalizeTokens(that.datumTokenizer(datum));\n                    _.each(tokens, function(token) {\n                        var node, chars, ch;\n                        node = that.trie;\n                        chars = token.split(\"\");\n                        while (ch = chars.shift()) {\n                            node = node[CHILDREN][ch] || (node[CHILDREN][ch] = newNode());\n                            node[IDS].push(id);\n                        }\n                    });\n                });\n            },\n            get: function get(ids) {\n                var that = this;\n                return _.map(ids, function(id) {\n                    return that.datums[id];\n                });\n            },\n            search: function search(query) {\n                var that = this, tokens, matches;\n                tokens = normalizeTokens(this.queryTokenizer(query));\n                _.each(tokens, function(token) {\n                    var node, chars, ch, ids;\n                    if (matches && matches.length === 0) {\n                        return false;\n                    }\n                    node = that.trie;\n                    chars = token.split(\"\");\n                    while (node && (ch = chars.shift())) {\n                        node = node[CHILDREN][ch];\n                    }\n                    if (node && chars.length === 0) {\n                        ids = node[IDS].slice(0);\n                        matches = matches ? getIntersection(matches, ids) : ids;\n                    } else {\n                        matches = [];\n                        return false;\n                    }\n                });\n                return matches ? _.map(unique(matches), function(id) {\n                    return that.datums[id];\n                }) : [];\n            },\n            all: function all() {\n                var values = [];\n                for (var key in this.datums) {\n                    values.push(this.datums[key]);\n                }\n                return values;\n            },\n            reset: function reset() {\n                this.datums = {};\n                this.trie = newNode();\n            },\n            serialize: function serialize() {\n                return {\n                    datums: this.datums,\n                    trie: this.trie\n                };\n            }\n        });\n        return SearchIndex;\n        function normalizeTokens(tokens) {\n            tokens = _.filter(tokens, function(token) {\n                return !!token;\n            });\n            tokens = _.map(tokens, function(token) {\n                return token.toLowerCase();\n            });\n            return tokens;\n        }\n        function newNode() {\n            var node = {};\n            node[IDS] = [];\n            node[CHILDREN] = {};\n            return node;\n        }\n        function unique(array) {\n            var seen = {}, uniques = [];\n            for (var i = 0, len = array.length; i < len; i++) {\n                if (!seen[array[i]]) {\n                    seen[array[i]] = true;\n                    uniques.push(array[i]);\n                }\n            }\n            return uniques;\n        }\n        function getIntersection(arrayA, arrayB) {\n            var ai = 0, bi = 0, intersection = [];\n            arrayA = arrayA.sort();\n            arrayB = arrayB.sort();\n            var lenArrayA = arrayA.length, lenArrayB = arrayB.length;\n            while (ai < lenArrayA && bi < lenArrayB) {\n                if (arrayA[ai] < arrayB[bi]) {\n                    ai++;\n                } else if (arrayA[ai] > arrayB[bi]) {\n                    bi++;\n                } else {\n                    intersection.push(arrayA[ai]);\n                    ai++;\n                    bi++;\n                }\n            }\n            return intersection;\n        }\n    }();\n    var Prefetch = function() {\n        \"use strict\";\n        var keys;\n        keys = {\n            data: \"data\",\n            protocol: \"protocol\",\n            thumbprint: \"thumbprint\"\n        };\n        function Prefetch(o) {\n            this.url = o.url;\n            this.ttl = o.ttl;\n            this.cache = o.cache;\n            this.prepare = o.prepare;\n            this.transform = o.transform;\n            this.transport = o.transport;\n            this.thumbprint = o.thumbprint;\n            this.storage = new PersistentStorage(o.cacheKey);\n        }\n        _.mixin(Prefetch.prototype, {\n            _settings: function settings() {\n                return {\n                    url: this.url,\n                    type: \"GET\",\n                    dataType: \"json\"\n                };\n            },\n            store: function store(data) {\n                if (!this.cache) {\n                    return;\n                }\n                this.storage.set(keys.data, data, this.ttl);\n                this.storage.set(keys.protocol, location.protocol, this.ttl);\n                this.storage.set(keys.thumbprint, this.thumbprint, this.ttl);\n            },\n            fromCache: function fromCache() {\n                var stored = {}, isExpired;\n                if (!this.cache) {\n                    return null;\n                }\n                stored.data = this.storage.get(keys.data);\n                stored.protocol = this.storage.get(keys.protocol);\n                stored.thumbprint = this.storage.get(keys.thumbprint);\n                isExpired = stored.thumbprint !== this.thumbprint || stored.protocol !== location.protocol;\n                return stored.data && !isExpired ? stored.data : null;\n            },\n            fromNetwork: function(cb) {\n                var that = this, settings;\n                if (!cb) {\n                    return;\n                }\n                settings = this.prepare(this._settings());\n                this.transport(settings).fail(onError).done(onResponse);\n                function onError() {\n                    cb(true);\n                }\n                function onResponse(resp) {\n                    cb(null, that.transform(resp));\n                }\n            },\n            clear: function clear() {\n                this.storage.clear();\n                return this;\n            }\n        });\n        return Prefetch;\n    }();\n    var Remote = function() {\n        \"use strict\";\n        function Remote(o) {\n            this.url = o.url;\n            this.prepare = o.prepare;\n            this.transform = o.transform;\n            this.transport = new Transport({\n                cache: o.cache,\n                limiter: o.limiter,\n                transport: o.transport\n            });\n        }\n        _.mixin(Remote.prototype, {\n            _settings: function settings() {\n                return {\n                    url: this.url,\n                    type: \"GET\",\n                    dataType: \"json\"\n                };\n            },\n            get: function get(query, cb) {\n                var that = this, settings;\n                if (!cb) {\n                    return;\n                }\n                query = query || \"\";\n                settings = this.prepare(query, this._settings());\n                return this.transport.get(settings, onResponse);\n                function onResponse(err, resp) {\n                    err ? cb([]) : cb(that.transform(resp));\n                }\n            },\n            cancelLastRequest: function cancelLastRequest() {\n                this.transport.cancel();\n            }\n        });\n        return Remote;\n    }();\n    var oParser = function() {\n        \"use strict\";\n        return function parse(o) {\n            var defaults, sorter;\n            defaults = {\n                initialize: true,\n                identify: _.stringify,\n                datumTokenizer: null,\n                queryTokenizer: null,\n                sufficient: 5,\n                sorter: null,\n                local: [],\n                prefetch: null,\n                remote: null\n            };\n            o = _.mixin(defaults, o || {});\n            !o.datumTokenizer && $.error(\"datumTokenizer is required\");\n            !o.queryTokenizer && $.error(\"queryTokenizer is required\");\n            sorter = o.sorter;\n            o.sorter = sorter ? function(x) {\n                return x.sort(sorter);\n            } : _.identity;\n            o.local = _.isFunction(o.local) ? o.local() : o.local;\n            o.prefetch = parsePrefetch(o.prefetch);\n            o.remote = parseRemote(o.remote);\n            return o;\n        };\n        function parsePrefetch(o) {\n            var defaults;\n            if (!o) {\n                return null;\n            }\n            defaults = {\n                url: null,\n                ttl: 24 * 60 * 60 * 1e3,\n                cache: true,\n                cacheKey: null,\n                thumbprint: \"\",\n                prepare: _.identity,\n                transform: _.identity,\n                transport: null\n            };\n            o = _.isString(o) ? {\n                url: o\n            } : o;\n            o = _.mixin(defaults, o);\n            !o.url && $.error(\"prefetch requires url to be set\");\n            o.transform = o.filter || o.transform;\n            o.cacheKey = o.cacheKey || o.url;\n            o.thumbprint = VERSION + o.thumbprint;\n            o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n            return o;\n        }\n        function parseRemote(o) {\n            var defaults;\n            if (!o) {\n                return;\n            }\n            defaults = {\n                url: null,\n                cache: true,\n                prepare: null,\n                replace: null,\n                wildcard: null,\n                limiter: null,\n                rateLimitBy: \"debounce\",\n                rateLimitWait: 300,\n                transform: _.identity,\n                transport: null\n            };\n            o = _.isString(o) ? {\n                url: o\n            } : o;\n            o = _.mixin(defaults, o);\n            !o.url && $.error(\"remote requires url to be set\");\n            o.transform = o.filter || o.transform;\n            o.prepare = toRemotePrepare(o);\n            o.limiter = toLimiter(o);\n            o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n            delete o.replace;\n            delete o.wildcard;\n            delete o.rateLimitBy;\n            delete o.rateLimitWait;\n            return o;\n        }\n        function toRemotePrepare(o) {\n            var prepare, replace, wildcard;\n            prepare = o.prepare;\n            replace = o.replace;\n            wildcard = o.wildcard;\n            if (prepare) {\n                return prepare;\n            }\n            if (replace) {\n                prepare = prepareByReplace;\n            } else if (o.wildcard) {\n                prepare = prepareByWildcard;\n            } else {\n                prepare = idenityPrepare;\n            }\n            return prepare;\n            function prepareByReplace(query, settings) {\n                settings.url = replace(settings.url, query);\n                return settings;\n            }\n            function prepareByWildcard(query, settings) {\n                settings.url = settings.url.replace(wildcard, encodeURIComponent(query));\n                return settings;\n            }\n            function idenityPrepare(query, settings) {\n                return settings;\n            }\n        }\n        function toLimiter(o) {\n            var limiter, method, wait;\n            limiter = o.limiter;\n            method = o.rateLimitBy;\n            wait = o.rateLimitWait;\n            if (!limiter) {\n                limiter = /^throttle$/i.test(method) ? throttle(wait) : debounce(wait);\n            }\n            return limiter;\n            function debounce(wait) {\n                return function debounce(fn) {\n                    return _.debounce(fn, wait);\n                };\n            }\n            function throttle(wait) {\n                return function throttle(fn) {\n                    return _.throttle(fn, wait);\n                };\n            }\n        }\n        function callbackToDeferred(fn) {\n            return function wrapper(o) {\n                var deferred = $.Deferred();\n                fn(o, onSuccess, onError);\n                return deferred;\n                function onSuccess(resp) {\n                    _.defer(function() {\n                        deferred.resolve(resp);\n                    });\n                }\n                function onError(err) {\n                    _.defer(function() {\n                        deferred.reject(err);\n                    });\n                }\n            };\n        }\n    }();\n    var Bloodhound = function() {\n        \"use strict\";\n        var old;\n        old = window && window.Bloodhound;\n        function Bloodhound(o) {\n            o = oParser(o);\n            this.sorter = o.sorter;\n            this.identify = o.identify;\n            this.sufficient = o.sufficient;\n            this.local = o.local;\n            this.remote = o.remote ? new Remote(o.remote) : null;\n            this.prefetch = o.prefetch ? new Prefetch(o.prefetch) : null;\n            this.index = new SearchIndex({\n                identify: this.identify,\n                datumTokenizer: o.datumTokenizer,\n                queryTokenizer: o.queryTokenizer\n            });\n            o.initialize !== false && this.initialize();\n        }\n        Bloodhound.noConflict = function noConflict() {\n            window && (window.Bloodhound = old);\n            return Bloodhound;\n        };\n        Bloodhound.tokenizers = tokenizers;\n        _.mixin(Bloodhound.prototype, {\n            __ttAdapter: function ttAdapter() {\n                var that = this;\n                return this.remote ? withAsync : withoutAsync;\n                function withAsync(query, sync, async) {\n                    return that.search(query, sync, async);\n                }\n                function withoutAsync(query, sync) {\n                    return that.search(query, sync);\n                }\n            },\n            _loadPrefetch: function loadPrefetch() {\n                var that = this, deferred, serialized;\n                deferred = $.Deferred();\n                if (!this.prefetch) {\n                    deferred.resolve();\n                } else if (serialized = this.prefetch.fromCache()) {\n                    this.index.bootstrap(serialized);\n                    deferred.resolve();\n                } else {\n                    this.prefetch.fromNetwork(done);\n                }\n                return deferred.promise();\n                function done(err, data) {\n                    if (err) {\n                        return deferred.reject();\n                    }\n                    that.add(data);\n                    that.prefetch.store(that.index.serialize());\n                    deferred.resolve();\n                }\n            },\n            _initialize: function initialize() {\n                var that = this, deferred;\n                this.clear();\n                (this.initPromise = this._loadPrefetch()).done(addLocalToIndex);\n                return this.initPromise;\n                function addLocalToIndex() {\n                    that.add(that.local);\n                }\n            },\n            initialize: function initialize(force) {\n                return !this.initPromise || force ? this._initialize() : this.initPromise;\n            },\n            add: function add(data) {\n                this.index.add(data);\n                return this;\n            },\n            get: function get(ids) {\n                ids = _.isArray(ids) ? ids : [].slice.call(arguments);\n                return this.index.get(ids);\n            },\n            search: function search(query, sync, async) {\n                var that = this, local;\n                local = this.sorter(this.index.search(query));\n                sync(this.remote ? local.slice() : local);\n                if (this.remote && local.length < this.sufficient) {\n                    this.remote.get(query, processRemote);\n                } else if (this.remote) {\n                    this.remote.cancelLastRequest();\n                }\n                return this;\n                function processRemote(remote) {\n                    var nonDuplicates = [];\n                    _.each(remote, function(r) {\n                        !_.some(local, function(l) {\n                            return that.identify(r) === that.identify(l);\n                        }) && nonDuplicates.push(r);\n                    });\n                    async && async(nonDuplicates);\n                }\n            },\n            all: function all() {\n                return this.index.all();\n            },\n            clear: function clear() {\n                this.index.reset();\n                return this;\n            },\n            clearPrefetchCache: function clearPrefetchCache() {\n                this.prefetch && this.prefetch.clear();\n                return this;\n            },\n            clearRemoteCache: function clearRemoteCache() {\n                Transport.resetCache();\n                return this;\n            },\n            ttAdapter: function ttAdapter() {\n                return this.__ttAdapter();\n            }\n        });\n        return Bloodhound;\n    }();\n    return Bloodhound;\n});\n\n(function(root, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(1) ], __WEBPACK_AMD_DEFINE_RESULT__ = function(a0) {\n            return factory(a0);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports === \"object\") {\n        module.exports = factory(require(\"jquery\"));\n    } else {\n        factory(jQuery);\n    }\n})(this, function($) {\n    var _ = function() {\n        \"use strict\";\n        return {\n            isMsie: function() {\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n            },\n            isBlankString: function(str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function(str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n            },\n            isString: function(obj) {\n                return typeof obj === \"string\";\n            },\n            isNumber: function(obj) {\n                return typeof obj === \"number\";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function(obj) {\n                return typeof obj === \"undefined\";\n            },\n            isElement: function(obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n            isJQuery: function(obj) {\n                return obj instanceof $;\n            },\n            toStr: function toStr(s) {\n                return _.isUndefined(s) || s === null ? \"\" : s + \"\";\n            },\n            bind: $.proxy,\n            each: function(collection, cb) {\n                $.each(collection, reverseArgs);\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function(obj, test) {\n                var result = true;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function(obj, test) {\n                var result = false;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            identity: function(x) {\n                return x;\n            },\n            clone: function(obj) {\n                return $.extend(true, {}, obj);\n            },\n            getIdGenerator: function() {\n                var counter = 0;\n                return function() {\n                    return counter++;\n                };\n            },\n            templatify: function templatify(obj) {\n                return $.isFunction(obj) ? obj : template;\n                function template() {\n                    return String(obj);\n                }\n            },\n            defer: function(fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function(func, wait, immediate) {\n                var timeout, result;\n                return function() {\n                    var context = this, args = arguments, later, callNow;\n                    later = function() {\n                        timeout = null;\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n                    return result;\n                };\n            },\n            throttle: function(func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n                later = function() {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n                return function() {\n                    var now = new Date(), remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n                    return result;\n                };\n            },\n            stringify: function(val) {\n                return _.isString(val) ? val : JSON.stringify(val);\n            },\n            noop: function() {}\n        };\n    }();\n    var WWW = function() {\n        \"use strict\";\n        var defaultClassNames = {\n            wrapper: \"twitter-typeahead\",\n            input: \"tt-input\",\n            hint: \"tt-hint\",\n            menu: \"tt-menu\",\n            dataset: \"tt-dataset\",\n            suggestion: \"tt-suggestion\",\n            selectable: \"tt-selectable\",\n            empty: \"tt-empty\",\n            open: \"tt-open\",\n            cursor: \"tt-cursor\",\n            highlight: \"tt-highlight\"\n        };\n        return build;\n        function build(o) {\n            var www, classes;\n            classes = _.mixin({}, defaultClassNames, o);\n            www = {\n                css: buildCss(),\n                classes: classes,\n                html: buildHtml(classes),\n                selectors: buildSelectors(classes)\n            };\n            return {\n                css: www.css,\n                html: www.html,\n                classes: www.classes,\n                selectors: www.selectors,\n                mixin: function(o) {\n                    _.mixin(o, www);\n                }\n            };\n        }\n        function buildHtml(c) {\n            return {\n                wrapper: '<span class=\"' + c.wrapper + '\"></span>',\n                menu: '<div class=\"' + c.menu + '\"></div>'\n            };\n        }\n        function buildSelectors(classes) {\n            var selectors = {};\n            _.each(classes, function(v, k) {\n                selectors[k] = \".\" + v;\n            });\n            return selectors;\n        }\n        function buildCss() {\n            var css = {\n                wrapper: {\n                    position: \"relative\",\n                    display: \"inline-block\"\n                },\n                hint: {\n                    position: \"absolute\",\n                    top: \"0\",\n                    left: \"0\",\n                    borderColor: \"transparent\",\n                    boxShadow: \"none\",\n                    opacity: \"1\"\n                },\n                input: {\n                    position: \"relative\",\n                    verticalAlign: \"top\",\n                    backgroundColor: \"transparent\"\n                },\n                inputWithNoHint: {\n                    position: \"relative\",\n                    verticalAlign: \"top\"\n                },\n                menu: {\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: \"0\",\n                    zIndex: \"100\",\n                    display: \"none\"\n                },\n                ltr: {\n                    left: \"0\",\n                    right: \"auto\"\n                },\n                rtl: {\n                    left: \"auto\",\n                    right: \" 0\"\n                }\n            };\n            if (_.isMsie()) {\n                _.mixin(css.input, {\n                    backgroundImage: \"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"\n                });\n            }\n            return css;\n        }\n    }();\n    var EventBus = function() {\n        \"use strict\";\n        var namespace, deprecationMap;\n        namespace = \"typeahead:\";\n        deprecationMap = {\n            render: \"rendered\",\n            cursorchange: \"cursorchanged\",\n            select: \"selected\",\n            autocomplete: \"autocompleted\"\n        };\n        function EventBus(o) {\n            if (!o || !o.el) {\n                $.error(\"EventBus initialized without el\");\n            }\n            this.$el = $(o.el);\n        }\n        _.mixin(EventBus.prototype, {\n            _trigger: function(type, args) {\n                var $e;\n                $e = $.Event(namespace + type);\n                (args = args || []).unshift($e);\n                this.$el.trigger.apply(this.$el, args);\n                return $e;\n            },\n            before: function(type) {\n                var args, $e;\n                args = [].slice.call(arguments, 1);\n                $e = this._trigger(\"before\" + type, args);\n                return $e.isDefaultPrevented();\n            },\n            trigger: function(type) {\n                var deprecatedType;\n                this._trigger(type, [].slice.call(arguments, 1));\n                if (deprecatedType = deprecationMap[type]) {\n                    this._trigger(deprecatedType, [].slice.call(arguments, 1));\n                }\n            }\n        });\n        return EventBus;\n    }();\n    var EventEmitter = function() {\n        \"use strict\";\n        var splitter = /\\s+/, nextTick = getNextTick();\n        return {\n            onSync: onSync,\n            onAsync: onAsync,\n            off: off,\n            trigger: trigger\n        };\n        function on(method, types, cb, context) {\n            var type;\n            if (!cb) {\n                return this;\n            }\n            types = types.split(splitter);\n            cb = context ? bindContext(cb, context) : cb;\n            this._callbacks = this._callbacks || {};\n            while (type = types.shift()) {\n                this._callbacks[type] = this._callbacks[type] || {\n                        sync: [],\n                        async: []\n                    };\n                this._callbacks[type][method].push(cb);\n            }\n            return this;\n        }\n        function onAsync(types, cb, context) {\n            return on.call(this, \"async\", types, cb, context);\n        }\n        function onSync(types, cb, context) {\n            return on.call(this, \"sync\", types, cb, context);\n        }\n        function off(types) {\n            var type;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            while (type = types.shift()) {\n                delete this._callbacks[type];\n            }\n            return this;\n        }\n        function trigger(types) {\n            var type, callbacks, args, syncFlush, asyncFlush;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            args = [].slice.call(arguments, 1);\n            while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n                syncFlush = getFlush(callbacks.sync, this, [ type ].concat(args));\n                asyncFlush = getFlush(callbacks.async, this, [ type ].concat(args));\n                syncFlush() && nextTick(asyncFlush);\n            }\n            return this;\n        }\n        function getFlush(callbacks, context, args) {\n            return flush;\n            function flush() {\n                var cancelled;\n                for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n                    cancelled = callbacks[i].apply(context, args) === false;\n                }\n                return !cancelled;\n            }\n        }\n        function getNextTick() {\n            var nextTickFn;\n            if (window.setImmediate) {\n                nextTickFn = function nextTickSetImmediate(fn) {\n                    setImmediate(function() {\n                        fn();\n                    });\n                };\n            } else {\n                nextTickFn = function nextTickSetTimeout(fn) {\n                    setTimeout(function() {\n                        fn();\n                    }, 0);\n                };\n            }\n            return nextTickFn;\n        }\n        function bindContext(fn, context) {\n            return fn.bind ? fn.bind(context) : function() {\n                fn.apply(context, [].slice.call(arguments, 0));\n            };\n        }\n    }();\n    var highlight = function(doc) {\n        \"use strict\";\n        var defaults = {\n            node: null,\n            pattern: null,\n            tagName: \"strong\",\n            className: null,\n            wordsOnly: false,\n            caseSensitive: false\n        };\n        return function hightlight(o) {\n            var regex;\n            o = _.mixin({}, defaults, o);\n            if (!o.node || !o.pattern) {\n                return;\n            }\n            o.pattern = _.isArray(o.pattern) ? o.pattern : [ o.pattern ];\n            regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly);\n            traverse(o.node, hightlightTextNode);\n            function hightlightTextNode(textNode) {\n                var match, patternNode, wrapperNode;\n                if (match = regex.exec(textNode.data)) {\n                    wrapperNode = doc.createElement(o.tagName);\n                    o.className && (wrapperNode.className = o.className);\n                    patternNode = textNode.splitText(match.index);\n                    patternNode.splitText(match[0].length);\n                    wrapperNode.appendChild(patternNode.cloneNode(true));\n                    textNode.parentNode.replaceChild(wrapperNode, patternNode);\n                }\n                return !!match;\n            }\n            function traverse(el, hightlightTextNode) {\n                var childNode, TEXT_NODE_TYPE = 3;\n                for (var i = 0; i < el.childNodes.length; i++) {\n                    childNode = el.childNodes[i];\n                    if (childNode.nodeType === TEXT_NODE_TYPE) {\n                        i += hightlightTextNode(childNode) ? 1 : 0;\n                    } else {\n                        traverse(childNode, hightlightTextNode);\n                    }\n                }\n            }\n        };\n        function getRegex(patterns, caseSensitive, wordsOnly) {\n            var escapedPatterns = [], regexStr;\n            for (var i = 0, len = patterns.length; i < len; i++) {\n                escapedPatterns.push(_.escapeRegExChars(patterns[i]));\n            }\n            regexStr = wordsOnly ? \"\\\\b(\" + escapedPatterns.join(\"|\") + \")\\\\b\" : \"(\" + escapedPatterns.join(\"|\") + \")\";\n            return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, \"i\");\n        }\n    }(window.document);\n    var Input = function() {\n        \"use strict\";\n        var specialKeyCodeMap;\n        specialKeyCodeMap = {\n            9: \"tab\",\n            27: \"esc\",\n            37: \"left\",\n            39: \"right\",\n            13: \"enter\",\n            38: \"up\",\n            40: \"down\"\n        };\n        function Input(o, www) {\n            o = o || {};\n            if (!o.input) {\n                $.error(\"input is missing\");\n            }\n            www.mixin(this);\n            this.$hint = $(o.hint);\n            this.$input = $(o.input);\n            this.query = this.$input.val();\n            this.queryWhenFocused = this.hasFocus() ? this.query : null;\n            this.$overflowHelper = buildOverflowHelper(this.$input);\n            this._checkLanguageDirection();\n            if (this.$hint.length === 0) {\n                this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n            }\n        }\n        Input.normalizeQuery = function(str) {\n            return _.toStr(str).replace(/^\\s*/g, \"\").replace(/\\s{2,}/g, \" \");\n        };\n        _.mixin(Input.prototype, EventEmitter, {\n            _onBlur: function onBlur() {\n                this.resetInputValue();\n                this.trigger(\"blurred\");\n            },\n            _onFocus: function onFocus() {\n                this.queryWhenFocused = this.query;\n                this.trigger(\"focused\");\n            },\n            _onKeydown: function onKeydown($e) {\n                var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n                this._managePreventDefault(keyName, $e);\n                if (keyName && this._shouldTrigger(keyName, $e)) {\n                    this.trigger(keyName + \"Keyed\", $e);\n                }\n            },\n            _onInput: function onInput() {\n                this._setQuery(this.getInputValue());\n                this.clearHintIfInvalid();\n                this._checkLanguageDirection();\n            },\n            _managePreventDefault: function managePreventDefault(keyName, $e) {\n                var preventDefault;\n                switch (keyName) {\n                    case \"up\":\n                    case \"down\":\n                        preventDefault = !withModifier($e);\n                        break;\n\n                    default:\n                        preventDefault = false;\n                }\n                preventDefault && $e.preventDefault();\n            },\n            _shouldTrigger: function shouldTrigger(keyName, $e) {\n                var trigger;\n                switch (keyName) {\n                    case \"tab\":\n                        trigger = !withModifier($e);\n                        break;\n\n                    default:\n                        trigger = true;\n                }\n                return trigger;\n            },\n            _checkLanguageDirection: function checkLanguageDirection() {\n                var dir = (this.$input.css(\"direction\") || \"ltr\").toLowerCase();\n                if (this.dir !== dir) {\n                    this.dir = dir;\n                    this.$hint.attr(\"dir\", dir);\n                    this.trigger(\"langDirChanged\", dir);\n                }\n            },\n            _setQuery: function setQuery(val, silent) {\n                var areEquivalent, hasDifferentWhitespace;\n                areEquivalent = areQueriesEquivalent(val, this.query);\n                hasDifferentWhitespace = areEquivalent ? this.query.length !== val.length : false;\n                this.query = val;\n                if (!silent && !areEquivalent) {\n                    this.trigger(\"queryChanged\", this.query);\n                } else if (!silent && hasDifferentWhitespace) {\n                    this.trigger(\"whitespaceChanged\", this.query);\n                }\n            },\n            bind: function() {\n                var that = this, onBlur, onFocus, onKeydown, onInput;\n                onBlur = _.bind(this._onBlur, this);\n                onFocus = _.bind(this._onFocus, this);\n                onKeydown = _.bind(this._onKeydown, this);\n                onInput = _.bind(this._onInput, this);\n                this.$input.on(\"blur.tt\", onBlur).on(\"focus.tt\", onFocus).on(\"keydown.tt\", onKeydown);\n                if (!_.isMsie() || _.isMsie() > 9) {\n                    this.$input.on(\"input.tt\", onInput);\n                } else {\n                    this.$input.on(\"keydown.tt keypress.tt cut.tt paste.tt\", function($e) {\n                        if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n                            return;\n                        }\n                        _.defer(_.bind(that._onInput, that, $e));\n                    });\n                }\n                return this;\n            },\n            focus: function focus() {\n                this.$input.focus();\n            },\n            blur: function blur() {\n                this.$input.blur();\n            },\n            getLangDir: function getLangDir() {\n                return this.dir;\n            },\n            getQuery: function getQuery() {\n                return this.query || \"\";\n            },\n            setQuery: function setQuery(val, silent) {\n                this.setInputValue(val);\n                this._setQuery(val, silent);\n            },\n            hasQueryChangedSinceLastFocus: function hasQueryChangedSinceLastFocus() {\n                return this.query !== this.queryWhenFocused;\n            },\n            getInputValue: function getInputValue() {\n                return this.$input.val();\n            },\n            setInputValue: function setInputValue(value) {\n                this.$input.val(value);\n                this.clearHintIfInvalid();\n                this._checkLanguageDirection();\n            },\n            resetInputValue: function resetInputValue() {\n                this.setInputValue(this.query);\n            },\n            getHint: function getHint() {\n                return this.$hint.val();\n            },\n            setHint: function setHint(value) {\n                this.$hint.val(value);\n            },\n            clearHint: function clearHint() {\n                this.setHint(\"\");\n            },\n            clearHintIfInvalid: function clearHintIfInvalid() {\n                var val, hint, valIsPrefixOfHint, isValid;\n                val = this.getInputValue();\n                hint = this.getHint();\n                valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n                isValid = val !== \"\" && valIsPrefixOfHint && !this.hasOverflow();\n                !isValid && this.clearHint();\n            },\n            hasFocus: function hasFocus() {\n                return this.$input.is(\":focus\");\n            },\n            hasOverflow: function hasOverflow() {\n                var constraint = this.$input.width() - 2;\n                this.$overflowHelper.text(this.getInputValue());\n                return this.$overflowHelper.width() >= constraint;\n            },\n            isCursorAtEnd: function() {\n                var valueLength, selectionStart, range;\n                valueLength = this.$input.val().length;\n                selectionStart = this.$input[0].selectionStart;\n                if (_.isNumber(selectionStart)) {\n                    return selectionStart === valueLength;\n                } else if (document.selection) {\n                    range = document.selection.createRange();\n                    range.moveStart(\"character\", -valueLength);\n                    return valueLength === range.text.length;\n                }\n                return true;\n            },\n            destroy: function destroy() {\n                this.$hint.off(\".tt\");\n                this.$input.off(\".tt\");\n                this.$overflowHelper.remove();\n                this.$hint = this.$input = this.$overflowHelper = $(\"<div>\");\n            }\n        });\n        return Input;\n        function buildOverflowHelper($input) {\n            return $('<pre aria-hidden=\"true\"></pre>').css({\n                position: \"absolute\",\n                visibility: \"hidden\",\n                whiteSpace: \"pre\",\n                fontFamily: $input.css(\"font-family\"),\n                fontSize: $input.css(\"font-size\"),\n                fontStyle: $input.css(\"font-style\"),\n                fontVariant: $input.css(\"font-variant\"),\n                fontWeight: $input.css(\"font-weight\"),\n                wordSpacing: $input.css(\"word-spacing\"),\n                letterSpacing: $input.css(\"letter-spacing\"),\n                textIndent: $input.css(\"text-indent\"),\n                textRendering: $input.css(\"text-rendering\"),\n                textTransform: $input.css(\"text-transform\")\n            }).insertAfter($input);\n        }\n        function areQueriesEquivalent(a, b) {\n            return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n        }\n        function withModifier($e) {\n            return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n        }\n    }();\n    var Dataset = function() {\n        \"use strict\";\n        var keys, nameGenerator;\n        keys = {\n            val: \"tt-selectable-display\",\n            obj: \"tt-selectable-object\"\n        };\n        nameGenerator = _.getIdGenerator();\n        function Dataset(o, www) {\n            o = o || {};\n            o.templates = o.templates || {};\n            o.templates.notFound = o.templates.notFound || o.templates.empty;\n            if (!o.source) {\n                $.error(\"missing source\");\n            }\n            if (!o.node) {\n                $.error(\"missing node\");\n            }\n            if (o.name && !isValidName(o.name)) {\n                $.error(\"invalid dataset name: \" + o.name);\n            }\n            www.mixin(this);\n            this.highlight = !!o.highlight;\n            this.name = o.name || nameGenerator();\n            this.limit = o.limit || 5;\n            this.displayFn = getDisplayFn(o.display || o.displayKey);\n            this.templates = getTemplates(o.templates, this.displayFn);\n            this.source = o.source.__ttAdapter ? o.source.__ttAdapter() : o.source;\n            this.async = _.isUndefined(o.async) ? this.source.length > 2 : !!o.async;\n            this._resetLastSuggestion();\n            this.$el = $(o.node).addClass(this.classes.dataset).addClass(this.classes.dataset + \"-\" + this.name);\n        }\n        Dataset.extractData = function extractData(el) {\n            var $el = $(el);\n            if ($el.data(keys.obj)) {\n                return {\n                    val: $el.data(keys.val) || \"\",\n                    obj: $el.data(keys.obj) || null\n                };\n            }\n            return null;\n        };\n        _.mixin(Dataset.prototype, EventEmitter, {\n            _overwrite: function overwrite(query, suggestions) {\n                suggestions = suggestions || [];\n                if (suggestions.length) {\n                    this._renderSuggestions(query, suggestions);\n                } else if (this.async && this.templates.pending) {\n                    this._renderPending(query);\n                } else if (!this.async && this.templates.notFound) {\n                    this._renderNotFound(query);\n                } else {\n                    this._empty();\n                }\n                this.trigger(\"rendered\", this.name, suggestions, false);\n            },\n            _append: function append(query, suggestions) {\n                suggestions = suggestions || [];\n                if (suggestions.length && this.$lastSuggestion.length) {\n                    this._appendSuggestions(query, suggestions);\n                } else if (suggestions.length) {\n                    this._renderSuggestions(query, suggestions);\n                } else if (!this.$lastSuggestion.length && this.templates.notFound) {\n                    this._renderNotFound(query);\n                }\n                this.trigger(\"rendered\", this.name, suggestions, true);\n            },\n            _renderSuggestions: function renderSuggestions(query, suggestions) {\n                var $fragment;\n                $fragment = this._getSuggestionsFragment(query, suggestions);\n                this.$lastSuggestion = $fragment.children().last();\n                this.$el.html($fragment).prepend(this._getHeader(query, suggestions)).append(this._getFooter(query, suggestions));\n            },\n            _appendSuggestions: function appendSuggestions(query, suggestions) {\n                var $fragment, $lastSuggestion;\n                $fragment = this._getSuggestionsFragment(query, suggestions);\n                $lastSuggestion = $fragment.children().last();\n                this.$lastSuggestion.after($fragment);\n                this.$lastSuggestion = $lastSuggestion;\n            },\n            _renderPending: function renderPending(query) {\n                var template = this.templates.pending;\n                this._resetLastSuggestion();\n                template && this.$el.html(template({\n                    query: query,\n                    dataset: this.name\n                }));\n            },\n            _renderNotFound: function renderNotFound(query) {\n                var template = this.templates.notFound;\n                this._resetLastSuggestion();\n                template && this.$el.html(template({\n                    query: query,\n                    dataset: this.name\n                }));\n            },\n            _empty: function empty() {\n                this.$el.empty();\n                this._resetLastSuggestion();\n            },\n            _getSuggestionsFragment: function getSuggestionsFragment(query, suggestions) {\n                var that = this, fragment;\n                fragment = document.createDocumentFragment();\n                _.each(suggestions, function getSuggestionNode(suggestion) {\n                    var $el, context;\n                    context = that._injectQuery(query, suggestion);\n                    $el = $(that.templates.suggestion(context)).data(keys.obj, suggestion).data(keys.val, that.displayFn(suggestion)).addClass(that.classes.suggestion + \" \" + that.classes.selectable);\n                    fragment.appendChild($el[0]);\n                });\n                this.highlight && highlight({\n                    className: this.classes.highlight,\n                    node: fragment,\n                    pattern: query\n                });\n                return $(fragment);\n            },\n            _getFooter: function getFooter(query, suggestions) {\n                return this.templates.footer ? this.templates.footer({\n                    query: query,\n                    suggestions: suggestions,\n                    dataset: this.name\n                }) : null;\n            },\n            _getHeader: function getHeader(query, suggestions) {\n                return this.templates.header ? this.templates.header({\n                    query: query,\n                    suggestions: suggestions,\n                    dataset: this.name\n                }) : null;\n            },\n            _resetLastSuggestion: function resetLastSuggestion() {\n                this.$lastSuggestion = $();\n            },\n            _injectQuery: function injectQuery(query, obj) {\n                return _.isObject(obj) ? _.mixin({\n                    _query: query\n                }, obj) : obj;\n            },\n            update: function update(query) {\n                var that = this, canceled = false, syncCalled = false, rendered = 0;\n                this.cancel();\n                this.cancel = function cancel() {\n                    canceled = true;\n                    that.cancel = $.noop;\n                    that.async && that.trigger(\"asyncCanceled\", query);\n                };\n                this.source(query, sync, async);\n                !syncCalled && sync([]);\n                function sync(suggestions) {\n                    if (syncCalled) {\n                        return;\n                    }\n                    syncCalled = true;\n                    suggestions = (suggestions || []).slice(0, that.limit);\n                    rendered = suggestions.length;\n                    that._overwrite(query, suggestions);\n                    if (rendered < that.limit && that.async) {\n                        that.trigger(\"asyncRequested\", query);\n                    }\n                }\n                function async(suggestions) {\n                    suggestions = suggestions || [];\n                    if (!canceled && rendered < that.limit) {\n                        that.cancel = $.noop;\n                        rendered += suggestions.length;\n                        that._append(query, suggestions);\n                        that.async && that.trigger(\"asyncReceived\", query);\n                    }\n                }\n            },\n            cancel: $.noop,\n            clear: function clear() {\n                this._empty();\n                this.cancel();\n                this.trigger(\"cleared\");\n            },\n            isEmpty: function isEmpty() {\n                return this.$el.is(\":empty\");\n            },\n            destroy: function destroy() {\n                this.$el = $(\"<div>\");\n            }\n        });\n        return Dataset;\n        function getDisplayFn(display) {\n            display = display || _.stringify;\n            return _.isFunction(display) ? display : displayFn;\n            function displayFn(obj) {\n                return obj[display];\n            }\n        }\n        function getTemplates(templates, displayFn) {\n            return {\n                notFound: templates.notFound && _.templatify(templates.notFound),\n                pending: templates.pending && _.templatify(templates.pending),\n                header: templates.header && _.templatify(templates.header),\n                footer: templates.footer && _.templatify(templates.footer),\n                suggestion: templates.suggestion || suggestionTemplate\n            };\n            function suggestionTemplate(context) {\n                return $(\"<div>\").text(displayFn(context));\n            }\n        }\n        function isValidName(str) {\n            return /^[_a-zA-Z0-9-]+$/.test(str);\n        }\n    }();\n    var Menu = function() {\n        \"use strict\";\n        function Menu(o, www) {\n            var that = this;\n            o = o || {};\n            if (!o.node) {\n                $.error(\"node is required\");\n            }\n            www.mixin(this);\n            this.$node = $(o.node);\n            this.query = null;\n            this.datasets = _.map(o.datasets, initializeDataset);\n            function initializeDataset(oDataset) {\n                var node = that.$node.find(oDataset.node).first();\n                oDataset.node = node.length ? node : $(\"<div>\").appendTo(that.$node);\n                return new Dataset(oDataset, www);\n            }\n        }\n        _.mixin(Menu.prototype, EventEmitter, {\n            _onSelectableClick: function onSelectableClick($e) {\n                this.trigger(\"selectableClicked\", $($e.currentTarget));\n            },\n            _onRendered: function onRendered(type, dataset, suggestions, async) {\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                this.trigger(\"datasetRendered\", dataset, suggestions, async);\n            },\n            _onCleared: function onCleared() {\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                this.trigger(\"datasetCleared\");\n            },\n            _propagate: function propagate() {\n                this.trigger.apply(this, arguments);\n            },\n            _allDatasetsEmpty: function allDatasetsEmpty() {\n                return _.every(this.datasets, isDatasetEmpty);\n                function isDatasetEmpty(dataset) {\n                    return dataset.isEmpty();\n                }\n            },\n            _getSelectables: function getSelectables() {\n                return this.$node.find(this.selectors.selectable);\n            },\n            _removeCursor: function _removeCursor() {\n                var $selectable = this.getActiveSelectable();\n                $selectable && $selectable.removeClass(this.classes.cursor);\n            },\n            _ensureVisible: function ensureVisible($el) {\n                var elTop, elBottom, nodeScrollTop, nodeHeight;\n                elTop = $el.position().top;\n                elBottom = elTop + $el.outerHeight(true);\n                nodeScrollTop = this.$node.scrollTop();\n                nodeHeight = this.$node.height() + parseInt(this.$node.css(\"paddingTop\"), 10) + parseInt(this.$node.css(\"paddingBottom\"), 10);\n                if (elTop < 0) {\n                    this.$node.scrollTop(nodeScrollTop + elTop);\n                } else if (nodeHeight < elBottom) {\n                    this.$node.scrollTop(nodeScrollTop + (elBottom - nodeHeight));\n                }\n            },\n            bind: function() {\n                var that = this, onSelectableClick;\n                onSelectableClick = _.bind(this._onSelectableClick, this);\n                this.$node.on(\"click.tt\", this.selectors.selectable, onSelectableClick);\n                _.each(this.datasets, function(dataset) {\n                    dataset.onSync(\"asyncRequested\", that._propagate, that).onSync(\"asyncCanceled\", that._propagate, that).onSync(\"asyncReceived\", that._propagate, that).onSync(\"rendered\", that._onRendered, that).onSync(\"cleared\", that._onCleared, that);\n                });\n                return this;\n            },\n            isOpen: function isOpen() {\n                return this.$node.hasClass(this.classes.open);\n            },\n            open: function open() {\n                this.$node.addClass(this.classes.open);\n            },\n            close: function close() {\n                this.$node.removeClass(this.classes.open);\n                this._removeCursor();\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$node.attr(\"dir\", dir);\n            },\n            selectableRelativeToCursor: function selectableRelativeToCursor(delta) {\n                var $selectables, $oldCursor, oldIndex, newIndex;\n                $oldCursor = this.getActiveSelectable();\n                $selectables = this._getSelectables();\n                oldIndex = $oldCursor ? $selectables.index($oldCursor) : -1;\n                newIndex = oldIndex + delta;\n                newIndex = (newIndex + 1) % ($selectables.length + 1) - 1;\n                newIndex = newIndex < -1 ? $selectables.length - 1 : newIndex;\n                return newIndex === -1 ? null : $selectables.eq(newIndex);\n            },\n            setCursor: function setCursor($selectable) {\n                this._removeCursor();\n                if ($selectable = $selectable && $selectable.first()) {\n                    $selectable.addClass(this.classes.cursor);\n                    this._ensureVisible($selectable);\n                }\n            },\n            getSelectableData: function getSelectableData($el) {\n                return $el && $el.length ? Dataset.extractData($el) : null;\n            },\n            getActiveSelectable: function getActiveSelectable() {\n                var $selectable = this._getSelectables().filter(this.selectors.cursor).first();\n                return $selectable.length ? $selectable : null;\n            },\n            getTopSelectable: function getTopSelectable() {\n                var $selectable = this._getSelectables().first();\n                return $selectable.length ? $selectable : null;\n            },\n            update: function update(query) {\n                var isValidUpdate = query !== this.query;\n                if (isValidUpdate) {\n                    this.query = query;\n                    _.each(this.datasets, updateDataset);\n                }\n                return isValidUpdate;\n                function updateDataset(dataset) {\n                    dataset.update(query);\n                }\n            },\n            empty: function empty() {\n                _.each(this.datasets, clearDataset);\n                this.query = null;\n                this.$node.addClass(this.classes.empty);\n                function clearDataset(dataset) {\n                    dataset.clear();\n                }\n            },\n            destroy: function destroy() {\n                this.$node.off(\".tt\");\n                this.$node = $(\"<div>\");\n                _.each(this.datasets, destroyDataset);\n                function destroyDataset(dataset) {\n                    dataset.destroy();\n                }\n            }\n        });\n        return Menu;\n    }();\n    var DefaultMenu = function() {\n        \"use strict\";\n        var s = Menu.prototype;\n        function DefaultMenu() {\n            Menu.apply(this, [].slice.call(arguments, 0));\n        }\n        _.mixin(DefaultMenu.prototype, Menu.prototype, {\n            open: function open() {\n                !this._allDatasetsEmpty() && this._show();\n                return s.open.apply(this, [].slice.call(arguments, 0));\n            },\n            close: function close() {\n                this._hide();\n                return s.close.apply(this, [].slice.call(arguments, 0));\n            },\n            _onRendered: function onRendered() {\n                if (this._allDatasetsEmpty()) {\n                    this._hide();\n                } else {\n                    this.isOpen() && this._show();\n                }\n                return s._onRendered.apply(this, [].slice.call(arguments, 0));\n            },\n            _onCleared: function onCleared() {\n                if (this._allDatasetsEmpty()) {\n                    this._hide();\n                } else {\n                    this.isOpen() && this._show();\n                }\n                return s._onCleared.apply(this, [].slice.call(arguments, 0));\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$node.css(dir === \"ltr\" ? this.css.ltr : this.css.rtl);\n                return s.setLanguageDirection.apply(this, [].slice.call(arguments, 0));\n            },\n            _hide: function hide() {\n                this.$node.hide();\n            },\n            _show: function show() {\n                this.$node.css(\"display\", \"block\");\n            }\n        });\n        return DefaultMenu;\n    }();\n    var Typeahead = function() {\n        \"use strict\";\n        function Typeahead(o, www) {\n            var onFocused, onBlurred, onEnterKeyed, onTabKeyed, onEscKeyed, onUpKeyed, onDownKeyed, onLeftKeyed, onRightKeyed, onQueryChanged, onWhitespaceChanged;\n            o = o || {};\n            if (!o.input) {\n                $.error(\"missing input\");\n            }\n            if (!o.menu) {\n                $.error(\"missing menu\");\n            }\n            if (!o.eventBus) {\n                $.error(\"missing event bus\");\n            }\n            www.mixin(this);\n            this.eventBus = o.eventBus;\n            this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n            this.input = o.input;\n            this.menu = o.menu;\n            this.enabled = true;\n            this.active = false;\n            this.input.hasFocus() && this.activate();\n            this.dir = this.input.getLangDir();\n            this._hacks();\n            this.menu.bind().onSync(\"selectableClicked\", this._onSelectableClicked, this).onSync(\"asyncRequested\", this._onAsyncRequested, this).onSync(\"asyncCanceled\", this._onAsyncCanceled, this).onSync(\"asyncReceived\", this._onAsyncReceived, this).onSync(\"datasetRendered\", this._onDatasetRendered, this).onSync(\"datasetCleared\", this._onDatasetCleared, this);\n            onFocused = c(this, \"activate\", \"open\", \"_onFocused\");\n            onBlurred = c(this, \"deactivate\", \"_onBlurred\");\n            onEnterKeyed = c(this, \"isActive\", \"isOpen\", \"_onEnterKeyed\");\n            onTabKeyed = c(this, \"isActive\", \"isOpen\", \"_onTabKeyed\");\n            onEscKeyed = c(this, \"isActive\", \"_onEscKeyed\");\n            onUpKeyed = c(this, \"isActive\", \"open\", \"_onUpKeyed\");\n            onDownKeyed = c(this, \"isActive\", \"open\", \"_onDownKeyed\");\n            onLeftKeyed = c(this, \"isActive\", \"isOpen\", \"_onLeftKeyed\");\n            onRightKeyed = c(this, \"isActive\", \"isOpen\", \"_onRightKeyed\");\n            onQueryChanged = c(this, \"_openIfActive\", \"_onQueryChanged\");\n            onWhitespaceChanged = c(this, \"_openIfActive\", \"_onWhitespaceChanged\");\n            this.input.bind().onSync(\"focused\", onFocused, this).onSync(\"blurred\", onBlurred, this).onSync(\"enterKeyed\", onEnterKeyed, this).onSync(\"tabKeyed\", onTabKeyed, this).onSync(\"escKeyed\", onEscKeyed, this).onSync(\"upKeyed\", onUpKeyed, this).onSync(\"downKeyed\", onDownKeyed, this).onSync(\"leftKeyed\", onLeftKeyed, this).onSync(\"rightKeyed\", onRightKeyed, this).onSync(\"queryChanged\", onQueryChanged, this).onSync(\"whitespaceChanged\", onWhitespaceChanged, this).onSync(\"langDirChanged\", this._onLangDirChanged, this);\n        }\n        _.mixin(Typeahead.prototype, {\n            _hacks: function hacks() {\n                var $input, $menu;\n                $input = this.input.$input || $(\"<div>\");\n                $menu = this.menu.$node || $(\"<div>\");\n                $input.on(\"blur.tt\", function($e) {\n                    var active, isActive, hasActive;\n                    active = document.activeElement;\n                    isActive = $menu.is(active);\n                    hasActive = $menu.has(active).length > 0;\n                    if (_.isMsie() && (isActive || hasActive)) {\n                        $e.preventDefault();\n                        $e.stopImmediatePropagation();\n                        _.defer(function() {\n                            $input.focus();\n                        });\n                    }\n                });\n                $menu.on(\"mousedown.tt\", function($e) {\n                    $e.preventDefault();\n                });\n            },\n            _onSelectableClicked: function onSelectableClicked(type, $el) {\n                this.select($el);\n            },\n            _onDatasetCleared: function onDatasetCleared() {\n                this._updateHint();\n            },\n            _onDatasetRendered: function onDatasetRendered(type, dataset, suggestions, async) {\n                this._updateHint();\n                this.eventBus.trigger(\"render\", suggestions, async, dataset);\n            },\n            _onAsyncRequested: function onAsyncRequested(type, dataset, query) {\n                this.eventBus.trigger(\"asyncrequest\", query, dataset);\n            },\n            _onAsyncCanceled: function onAsyncCanceled(type, dataset, query) {\n                this.eventBus.trigger(\"asynccancel\", query, dataset);\n            },\n            _onAsyncReceived: function onAsyncReceived(type, dataset, query) {\n                this.eventBus.trigger(\"asyncreceive\", query, dataset);\n            },\n            _onFocused: function onFocused() {\n                this._minLengthMet() && this.menu.update(this.input.getQuery());\n            },\n            _onBlurred: function onBlurred() {\n                if (this.input.hasQueryChangedSinceLastFocus()) {\n                    this.eventBus.trigger(\"change\", this.input.getQuery());\n                }\n            },\n            _onEnterKeyed: function onEnterKeyed(type, $e) {\n                var $selectable;\n                if ($selectable = this.menu.getActiveSelectable()) {\n                    this.select($selectable) && $e.preventDefault();\n                }\n            },\n            _onTabKeyed: function onTabKeyed(type, $e) {\n                var $selectable;\n                if ($selectable = this.menu.getActiveSelectable()) {\n                    this.select($selectable) && $e.preventDefault();\n                } else if ($selectable = this.menu.getTopSelectable()) {\n                    this.autocomplete($selectable) && $e.preventDefault();\n                }\n            },\n            _onEscKeyed: function onEscKeyed() {\n                this.close();\n            },\n            _onUpKeyed: function onUpKeyed() {\n                this.moveCursor(-1);\n            },\n            _onDownKeyed: function onDownKeyed() {\n                this.moveCursor(+1);\n            },\n            _onLeftKeyed: function onLeftKeyed() {\n                if (this.dir === \"rtl\" && this.input.isCursorAtEnd()) {\n                    this.autocomplete(this.menu.getTopSelectable());\n                }\n            },\n            _onRightKeyed: function onRightKeyed() {\n                if (this.dir === \"ltr\" && this.input.isCursorAtEnd()) {\n                    this.autocomplete(this.menu.getTopSelectable());\n                }\n            },\n            _onQueryChanged: function onQueryChanged(e, query) {\n                this._minLengthMet(query) ? this.menu.update(query) : this.menu.empty();\n            },\n            _onWhitespaceChanged: function onWhitespaceChanged() {\n                this._updateHint();\n            },\n            _onLangDirChanged: function onLangDirChanged(e, dir) {\n                if (this.dir !== dir) {\n                    this.dir = dir;\n                    this.menu.setLanguageDirection(dir);\n                }\n            },\n            _openIfActive: function openIfActive() {\n                this.isActive() && this.open();\n            },\n            _minLengthMet: function minLengthMet(query) {\n                query = _.isString(query) ? query : this.input.getQuery() || \"\";\n                return query.length >= this.minLength;\n            },\n            _updateHint: function updateHint() {\n                var $selectable, data, val, query, escapedQuery, frontMatchRegEx, match;\n                $selectable = this.menu.getTopSelectable();\n                data = this.menu.getSelectableData($selectable);\n                val = this.input.getInputValue();\n                if (data && !_.isBlankString(val) && !this.input.hasOverflow()) {\n                    query = Input.normalizeQuery(val);\n                    escapedQuery = _.escapeRegExChars(query);\n                    frontMatchRegEx = new RegExp(\"^(?:\" + escapedQuery + \")(.+$)\", \"i\");\n                    match = frontMatchRegEx.exec(data.val);\n                    match && this.input.setHint(val + match[1]);\n                } else {\n                    this.input.clearHint();\n                }\n            },\n            isEnabled: function isEnabled() {\n                return this.enabled;\n            },\n            enable: function enable() {\n                this.enabled = true;\n            },\n            disable: function disable() {\n                this.enabled = false;\n            },\n            isActive: function isActive() {\n                return this.active;\n            },\n            activate: function activate() {\n                if (this.isActive()) {\n                    return true;\n                } else if (!this.isEnabled() || this.eventBus.before(\"active\")) {\n                    return false;\n                } else {\n                    this.active = true;\n                    this.eventBus.trigger(\"active\");\n                    return true;\n                }\n            },\n            deactivate: function deactivate() {\n                if (!this.isActive()) {\n                    return true;\n                } else if (this.eventBus.before(\"idle\")) {\n                    return false;\n                } else {\n                    this.active = false;\n                    this.close();\n                    this.eventBus.trigger(\"idle\");\n                    return true;\n                }\n            },\n            isOpen: function isOpen() {\n                return this.menu.isOpen();\n            },\n            open: function open() {\n                if (!this.isOpen() && !this.eventBus.before(\"open\")) {\n                    this.menu.open();\n                    this._updateHint();\n                    this.eventBus.trigger(\"open\");\n                }\n                return this.isOpen();\n            },\n            close: function close() {\n                if (this.isOpen() && !this.eventBus.before(\"close\")) {\n                    this.menu.close();\n                    this.input.clearHint();\n                    this.input.resetInputValue();\n                    this.eventBus.trigger(\"close\");\n                }\n                return !this.isOpen();\n            },\n            setVal: function setVal(val) {\n                this.input.setQuery(_.toStr(val));\n            },\n            getVal: function getVal() {\n                return this.input.getQuery();\n            },\n            select: function select($selectable) {\n                var data = this.menu.getSelectableData($selectable);\n                if (data && !this.eventBus.before(\"select\", data.obj)) {\n                    this.input.setQuery(data.val, true);\n                    this.eventBus.trigger(\"select\", data.obj);\n                    this.close();\n                    return true;\n                }\n                return false;\n            },\n            autocomplete: function autocomplete($selectable) {\n                var query, data, isValid;\n                query = this.input.getQuery();\n                data = this.menu.getSelectableData($selectable);\n                isValid = data && query !== data.val;\n                if (isValid && !this.eventBus.before(\"autocomplete\", data.obj)) {\n                    this.input.setQuery(data.val);\n                    this.eventBus.trigger(\"autocomplete\", data.obj);\n                    return true;\n                }\n                return false;\n            },\n            moveCursor: function moveCursor(delta) {\n                var query, $candidate, data, payload, cancelMove;\n                query = this.input.getQuery();\n                $candidate = this.menu.selectableRelativeToCursor(delta);\n                data = this.menu.getSelectableData($candidate);\n                payload = data ? data.obj : null;\n                cancelMove = this._minLengthMet() && this.menu.update(query);\n                if (!cancelMove && !this.eventBus.before(\"cursorchange\", payload)) {\n                    this.menu.setCursor($candidate);\n                    if (data) {\n                        this.input.setInputValue(data.val);\n                    } else {\n                        this.input.resetInputValue();\n                        this._updateHint();\n                    }\n                    this.eventBus.trigger(\"cursorchange\", payload);\n                    return true;\n                }\n                return false;\n            },\n            destroy: function destroy() {\n                this.input.destroy();\n                this.menu.destroy();\n            }\n        });\n        return Typeahead;\n        function c(ctx) {\n            var methods = [].slice.call(arguments, 1);\n            return function() {\n                var args = [].slice.call(arguments);\n                _.each(methods, function(method) {\n                    return ctx[method].apply(ctx, args);\n                });\n            };\n        }\n    }();\n    (function() {\n        \"use strict\";\n        var old, keys, methods;\n        old = $.fn.typeahead;\n        keys = {\n            www: \"tt-www\",\n            attrs: \"tt-attrs\",\n            typeahead: \"tt-typeahead\"\n        };\n        methods = {\n            initialize: function initialize(o, datasets) {\n                var www;\n                datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n                o = o || {};\n                www = WWW(o.classNames);\n                return this.each(attach);\n                function attach() {\n                    var $input, $wrapper, $hint, $menu, defaultHint, defaultMenu, eventBus, input, menu, typeahead, MenuConstructor;\n                    _.each(datasets, function(d) {\n                        d.highlight = !!o.highlight;\n                    });\n                    $input = $(this);\n                    $wrapper = $(www.html.wrapper);\n                    $hint = $elOrNull(o.hint);\n                    $menu = $elOrNull(o.menu);\n                    defaultHint = o.hint !== false && !$hint;\n                    defaultMenu = o.menu !== false && !$menu;\n                    defaultHint && ($hint = buildHintFromInput($input, www));\n                    defaultMenu && ($menu = $(www.html.menu).css(www.css.menu));\n                    $hint && $hint.val(\"\");\n                    $input = prepInput($input, www);\n                    if (defaultHint || defaultMenu) {\n                        $wrapper.css(www.css.wrapper);\n                        $input.css(defaultHint ? www.css.input : www.css.inputWithNoHint);\n                        $input.wrap($wrapper).parent().prepend(defaultHint ? $hint : null).append(defaultMenu ? $menu : null);\n                    }\n                    MenuConstructor = defaultMenu ? DefaultMenu : Menu;\n                    eventBus = new EventBus({\n                        el: $input\n                    });\n                    input = new Input({\n                        hint: $hint,\n                        input: $input\n                    }, www);\n                    menu = new MenuConstructor({\n                        node: $menu,\n                        datasets: datasets\n                    }, www);\n                    typeahead = new Typeahead({\n                        input: input,\n                        menu: menu,\n                        eventBus: eventBus,\n                        minLength: o.minLength\n                    }, www);\n                    $input.data(keys.www, www);\n                    $input.data(keys.typeahead, typeahead);\n                }\n            },\n            isEnabled: function isEnabled() {\n                var enabled;\n                ttEach(this.first(), function(t) {\n                    enabled = t.isEnabled();\n                });\n                return enabled;\n            },\n            enable: function enable() {\n                ttEach(this, function(t) {\n                    t.enable();\n                });\n                return this;\n            },\n            disable: function disable() {\n                ttEach(this, function(t) {\n                    t.disable();\n                });\n                return this;\n            },\n            isActive: function isActive() {\n                var active;\n                ttEach(this.first(), function(t) {\n                    active = t.isActive();\n                });\n                return active;\n            },\n            activate: function activate() {\n                ttEach(this, function(t) {\n                    t.activate();\n                });\n                return this;\n            },\n            deactivate: function deactivate() {\n                ttEach(this, function(t) {\n                    t.deactivate();\n                });\n                return this;\n            },\n            isOpen: function isOpen() {\n                var open;\n                ttEach(this.first(), function(t) {\n                    open = t.isOpen();\n                });\n                return open;\n            },\n            open: function open() {\n                ttEach(this, function(t) {\n                    t.open();\n                });\n                return this;\n            },\n            close: function close() {\n                ttEach(this, function(t) {\n                    t.close();\n                });\n                return this;\n            },\n            select: function select(el) {\n                var success = false, $el = $(el);\n                ttEach(this.first(), function(t) {\n                    success = t.select($el);\n                });\n                return success;\n            },\n            autocomplete: function autocomplete(el) {\n                var success = false, $el = $(el);\n                ttEach(this.first(), function(t) {\n                    success = t.autocomplete($el);\n                });\n                return success;\n            },\n            moveCursor: function moveCursoe(delta) {\n                var success = false;\n                ttEach(this.first(), function(t) {\n                    success = t.moveCursor(delta);\n                });\n                return success;\n            },\n            val: function val(newVal) {\n                var query;\n                if (!arguments.length) {\n                    ttEach(this.first(), function(t) {\n                        query = t.getVal();\n                    });\n                    return query;\n                } else {\n                    ttEach(this, function(t) {\n                        t.setVal(newVal);\n                    });\n                    return this;\n                }\n            },\n            destroy: function destroy() {\n                ttEach(this, function(typeahead, $input) {\n                    revert($input);\n                    typeahead.destroy();\n                });\n                return this;\n            }\n        };\n        $.fn.typeahead = function(method) {\n            if (methods[method]) {\n                return methods[method].apply(this, [].slice.call(arguments, 1));\n            } else {\n                return methods.initialize.apply(this, arguments);\n            }\n        };\n        $.fn.typeahead.noConflict = function noConflict() {\n            $.fn.typeahead = old;\n            return this;\n        };\n        function ttEach($els, fn) {\n            $els.each(function() {\n                var $input = $(this), typeahead;\n                (typeahead = $input.data(keys.typeahead)) && fn(typeahead, $input);\n            });\n        }\n        function buildHintFromInput($input, www) {\n            return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop(\"readonly\", true).removeAttr(\"id name placeholder required\").attr({\n                autocomplete: \"off\",\n                spellcheck: \"false\",\n                tabindex: -1\n            });\n        }\n        function prepInput($input, www) {\n            $input.data(keys.attrs, {\n                dir: $input.attr(\"dir\"),\n                autocomplete: $input.attr(\"autocomplete\"),\n                spellcheck: $input.attr(\"spellcheck\"),\n                style: $input.attr(\"style\")\n            });\n            $input.addClass(www.classes.input).attr({\n                autocomplete: \"off\",\n                spellcheck: false\n            });\n            try {\n                !$input.attr(\"dir\") && $input.attr(\"dir\", \"auto\");\n            } catch (e) {}\n            return $input;\n        }\n        function getBackgroundStyles($el) {\n            return {\n                backgroundAttachment: $el.css(\"background-attachment\"),\n                backgroundClip: $el.css(\"background-clip\"),\n                backgroundColor: $el.css(\"background-color\"),\n                backgroundImage: $el.css(\"background-image\"),\n                backgroundOrigin: $el.css(\"background-origin\"),\n                backgroundPosition: $el.css(\"background-position\"),\n                backgroundRepeat: $el.css(\"background-repeat\"),\n                backgroundSize: $el.css(\"background-size\")\n            };\n        }\n        function revert($input) {\n            var www, $wrapper;\n            www = $input.data(keys.www);\n            $wrapper = $input.parent().filter(www.selectors.wrapper);\n            _.each($input.data(keys.attrs), function(val, key) {\n                _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n            });\n            $input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input);\n            if ($wrapper.length) {\n                $input.detach().insertAfter($wrapper);\n                $wrapper.remove();\n            }\n        }\n        function $elOrNull(obj) {\n            var isValid, $el;\n            isValid = _.isJQuery(obj) || _.isElement(obj);\n            $el = isValid ? $(obj).first() : [];\n            return $el.length ? $el : null;\n        }\n    })();\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(40).setImmediate))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/vendor/typeahead.js\n ** module id = 39\n ** module chunks = 2 3\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/vendor/typeahead.js?");

/***/ },
/* 40 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(41).nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(40).setImmediate, __webpack_require__(40).clearImmediate))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 40\n ** module chunks = 2 3\n **/\n//# sourceURL=webpack:///./~/timers-browserify/main.js?");

/***/ },
/* 41 */
/***/ function(module, exports) {

	eval("// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 41\n ** module chunks = 2 3\n **/\n//# sourceURL=webpack:///./~/process/browser.js?");

/***/ },
/* 42 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n *\n * @param FormState\n * @param container\n * @returns {*}\n */\nfunction init(FormState, container) {\n  var Step1 = __webpack_require__(37);\n  return new Step1(FormState, container);\n}\n\nmodule.exports = init;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/form/compare/step-2.js\n ** module id = 42\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/form/compare/step-2.js?");

/***/ },
/* 43 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {/**\n * Constructor\n * @param FormState\n * @param container\n * @constructor\n */\nfunction Step(FormState, container) {\n  this.container = container;\n  this.$select = $(container);\n  this.firstStep = FormState.firstStep;\n  this.secondStep = FormState.secondStep;\n  this.$loader = $('<div class=\"loader\"></div>');\n  this.init();\n}\n/**\n * Init step\n */\nStep.prototype.init = function init() {\n  this.handlerOnChangeSelect();\n  this.handlerOnClickSelect();\n};\n/**\n * (Ajax, DOM)\n *\n * Unlock step\n */\nStep.prototype.unlock = function unlock() {\n  this.loading(true);\n  this.loadMatchedCategories();\n  this.$select.toggleClass('disabled', false);\n};\n/**\n * Lock step\n */\nStep.prototype.lock = function lock() {\n  this.$select.html('<option>' + this.$select.data('default-item') + '</option>');\n  this.$select.toggleClass('disabled', true);\n};\n/**\n * (DOM)\n *\n * Loading state\n * @param isLoading\n */\nStep.prototype.loading = function loading(isLoading) {\n  var display = isLoading ? 'none' : 'block';\n  this.$select.css({ display: display });\n  if (isLoading) {\n    this.$select.parent().append(this.$loader);\n  } else {\n    this.$loader.remove();\n  }\n};\n/**\n * (DOM)\n *\n * Manipulate tab state\n */\nStep.prototype.switchGraphs = function switchGraphs() {\n  var $preloader = $('<div class=\"loader\"></div>');\n  var $firstPie = $('#total-compare-first-pie');\n  var $secondPie = $('#total-compare-second-pie');\n  var $compareColumn = $('#total-compare-column');\n  // Add background on selected items\n  $('.government-categories .category').removeClass('selected');\n  $('.government-categories .caption').addClass('selected');\n  // View state\n  $compareColumn.show();\n  $firstPie.hide();\n  $secondPie.hide();\n  // Show preloaders\n  $compareColumn.find('p').append($preloader);\n};\n/**\n * (Ajax, DOM)\n */\nStep.prototype.loadMatchedCategories = function loadMatchedCategories() {\n  var self = this;\n  var captions = {\n    captions: [\n      {\n        id: self.firstStep.data.id,\n        year: self.firstStep.data.year,\n        altType: self.firstStep.data.altType\n      },\n      {\n        id: self.secondStep.data.id,\n        year: self.secondStep.data.year,\n        altType: self.secondStep.data.altType\n      }\n    ]\n  };\n  var captionsJson = JSON.stringify(captions);\n  $.ajax({\n    url: window.gw.urls.captions,\n    type: 'POST',\n    contentType: 'application/json',\n    data: captionsJson,\n    success: function success(data) {\n      var availableTabs;\n      self.loading(false);\n      if (!data || data.length === 0) {\n        alert('Not can find categories for current comparison');\n        self.lock();\n        return true;\n      }\n      self.$select.toggleClass('disabled', false);\n      availableTabs = [];\n\n      data.forEach(function loop(item) {\n        if (availableTabs.indexOf(item.translatedTab) === -1) {\n          availableTabs.push({\n            translated: item.translatedTab,\n            normal: item.tab\n          });\n        }\n      });\n\n      availableTabs.forEach(function loop(tab) {\n        self.$select.append('<optgroup data-name=\"' + tab.normal + '\" label=\"' + tab.translated + '\"></optgroup>');\n      });\n      data.forEach(function loop(caption) {\n        var value = caption.fieldName || caption.name;\n        var $expenditureGroup = self.$select.find('[label=\"' + caption.translatedTab + '\"]');\n        $expenditureGroup.append('<option value=\"' + value + '\">' + caption.translatedName + '</option>');\n      });\n      return true;\n    },\n    error: function error() {\n      self.loading(false);\n      alert('Something wrong, please try another government');\n      self.$select.toggleClass('disabled', true);\n    }\n  });\n};\n/**\n * @param data\n * @param blockId\n */\nStep.prototype.drawDiagramm = function drawDiagramm(government, blockId, captionCategory) {\n  var chart;\n  var options;\n  var rows;\n  var visData;\n  var captions;\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Caption');\n  visData.addColumn('number', 'Total Funds');\n  rows = [];\n  rows.push(['Total ' + captionCategory, parseInt(government.total, 10)]);\n  captions = government.data;\n  captions.forEach(function loop(item) {\n    rows.push([item.caption, parseInt(item.amount, 10)]);\n  });\n  visData.addRows(rows);\n  options = {\n    title: 'Compare',\n    titleTextStyle: {\n      fontSize: 16\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    pieStartAngle: 60,\n    sliceVisibilityThreshold: 0,\n    forceIFrame: true,\n    chartArea: {\n      left: \"3%\",\n      top: \"13%\",\n      height: \"94%\",\n      width: \"94%\"\n    },\n    legend: {\n      position: 'top', maxLines: '6'\n    }\n  };\n  chart = new google.visualization.PieChart(document.getElementById(blockId));\n  chart.draw(visData, options);\n};\n/**\n * (Ajax, DOM)\n * TODO: Draft\n * If option selected, draw chart\n */\nStep.prototype.handlerOnChangeSelect = function handlerOnChangeSelect() {\n  var self = this;\n  var data;\n  $(self.container).on('change', function change(e) {\n    var $el = $(e.target);\n    var $selected = $el.find('option:selected');\n    var caption = $selected.text();\n    var tab = $selected.parent('optgroup').data('name');\n    if (!caption) {\n      alert('Please select one of captions');\n      return true;\n    }\n    self.switchGraphs();\n    data = {\n      firstGovernment: {\n        id: self.firstStep.data.id,\n        name: self.firstStep.data.name,\n        year: self.firstStep.data.year\n      },\n      secondGovernment: {\n        id: self.secondStep.data.id,\n        name: self.secondStep.data.name,\n        year: self.firstStep.data.year\n      },\n      caption: caption,\n      tab: tab\n    };\n    if (tab !== 'Financial Statement') {\n      data.fieldName = $selected.val();\n    }\n    data = JSON.stringify(data);\n    console.log(data);\n    $.ajax({\n      url: window.gw.urls.compare,\n      type: 'POST',\n      data: data,\n      contentType: 'application/json',\n      success: function success(comparedData) {\n        self.drawColumnChart(comparedData, 'total-compare-column');\n      }\n    });\n\n    return true;\n  });\n};\n/**\n * (Ajax, DOM)\n *\n * Check third input, if previous form items filled correct - load governments categories\n */\nStep.prototype.handlerOnClickSelect = function handlerOnClickSelect() {\n  var self = this;\n  self.$select.on('mousedown', function mousedown(e) {\n    var $el = $(e.target);\n    if ($el.hasClass('disabled')) {\n      alert('Please, first select governments');\n      return false;\n    } else if (!self.firstStep.completed || !self.secondStep.completed) {\n      alert('Please, first enter all fields');\n      return false;\n    }\n\n    return true;\n  });\n};\nStep.prototype.drawColumnChart = function drawColumnChart(comparedData, blockId) {\n  var chart;\n  var options;\n  var rows;\n  var visData;\n  var firstGovernment = comparedData.firstGovernment;\n  var secondGovernment = comparedData.secondGovernment;\n  rows = [\n    ['City', 'Amount']\n  ];\n  rows.push([firstGovernment.name, parseInt(firstGovernment.data[0].amount, 10)]);\n  rows.push([secondGovernment.name, parseInt(secondGovernment.data[0].amount, 10)]);\n  options = {\n    title: comparedData.caption,\n    titleTextStyle: {\n      fontSize: 16\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    pieStartAngle: 60,\n    sliceVisibilityThreshold: 0.05,\n    forceIFrame: true,\n    chartArea: {\n      width: '90%',\n      height: '75%'\n    }\n  };\n  visData = google.visualization.arrayToDataTable(rows);\n  chart = new google.visualization.ColumnChart(document.getElementById(blockId));\n  chart.draw(visData, options);\n};\nmodule.exports = Step;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/form/compare/step-3.js\n ** module id = 43\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/form/compare/step-3.js?");

/***/ },
/* 44 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {var rowSortFunction = __webpack_require__(34).rowSortFunction;\n/**\n * Constructor\n * @param FormState\n * @param container\n * @constructor\n */\nfunction Step(FormState, container) {\n  this.container = container;\n  this.$select = $(container);\n  this.firstStep = FormState.firstStep;\n  this.secondStep = FormState.secondStep;\n  this.init();\n}\n/**\n * Init step\n */\nStep.prototype.init = function init() {\n  this.handlerOnChangeSelect();\n  this.handlerOnClickSelect();\n};\n\n/**\n * (Ajax, DOM)\n *\n * Unlock step\n */\nStep.prototype.unlock = function unlock() {\n  this.$select.toggleClass('disabled', false);\n};\n\n/**\n * Lock step\n */\nStep.prototype.lock = function lock() {\n  this.$select.toggleClass('disabled', true);\n};\n\n/**\n * @param government\n * @param blockId\n * @param comparedData\n */\nStep.prototype.drawDiagramm = function drawDiagramm(government, blockId, comparedData) {\n  var chart;\n  var options;\n  var rows;\n  var visData;\n  var captions;\n  visData = new google.visualization.DataTable();\n  visData.addColumn('string', 'Caption');\n  visData.addColumn('number', 'Total Funds');\n  rows = [];\n  captions = government.data;\n  captions.forEach(function loop(item) {\n    var _item = _.assign({}, item);\n    if (_item.amount < 0) {\n      _item.amount = -parseInt(_item.amount, 10);\n    }\n    rows.push([_item.translatedCaption, parseInt(_item.amount, 10)]);\n  });\n\n  rows.sort(rowSortFunction);\n  visData.addRows(rows);\n  options = {\n    title: 'Total ' + comparedData.translatedCategory + ': ' + government.name,\n    titleTextStyle: {\n      fontSize: 16\n    },\n    tooltip: {\n      textStyle: {\n        fontSize: 12\n      }\n    },\n    width: '100%',\n    height: '100%',\n    sliceVisibilityThreshold: 0,\n    forceIFrame: true,\n    chartArea: {\n      left: \"3%\",\n      top: \"13%\",\n      height: \"94%\",\n      width: \"94%\"\n    },\n    legend: {\n      position: 'top', maxLines: '6'\n    }\n  };\n  chart = new google.visualization.PieChart(document.getElementById(blockId));\n  chart.draw(visData, options);\n};\n/**\n * (DOM)\n *\n * Manipulate tab state\n */\nStep.prototype.switchGraphs = function switchGraphs() {\n  var $firstPie = $('#total-compare-first-pie');\n  var $secondPie = $('#total-compare-second-pie');\n  var $compareColumn = $('#total-compare-column');\n  var $firstPreloader = $('<div class=\"loader\"></div>');\n  var $secondPreloader = $('<div class=\"loader\"></div>');\n  // Add background on selected items\n  $('.government-categories .category').addClass('selected');\n  $('.government-categories .caption').removeClass('selected');\n  // View state\n  $compareColumn.hide();\n  $firstPie.show();\n  $secondPie.show();\n  // Show preloaders\n  $firstPie.find('p').append($firstPreloader);\n  $secondPie.find('p').append($secondPreloader);\n};\n/**\n *\n * @param container\n * @param comparedData\n */\nStep.prototype.drawTable = function drawTable(container, comparedData) {\n  var $container;\n  var governmentNumber;\n  var category;\n  var governmentName;\n  var year;\n  var thead;\n  var tbody;\n  $container = $(container);\n  $container.html('');\n  governmentNumber = (container === '.compare-first-table') ? 'firstGovernment' : 'secondGovernment';\n  category = comparedData.translatedCategory;\n  governmentName = comparedData[governmentNumber].name;\n  year = comparedData[governmentNumber].year;\n  thead = '<thead><tr><th colspan=\"2\" style=\"text-align: center\">' + governmentName +\n  ' (' + year + ')</th></tr><tr><th>' + category + '</th><th> Total </th></tr>></thead>';\n  tbody = '<tbody>';\n  comparedData[governmentNumber].data.forEach(function loop(row) {\n    tbody += '<tr><td>' + row.translatedCaption + '</td><td>' + numeral(row.amount).format('$0,0') + '</td></tr>';\n  });\n  tbody += '</tbody>';\n  $container.append(thead);\n  $container.append(tbody);\n};\n/**\n * (Ajax, DOM)\n * TODO: Draft\n * If option selected, draw chart\n */\nStep.prototype.handlerOnChangeSelect = function handlerOnChangeSelect() {\n  var self = this;\n  $(self.container).on('change', function change(e) {\n    var $el = $(e.target);\n    var $selected = $el.find('option:selected');\n    var tab = $selected.parent('optgroup').data('name');\n    var category = $selected.val();\n    if (!category) {\n      alert('Please select one of category');\n      return true;\n    }\n    self.loadComparedData(tab, category);\n    return true;\n  });\n  return true;\n};\n/**\n * (Ajax, DOM)\n *\n * Load compared data for two governments\n * Draw table, and charts\n *\n * @param {String} tab - example: 'Financial Statement', 'General Information', 'Financial Highlights', ...\n * @param {String} category - only two: 'Revenues', 'Expenditures'\n * @param {Boolean} select - true(mark category in select as active/selected), false(not mark)\n */\nStep.prototype.loadComparedData = function loadComparedData(tab, category, select) {\n  var data;\n  var self = this;\n  if (!tab || !category) {\n    alert('Something went wrong, please contact with us');\n    console.error('Please pass all required arguments into loadComparedData() function');\n    return false;\n  }\n  if (select) {\n    self.$select.find('[value=\"' + category + '\"]').attr('selected', true);\n  }\n  data = {\n    firstGovernment: {\n      id: self.firstStep.data.id,\n      name: self.firstStep.data.name,\n      year: self.firstStep.data.year\n    },\n    secondGovernment: {\n      id: self.secondStep.data.id,\n      name: self.secondStep.data.name,\n      year: self.secondStep.data.year\n    },\n    category: category,\n    tab: tab\n  };\n  data = JSON.stringify(data);\n  $.ajax({\n    url: window.gw.urls.compare,\n    type: 'POST',\n    data: data,\n    contentType: 'application/json',\n    success: function success(comparedData) {\n      self.switchGraphs();\n      self.drawTable('.compare-first-table', comparedData);\n      self.drawTable('.compare-second-table', comparedData);\n      self.drawDiagramm(comparedData.firstGovernment, 'total-compare-first-pie', comparedData);\n      self.drawDiagramm(comparedData.secondGovernment, 'total-compare-second-pie', comparedData);\n    },\n    error: function error() {\n      alert('Cant load data for this governments, please try later');\n      return true;\n    }\n  });\n  return true;\n};\n/**\n * (Ajax, DOM)\n *\n * Check third input, if previous form items filled correct - load governments categories\n */\nStep.prototype.handlerOnClickSelect = function handlerOnClickSelect() {\n  var self = this;\n  self.$select.on('mousedown', function mousedown(e) {\n    var $el = $(e.target);\n    if ($el.hasClass('disabled')) {\n      alert('Please, first select governments');\n    } else if (!self.firstStep.completed || !self.secondStep.completed) {\n      alert('Please, first enter all fields');\n    }\n    return true;\n  });\n};\nmodule.exports = Step;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/GovWiki/MobileBundle/Resources/public/js/government/form/compare/step-3-1.js\n ** module id = 44\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./src/GovWiki/MobileBundle/Resources/public/js/government/form/compare/step-3-1.js?");

/***/ }
]);