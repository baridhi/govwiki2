webpackJsonp([1],[function(e,t,a){$(function(){a(1),new(a(7));var e,t,n,o,r=a(9),i=a(23),l=a(24),s=a(25),c={firstStep:{completed:!0,data:{},complete:function(){this.completed=!0,t.unlock(),c.firstStep.completed&&c.secondStep.completed&&(o.unlock(),n.unlock())},incomplete:function(){this.completed=!1,t.lock(),n.lock(),o.lock()}},secondStep:{completed:!1,data:{},complete:function(){this.completed=!0,c.firstStep.completed&&c.secondStep.completed&&(o.unlock(),n.unlock())},incomplete:function(){this.completed=!1,o.lock(),n.lock()}},thirdStep:{completed:!1,data:{},complete:function(){this.completed=!1},incomplete:function(){this.completed=!0}},thirdOneStep:{completed:!1,data:{},complete:function(){this.completed=!1},incomplete:function(){this.completed=!0}}};e=new r(c,".first-condition"),e.unlock(),t=new i(c,".second-condition"),t.lock(),n=new l(c,".government-categories .caption"),n.lock(),o=new s(c,".government-categories .category"),o.lock(),$("#fin-stmt-year").change(function(){var e=$(this);e.closest("form").submit(),window.localStorage.setItem("tab","Financial_Statements")});var u=window.localStorage.getItem("tab");u&&(window.localStorage.removeItem("tab"),$('.nav-pills a[href="#'+u+'"]').tab("show"))})},function(e,t,a){function n(){o()}function o(){$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=$(e.target).attr("data-tabname");switch(t){case"Quality of Services":break;case"Employee Compensation":r.initAll();break;case"Financial Health":i.initAll();break;case"Financial Financial_Statements":l.initAll()}})}var r=a(2),i=a(5),l=a(6);google.load("visualization","1.0",{packages:["treemap","corechart"],callback:n})},function(e,t,a){function n(){o(),r()}function o(){function e(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}if(i.median_salary_per_full_time_emp||(i.median_salary_per_full_time_emp=i.median_salary_for_full_time_employees),i.median_benefits_per_ft_emp||(i.median_benefits_per_ft_emp=i.median_benefits_for_full_time_employees),0==i.median_wages_general_public&&(i.median_wages_general_public=void 0),0==i.median_benefits_general_public&&(i.median_benefits_general_public=void 0),i.median_salary_per_full_time_emp&&i.median_benefits_per_ft_emp&&i.median_wages_general_public&&i.median_benefits_general_public){var t,a,n,o;o=new google.visualization.DataTable,o.addColumn("string","Median Compensation"),o.addColumn("number","Wages"),o.addColumn("number","Bens."),o.addRows([[e(i.name+"\n Employees"),+i.median_salary_per_full_time_emp,+i.median_benefits_per_ft_emp],["All \n"+e(i.name+" \n Residents"),+i.median_wages_general_public,+i.median_benefits_general_public]]),a=new google.visualization.NumberFormat({groupingSymbol:",",fractionDigits:"0"}),a.format(o,1),a.format(o,2),n={title:"Median Total Compensation - Full Time Workers: \n Government vs. Private Sector",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:340,height:300,isStacked:"true",colors:["#005ce6","#009933"]},t=new google.visualization.ColumnChart(document.getElementById("median-comp-graph")),t.draw(o,n)}}function r(){if(i.median_pension30_year_retiree||(i.median_pension30_year_retiree=i.median_pension_for_retiree_with_30_years_service),i.median_pension30_year_retiree){var e,t,a,n;n=new google.visualization.DataTable,n.addColumn("string","Median Pension"),n.addColumn("number","Wages"),n.addRows([["Pension for \n Retiree w/ 30 Years",+i.median_pension30_year_retiree]]),t=new google.visualization.NumberFormat({groupingSymbol:",",fractionDigits:"0"}),t.format(n,1),a={title:"Median Total Pension",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:340,height:300,bar:{groupWidth:"30%"},isStacked:"true",colors:["#005ce6","#009933"]},e=new google.visualization.ColumnChart(document.getElementById("median-pension-graph")),e.draw(n,a)}}var i=a(3).data;a(4).chart;e.exports={init:n,initAll:n}},function(e,t){var a=JSON.parse(window.gw.government);e.exports={data:a}},function(e,t){var a={employeeCompensation_one:{init:!1},employeeCompensation_two:{init:!1},financialHealth_one:{init:!1},financialHealth_two:{init:!1},financialHealth_three:{init:!1},financialStatements_expenditures:{init:!1},financialStatements_revenues:{init:!1},financialStatementsTree:{init:!1},financialStatementsTree_expenditures:{init:!1},financialStatementsTree_revenues:{init:!1}};e.exports={chart:a}},function(e,t,a){function n(){o(),r(),i()}function o(){if(l.public_safety_exp_over_tot_gov_fund_revenue||(l.public_safety_exp_over_tot_gov_fund_revenue=l.public_safety_expense_total_governmental_fund_revenue),l.public_safety_exp_over_tot_gov_fund_revenue){var e,t,a;a=new google.visualization.DataTable,a.addColumn("string","Public Safety Expense"),a.addColumn("number","Total"),a.addRows([["Public Safety Exp",1-l.public_safety_exp_over_tot_gov_fund_revenue],["Other",+l.public_safety_exp_over_tot_gov_fund_revenue]]),t={title:"Public safety expense",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:340,height:300,is3D:"true",colors:["#005ce6","#009933"],slices:{1:{offset:.2}},pieStartAngle:45};var n=document.getElementById("public-safety-pie");n&&(e=new google.visualization.PieChart(n),e.draw(a,t))}}function r(){if(l.total_revenue_per_capita){var e,t,a;a=new google.visualization.DataTable,a.addColumn("string","Per Capita"),a.addColumn("number","Rev."),a.addRows([["Total Revenue \n Per Capita",+l.total_revenue_per_capita],["Median Total \n Revenue Per \n Capita For All Cities",420]]),t={title:"Total Revenue",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:340,height:300,isStacked:"true",colors:["#005ce6","#009933"],"chartArea.width":"100%"},e=new google.visualization.ColumnChart(document.getElementById("fin-health-revenue-graph")),e.draw(a,t)}}function i(){if(l.total_expenditures_per_capita){var e,t,a;a=new google.visualization.DataTable,a.addColumn("string","Per Capita"),a.addColumn("number","Exp."),a.addRows([["Total Expenditures \n Per Capita",+l.total_expenditures_per_capita],["Median Total \n Expenditures \n Per Capita \n For All Cities",420]]),t={title:"Total Expenditures",titleTextStyle:{fontSize:12},tooltip:{textStyle:{fontSize:12}},width:340,height:300,isStacked:"true",colors:["#005ce6","#009933"],"chartArea.width":"100%"},e=new google.visualization.ColumnChart(document.getElementById("fin-health-expenditures-graph")),e.draw(a,t)}}var l=a(3).data;a(4).chart;e.exports={init:n,initAll:n}},function(e,t,a){function n(){s(),o(),r()}function o(){var e,t,a,n,o;o=new google.visualization.DataTable,o.addColumn("string","Total Gov. Expenditures"),o.addColumn("number","Total"),n=[];var r=c.financialStatements.Revenues;for(var i in r)r.hasOwnProperty(i)&&"Total Revenues"!=r[i].caption&&(a=[r[i].caption,parseInt(r[i].totalfunds)],n.push(a));o.addRows(n),t={title:"Total Revenues",titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:470,height:350,pieStartAngle:60,sliceVisibilityThreshold:.05,forceIFrame:!0,chartArea:{width:"90%",height:"75%"}},e=new google.visualization.PieChart(document.getElementById("total-revenue-pie")),e.draw(o,t)}function r(){var e,t,a,n,o;o=new google.visualization.DataTable,o.addColumn("string","Total Gov. Expenditures"),o.addColumn("number","Total"),n=[];var r=c.financialStatements.Expenditures;for(var i in r)r.hasOwnProperty(i)&&"Total Expenditures"!=r[i].caption&&(a=[r[i].caption,parseInt(r[i].totalfunds)],n.push(a));o.addRows(n),t={title:"Total Expenditures",titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:470,height:350,pieStartAngle:60,sliceVisibilityThreshold:.05,forceIFrame:!0,chartArea:{width:"90%",height:"75%"}},e=new google.visualization.PieChart(document.getElementById("total-expenditures-pie")),e.draw(o,t)}function i(){function e(e){return e.totalfunds&&e.totalfunds<0&&(e.totalfunds=-e.totalfunds),e.totalfunds||!1}function t(e,t,a){var n=r.getValue(e,2);return'<div style="background:#7bbaff; color: #fff; padding:10px; border-style:solid">Total Funds: '+numeral(n).format("$0,0")}var a,n,o,r;o=[["Location","Parent","FinData","Heat"],["Total Revenues",null,0,0]];var i=c.financialStatements.Revenues;for(var l in i)if(i.hasOwnProperty(l)){var s=i[l],u=e(s);if(!u)continue;o.push([s.caption,"Total Revenues",parseInt(u),parseInt(u)])}var n={highlightOnMouseOver:!0,maxDepth:1,maxPostDepth:2,minHighlightColor:"#8c6bb1",midHighlightColor:"#9ebcda",maxHighlightColor:"#edf8fb",minColor:"#009688",midColor:"#f7f7f7",maxColor:"#ee8100",headerHeight:15,showScale:!0,height:500,useWeightedAverageForAggregation:!0,generateTooltip:t};r=new google.visualization.arrayToDataTable(o),a=new google.visualization.TreeMap(document.getElementById("total-revenue-tree")),a.draw(r,n)}function l(){function e(e){return e.totalfunds&&e.totalfunds<0&&(e.totalfunds=-e.totalfunds),e.totalfunds||!1}function t(e,t,a){var n=r.getValue(e,2);return'<div style="background:#7bbaff; color: #fff; padding:10px; border-style:solid">Total Funds: '+numeral(n).format("$0,0")}var a,n,o,r;o=[["Location","Parent","FinData","Heat"],["Total Expenditures",null,0,0]];var i=c.financialStatements.Expenditures;for(var l in i)if(i.hasOwnProperty(l)){var s=i[l],u=e(s);if(!u)continue;o.push([s.caption,"Total Expenditures",parseInt(u),parseInt(u)])}var n={highlightOnMouseOver:!0,maxDepth:1,maxPostDepth:2,minHighlightColor:"#8c6bb1",midHighlightColor:"#9ebcda",maxHighlightColor:"#edf8fb",minColor:"#009688",midColor:"#f7f7f7",maxColor:"#ee8100",headerHeight:15,showScale:!0,height:500,useWeightedAverageForAggregation:!0,generateTooltip:t};r=new google.visualization.arrayToDataTable(o),a=new google.visualization.TreeMap(document.getElementById("total-expenditures-tree")),a.draw(r,n)}function s(){function e(e,t){var a=t?{display:"none"}:{display:"block"};"pie-charts"==e?($("#total-expenditures-pie").css(a),$("#total-revenue-pie").css(a)):"compare-charts"==e?$("#total-compare-pie").css(a):"tree-charts"==e&&($("#total-expenditures-tree").css(a),$("#total-revenue-tree").css(a))}e("pie-charts",!1),e("compare-charts",!0),e("tree-charts",!0),$("#Financial_Statements").on("click",".chart-controls .btn",function(){var t=this.getElementsByTagName("input")[0].id;"chart"==t?(e("pie-charts",!1),e("compare-charts",!0),e("tree-charts",!0),u.financialStatements_revenues.init&&u.financialStatements_expenditures.init||(o(),r())):"tree-charts"==t?(e("pie-charts",!0),e("compare-charts",!0),e("tree-charts",!1),u.financialStatementsTree_expenditures.init&&u.financialStatementsTree_revenues.init||(l(),i())):"compare-charts"==t&&(e("pie-charts",!0),e("compare-charts",!1),e("tree-charts",!0),u.financialStatementsTree_expenditures.init&&u.financialStatementsTree_revenues.init||(l(),i()))})}var c=a(3).data,u=a(4).chart;e.exports={init:n,initAll:n}},function(e,t,a){var n=a(8),o=function(e){e|={},this.$popover=null,this.$rankTable=null,this.$preloader=null,this.$rankTable=null,this.selector=e.selector||".rank",this.loading=!1,this.rankFieldName=null,this.order={altType:"",rank:""},this.init()};o.prototype.init=function(){var e=this;e.noMoreData=!1;var t=$(".statistics"),a=$(".governmentController");t.popover({placement:"bottom",selector:this.selector,animation:!0,template:'<div class="popover rankPopover" role="tooltip"><div class="arrow"></div><div class="popover-title-custom"><h3 class="popover-title"></h3></div><div class="popover-content"></div></div>'}),a.on("click",function(e){$(e.target).closest(".popover")[0]||$(".rank").not(e.target).popover("destroy")}),t.on("click",function(t){if(t.preventDefault(),t.stopPropagation(),$element=$(t.target),$(t.target).closest(".popover")[0]||$(".rank").not(t.target).popover("destroy"),$popover=$element.hasClass("rank")?$element:$element.closest(".rank"),0==$popover.length)return!1;e.$popover=$element,e.$popoverContent=$popover.next().find(".popover-content"),e.rankFieldName=$popover.attr("data-field"),e.$popover.on("hide.bs.popover",function(){e.noMoreData=!1});var a=e.$popoverContent,o=(e.$preloader,e.rankFieldName);o&&(e.loading=!0,$.ajax({url:window.gw.urls.popover,dataType:"json",data:{field_name:o},success:function(t){0!=t.data.length?(e.formatData.call(e,t),a.html(n.templates.rankTable(t)),e.$rankTable=a.find("table tbody"),e.$preloader=a.find(".loader"),e.scrollHandler.call(e),e.sortHandler.call(e),e.loading=!1):e.noMoreData||(e.$popoverContent[0].innerHTML='<h3 style="text-align: center">No data</h3>',e.noMoreData=!0,e.loading=!1)}}))})},o.prototype.scrollHandler=function(){var e=this,t=e.$rankTable,a=e.$popoverContent,o=(e.$preloader,e.rankFieldName),r=e.order;e.previousScrollTop=0,e.currentPage=0,a.scroll(function(){var i=a.scrollTop();e.previousScrollTop<i&&i>.5*a[0].scrollHeight&&!e.noMoreData&&(e.previousScrollTop=i,e.loading===!1&&(e.loading=!0,e.$preloader.show(),$.ajax({url:window.gw.urls.popover,dataType:"json",data:{page:++e.currentPage,order:r.rank,name_order:r.altType,field_name:o},success:function(a){if(0!=a.data.length)e.formatData(a),e.loading=!1,e.$preloader.hide(),t[0].innerHTML+=n.templates.rankTableAdditionalRows(a);else if(!e.noMoreData){e.noMoreData=!0;var o=$('<h3 style="text-align: center">No more data</h3>');e.$popoverContent.append(o),e.loading=!1,e.$preloader.hide()}}})))})},o.prototype.sortHandler=function(){var e=this,t=e.$popoverContent,a=e.order;t.on("click","th",function(t){t.stopPropagation(),e.$popoverContent.find("h3").remove(),e.noMoreData=!1,e.previousScrollTop=0,e.currentPage=0;var n=$(this).hasClass("sortable")?$(this):$(this).closest("th"),o=n.find("i");n.hasClass("desc")?("name_order"===n.attr("data-sort-type")?a.altType="":a.rank="",n.removeClass("desc").removeClass("asc"),o.removeClass("icon__bottom").removeClass("icon__top")):n.hasClass("asc")?("name_order"===n.attr("data-sort-type")?a.altType="desc":a.rank="desc",n.removeClass("asc").addClass("desc"),o.removeClass("icon__top").addClass("icon__bottom")):("name_order"===n.attr("data-sort-type")?a.altType="asc":a.rank="asc",n.addClass("asc"),o.addClass("icon__top")),e.loadNewRows.call(e,a)})},o.prototype.loadNewRows=function(e){e=e||this.order;var t=this,a=(t.$preloader,t.$rankTable||t.$popoverContent.find("table tbody"));a.html(""),t.$preloader.show(),t.loading=!0,console.log(t.rankFieldName),$.ajax({url:window.gw.urls.popover,dataType:"json",data:{page:t.currentPage,order:e.rank,name_order:e.altType,field_name:t.rankFieldName},success:function(e){0!=e.data.length?(t.formatData.call(t,e),a.html(n.templates.rankTableAdditionalRows(e)),t.loading=!1,t.$preloader.hide()):(t.$popoverContent[0].innerHTML='<h3 style="text-align: center">No data</h3>',t.loading=!1,t.$preloader.hide())}})},o.prototype.formatData=function(e){var t=this,a=t.$popover,n=a.attr("data-mask");return n?e.data.forEach(function(e){return e.amount=numeral(e.amount).format(n)}):void 0},function(){var e=n.template,t=n.templates=n.templates||{};t.rankTable=e({1:function(e,t,a,n,o){var r,i,l=null!=t?t:{},s=a.helperMissing,c="function",u=e.escapeExpression;return" <tr> <td>"+u((i=null!=(i=a.name||(null!=t?t.name:t))?i:s,typeof i===c?i.call(l,{name:"name",hash:{},data:o}):i))+"</td> <td> "+(null!=(r=a["if"].call(l,null!=t?t.value:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?r:"")+"</td> <td> "+u((i=null!=(i=a.amount||(null!=t?t.amount:t))?i:s,typeof i===c?i.call(l,{name:"amount",hash:{},data:o}):i))+"</td> </tr> "},2:function(e,t,a,n,o){var r;return" "+e.escapeExpression((r=null!=(r=a.value||(null!=t?t.value:t))?r:a.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"value",hash:{},data:o}):r))+" "},4:function(e,t,a,n,o){return" No data "},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,o){var r,i,l,s=null!=t?t:{},c=a.helperMissing,u="function",d='<table class="table table-condensed table-hover"> <thead> <tr> <th data-sort-type="name_order" class="sortable"><nobr>'+e.escapeExpression((i=null!=(i=a.alt_type||(null!=t?t.alt_type:t))?i:c,typeof i===u?i.call(s,{name:"alt_type",hash:{},data:o}):i))+'<i class="icon"></i></nobr></th> <th data-sort-type="order" class="sortable"><nobr>Rank<i class="icon"></i></nobr></th> <th>Amount</th> </tr> </thead> <tbody> ';return i=null!=(i=a.data||(null!=t?t.data:t))?i:c,l={name:"data",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o},r=typeof i===u?i.call(s,l):i,a.data||(r=a.blockHelperMissing.call(t,r,l)),null!=r&&(d+=r),d+'\n    </tbody>\n</table>\n<div class="loader"></div>\n'},useData:!0})}(),function(){var e=n.template,t=n.templates=n.templates||{};t.rankTableAdditionalRows=e({1:function(e,t,a,n,o){var r,i,l=null!=t?t:{},s=a.helperMissing,c="function",u=e.escapeExpression;return" <tr> <td>"+u((i=null!=(i=a.name||(null!=t?t.name:t))?i:s,typeof i===c?i.call(l,{name:"name",hash:{},data:o}):i))+"</td> <td> "+(null!=(r=a["if"].call(l,null!=t?t.value:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?r:"")+"\n        </td>\n        <td>\n            "+u((i=null!=(i=a.amount||(null!=t?t.amount:t))?i:s,typeof i===c?i.call(l,{name:"amount",hash:{},data:o}):i))+"\n        </td>\n    </tr>\n"},2:function(e,t,a,n,o){var r;return" "+e.escapeExpression((r=null!=(r=a.value||(null!=t?t.value:t))?r:a.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"value",hash:{},data:o}):r))+" "},4:function(e,t,a,n,o){return" No data "},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,o){var r,i,l,s="";return i=null!=(i=a.data||(null!=t?t.data:t))?i:a.helperMissing,l={name:"data",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o},r="function"==typeof i?i.call(null!=t?t:{},l):i,a.data||(r=a.blockHelperMissing.call(t,r,l)),null!=r&&(s+=r),s},useData:!0})}(),e.exports=o},function(e,t,a){/*!
	
	 handlebars v4.0.5
	
	Copyright (C) 2011-2015 by Yehuda Katz
	
	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:
	
	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.
	
	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
	
	@license
	*/
!function(t,a){e.exports=a()}(this,function(){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(){var e=new l.HandlebarsEnvironment;return f.extend(e,l),e.SafeString=c["default"],e.Exception=d["default"],e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var o=a(1)["default"],r=a(2)["default"];t.__esModule=!0;var i=a(3),l=o(i),s=a(17),c=r(s),u=a(5),d=r(u),p=a(4),f=o(p),h=a(18),m=o(h),g=a(19),v=r(g),_=n();_.create=n,v["default"](_),_["default"]=_,t["default"]=_,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t},t.__esModule=!0},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,a){"use strict";function n(e,t,a){this.helpers=e||{},this.partials=t||{},this.decorators=a||{},s.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}var o=a(2)["default"];t.__esModule=!0,t.HandlebarsEnvironment=n;var r=a(4),i=a(5),l=o(i),s=a(6),c=a(14),u=a(16),d=o(u),p="4.0.5";t.VERSION=p;var f=7;t.COMPILER_REVISION=f;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=h;var m="[object Object]";n.prototype={constructor:n,logger:d["default"],log:d["default"].log,registerHelper:function(e,t){if(r.toString.call(e)===m){if(t)throw new l["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===m)r.extend(this.partials,e);else{if("undefined"==typeof t)throw new l["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===m){if(t)throw new l["default"]("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var g=d["default"].log;t.log=g,t.createFrame=r.createFrame,t.logger=d["default"]},function(e,t){"use strict";function a(e){return u[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var a in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],a)&&(e[a]=arguments[t][a]);return e}function o(e,t){for(var a=0,n=e.length;n>a;a++)if(e[a]===t)return a;return-1}function r(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(d,a):e}function i(e){return e||0===e?!(!m(e)||0!==e.length):!0}function l(e){var t=n({},e);return t._parent=e,t}function s(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=n,t.indexOf=o,t.escapeExpression=r,t.isEmpty=i,t.createFrame=l,t.blockParams=s,t.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,p=/[&<>"'`=]/,f=Object.prototype.toString;t.toString=f;var h=function(e){return"function"==typeof e};h(/x/)&&(t.isFunction=h=function(e){return"function"==typeof e&&"[object Function]"===f.call(e)}),t.isFunction=h;var m=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===f.call(e):!1};t.isArray=m},function(e,t){"use strict";function a(e,t){var o=t&&t.loc,r=void 0,i=void 0;o&&(r=o.start.line,i=o.start.column,e+=" - "+r+":"+i);for(var l=Error.prototype.constructor.call(this,e),s=0;s<n.length;s++)this[n[s]]=l[n[s]];Error.captureStackTrace&&Error.captureStackTrace(this,a),o&&(this.lineNumber=r,this.column=i)}t.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];a.prototype=new Error,t["default"]=a,e.exports=t["default"]},function(e,t,a){"use strict";function n(e){i["default"](e),s["default"](e),u["default"](e),p["default"](e),h["default"](e),g["default"](e),_["default"](e)}var o=a(2)["default"];t.__esModule=!0,t.registerDefaultHelpers=n;var r=a(7),i=o(r),l=a(8),s=o(l),c=a(9),u=o(c),d=a(10),p=o(d),f=a(11),h=o(f),m=a(12),g=o(m),v=a(13),_=o(v)},function(e,t,a){"use strict";t.__esModule=!0;var n=a(4);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,a){var o=a.inverse,r=a.fn;if(t===!0)return r(this);if(t===!1||null==t)return o(this);if(n.isArray(t))return t.length>0?(a.ids&&(a.ids=[a.name]),e.helpers.each(t,a)):o(this);if(a.data&&a.ids){var i=n.createFrame(a.data);i.contextPath=n.appendContextPath(a.data.contextPath,a.name),a={data:i}}return r(t,a)})},e.exports=t["default"]},function(e,t,a){"use strict";var n=a(2)["default"];t.__esModule=!0;var o=a(4),r=a(5),i=n(r);t["default"]=function(e){e.registerHelper("each",function(e,t){function a(t,a,r){c&&(c.key=t,c.index=a,c.first=0===a,c.last=!!r,u&&(c.contextPath=u+t)),s+=n(e[t],{data:c,blockParams:o.blockParams([e[t],t],[u+t,null])})}if(!t)throw new i["default"]("Must pass iterator to #each");var n=t.fn,r=t.inverse,l=0,s="",c=void 0,u=void 0;if(t.data&&t.ids&&(u=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(c=o.createFrame(t.data)),e&&"object"==typeof e)if(o.isArray(e))for(var d=e.length;d>l;l++)l in e&&a(l,l,l===e.length-1);else{var p=void 0;for(var f in e)e.hasOwnProperty(f)&&(void 0!==p&&a(p,l-1),p=f,l++);void 0!==p&&a(p,l-1,!0)}return 0===l&&(s=r(this)),s})},e.exports=t["default"]},function(e,t,a){"use strict";var n=a(2)["default"];t.__esModule=!0;var o=a(5),r=n(o);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,a){"use strict";t.__esModule=!0;var n=a(4);t["default"]=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,a){return e.helpers["if"].call(this,t,{fn:a.inverse,inverse:a.fn,hash:a.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],a=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var o=1;null!=a.hash.level?o=a.hash.level:a.data&&null!=a.data.level&&(o=a.data.level),t[0]=o,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,a){"use strict";t.__esModule=!0;var n=a(4);t["default"]=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var a=t.fn;if(n.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&(o=n.createFrame(t.data),o.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),a(e,{data:o,blockParams:n.blockParams([e],[o&&o.contextPath])})})},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){i["default"](e)}var o=a(2)["default"];t.__esModule=!0,t.registerDefaultDecorators=n;var r=a(15),i=o(r)},function(e,t,a){"use strict";t.__esModule=!0;var n=a(4);t["default"]=function(e){e.registerDecorator("inline",function(e,t,a,o){var r=e;return t.partials||(t.partials={},r=function(o,r){var i=a.partials;a.partials=n.extend({},i,t.partials);var l=e(o,r);return a.partials=i,l}),t.partials[o.args[0]]=o.fn,r})},e.exports=t["default"]},function(e,t,a){"use strict";t.__esModule=!0;var n=a(4),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;a>r;r++)n[r-1]=arguments[r];console[t].apply(console,n)}}};t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function a(e){this.string=e}t.__esModule=!0,a.prototype.toString=a.prototype.toHTML=function(){return""+this.string},t["default"]=a,e.exports=t["default"]},function(e,t,a){"use strict";function n(e){var t=e&&e[0]||1,a=v.COMPILER_REVISION;if(t!==a){if(a>t){var n=v.REVISION_CHANGES[a],o=v.REVISION_CHANGES[t];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){function a(a,n,o){o.hash&&(n=h.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),a=t.VM.resolvePartial.call(this,a,n,o);var r=t.VM.invokePartial.call(this,a,n,o);if(null==r&&t.compile&&(o.partials[o.name]=t.compile(a,e.compilerOptions,t),r=o.partials[o.name](n,o)),null!=r){if(o.indent){for(var i=r.split("\n"),l=0,s=i.length;s>l&&(i[l]||l+1!==s);l++)i[l]=o.indent+i[l];r=i.join("\n")}return r}throw new g["default"]("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function n(t){function a(t){return""+e.main(o,t,o.helpers,o.partials,i,s,l)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r.data;n._setup(r),!r.partial&&e.useData&&(i=c(t,i));var l=void 0,s=e.useBlockParams?[]:void 0;return e.useDepths&&(l=r.depths?t!==r.depths[0]?[t].concat(r.depths):r.depths:[t]),(a=u(e.main,a,o,r.depths||[],i,s))(t,r)}if(!t)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var o={strict:function(e,t){if(!(t in e))throw new g["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var a=e.length,n=0;a>n;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:h.escapeExpression,invokePartial:a,fn:function(t){var a=e[t];return a.decorator=e[t+"_d"],a},programs:[],program:function(e,t,a,n,o){var i=this.programs[e],l=this.fn(e);return t||o||n||a?i=r(this,e,l,t,a,n,o):i||(i=this.programs[e]=r(this,e,l)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var a=e||t;return e&&t&&e!==t&&(a=h.extend({},t,e)),a},noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(a){a.partial?(o.helpers=a.helpers,o.partials=a.partials,o.decorators=a.decorators):(o.helpers=o.merge(a.helpers,t.helpers),e.usePartial&&(o.partials=o.merge(a.partials,t.partials)),(e.usePartial||e.useDecorators)&&(o.decorators=o.merge(a.decorators,t.decorators)))},n._child=function(t,a,n,i){if(e.useBlockParams&&!n)throw new g["default"]("must pass block params");if(e.useDepths&&!i)throw new g["default"]("must pass parent depths");return r(o,t,e[t],a,0,n,i)},n}function r(e,t,a,n,o,r,i){function l(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=i;return i&&t!==i[0]&&(l=[t].concat(i)),a(e,t,e.helpers,e.partials,o.data||n,r&&[o.blockParams].concat(r),l)}return l=u(a,l,e,i,n,r),l.program=t,l.depth=i?i.length:0,l.blockParams=o||0,l}function i(e,t,a){return e?e.call||a.name||(a.name=e,e=a.partials[e]):e="@partial-block"===a.name?a.data["partial-block"]:a.partials[a.name],e}function l(e,t,a){a.partial=!0,a.ids&&(a.data.contextPath=a.ids[0]||a.data.contextPath);var n=void 0;if(a.fn&&a.fn!==s&&(a.data=v.createFrame(a.data),n=a.data["partial-block"]=a.fn,n.partials&&(a.partials=h.extend({},a.partials,n.partials))),void 0===e&&n&&(e=n),void 0===e)throw new g["default"]("The partial "+a.name+" could not be found");return e instanceof Function?e(t,a):void 0}function s(){return""}function c(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}function u(e,t,a,n,o,r){if(e.decorator){var i={};t=e.decorator(t,i,a,n&&n[0],o,r,n),h.extend(t,i)}return t}var d=a(1)["default"],p=a(2)["default"];t.__esModule=!0,t.checkRevision=n,t.template=o,t.wrapProgram=r,t.resolvePartial=i,t.invokePartial=l,t.noop=s;var f=a(4),h=d(f),m=a(5),g=p(m),v=a(3)},function(e,t){(function(a){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof a?a:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t["default"]}).call(t,function(){return this}())}])})},function(e,t,a){function n(e,t){this.container=t,this.CurrentFormState=".first-condition"==t?e.firstStep:e.secondStep,this.$select=$(t+" select"),this.init()}var o=a(10);n.prototype.init=function(){var e=this;e.handler_onMouseDownSelect(),e.handler_onChangeSelect(),e.search=new o(e.container),e.search.$typeahead.bind("typeahead:selected",function(t,a){e.CurrentFormState.data=a,e.createYearOptions(a)})},n.prototype.unlock=function(){this.search.$typeahead.toggleClass("disabled",!1)},n.prototype.lock=function(){this.search.$typeahead.toggleClass("disabled",!0)},n.prototype.createYearOptions=function(e){function t(e){n.$select.toggleClass("disabled",!!e)}function a(e){e?n.CurrentFormState.complete():n.CurrentFormState.incomplete()}var n=this;return e?(1==e.years.length&&(console.log(n.CurrentFormState.data),n.CurrentFormState.data.year=e.years[0]),t(!1),e.years.forEach(function(t){var a=1==e.years.length?"selected":"";n.$select.append('<option value="'+e.id+'" '+a+">"+t+"</option>")}),void a(!0)):(console.error("First argument not passed in createYearOptions() "),!0)},n.prototype.handler_onChangeSelect=function(){var e=this;e.$select.on("change",function(t){var a=$(t.target),n=a.find("option:selected"),o=n.attr("value"),r=n.text();o?e.CurrentFormState.complete():(alert("Please choose correct year"),e.CurrentFormState.incomplete()),o&&(e.CurrentFormState.data.year={},e.CurrentFormState.data.year.id=o,e.CurrentFormState.data.year.year=r)})},n.prototype.handler_onMouseDownSelect=function(){var e=this;e.$select.on("mousedown",function(e){var t=$(e.target);return t.hasClass("disabled")?(alert("Please, first select government"),!1):void 0})},e.exports=n},function(e,t,a){function n(e){function t(e,t,a){$.ajax({method:"GET",url:window.gw.urls.search+"?search="+e}).success(function(e){a(e)})}if(!e)return alert("Please pass container selector"),!0;var a=this;return a.governmentData={},a.$typeahead=$(e+" .typeahead_government"),a.searchValue="",a.$typeahead.typeahead({hint:!0,highlight:!0,minLength:3},{name:"countries",source:t,templates:{empty:'<div class="tt-suggestion">Not found. Please retype your query </div>',suggestion:o.compile('<div class="sugg-box"><div class="sugg-name">{{name}}</div></div>')},updater:function(e){alert(e)}}),a.$typeahead.bind("typeahead:selected",function(e,t){a.$typeahead.typeahead("val",t.name)}),a.$typeahead.bind("typeahead:cursorchange",function(e){a.$typeahead.typeahead("val",a.searchValue)}),a.$typeahead.keyup(function(e){a.searchValue=$(e.target).val()}),a}var o=a(11);e.exports=n},,,,,,,,,,,,,function(e,t,a){function n(e,t){var n=a(9);return new n(e,t)}e.exports=n},function(e,t){function a(e,t){this.container=t,this.$governmentCategories=$(t),this.firstStep=e.firstStep,this.secondStep=e.secondStep,this.init()}a.prototype.init=function(){this.handler_onChangeSelect(),this.handler_onClickSelect()},a.prototype.unlock=function(){this.loadMatchedCategories(),this.$governmentCategories.toggleClass("disabled",!1)},a.prototype.lock=function(){this.$governmentCategories.toggleClass("disabled",!0)},a.prototype.loadMatchedCategories=function(){var e=this,t={captions:[{id:e.firstStep.data.id,year:e.firstStep.data.year},{id:e.secondStep.data.id,year:e.secondStep.data.year}]},a=JSON.stringify(t);$.ajax({url:window.gw.urls.captions,type:"POST",contentType:"application/json",data:a,success:function(t){if(!t||0==t.length)return alert("Not can find categories for current comparison"),e.$governmentCategories.html("<option>ALL CATEGORIES</option>"),e.$governmentCategories.toggleClass("disabled",!0),!0;e.$governmentCategories.toggleClass("disabled",!1),e.$governmentCategories.html("");var a=t.filter(function(e){return"Revenues"==e.category});a.length>0&&(e.$governmentCategories.append('<optgroup label="Revenues"></optgroup>'),a.forEach(function(t){var a=e.$governmentCategories.find('[label="Revenues"]');a.append('<option value="'+t.name+'">'+t.name+"</option>")}));var n=t.filter(function(e){return"Expenditures"==e.category});n.length>0&&(e.$governmentCategories.append('<optgroup label="Expenditures"></optgroup>'),n.forEach(function(t){var a=e.$governmentCategories.find('[label="Expenditures"]');a.append('<option value="'+t.name+'">'+t.name+"</option>")}))},error:function(){alert("Something wrong, please try another government"),e.$governmentCategories.toggleClass("disabled",!0)}})},a.prototype.drawDiagramm=function(e,t,a){var n,o,r,i;i=new google.visualization.DataTable,i.addColumn("string","Caption"),i.addColumn("number","Total Funds"),r=[],r.push(["Total "+a,parseInt(e.total)]);var l=e.data;l.forEach(function(e){r.push([e.caption,parseInt(e.amount)])}),console.log(r),i.addRows(r),o={title:"Compare",titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:470,height:350,pieStartAngle:60,sliceVisibilityThreshold:0,forceIFrame:!0,chartArea:{width:"90%",height:"75%"}},n=new google.visualization.PieChart(document.getElementById(t)),n.draw(i,o)},a.prototype.handler_onChangeSelect=function(){var e=this;$(e.container).on("change",function(t){var a=$(t.target),n=a.find("option:selected"),o=n.text(),r=n.parent("optgroup").attr("label");$("#total-compare-column").show(),$("#total-compare-first-pie").hide(),$("#total-compare-second-pie").hide();var i={firstGovernment:{id:e.firstStep.data.id,name:e.firstStep.data.name,year:e.firstStep.data.year},secondGovernment:{id:e.secondStep.data.id,name:e.secondStep.data.name,year:e.firstStep.data.year},caption:o,category:r};i=JSON.stringify(i),$.ajax({url:window.gw.urls.compare,type:"POST",data:i,contentType:"application/json",success:function(t){e.drawColumnChart(t,"total-compare-column")}})})},a.prototype.handler_onClickSelect=function(){var e=this;$(".government-categories").on("mousedown",function(t){var a=$(t.target);return a.hasClass("disabled")?(alert("Please, first select governments"),!1):e.firstStep.completed&&e.secondStep.completed?void 0:(alert("Please, first enter all fields"),!1)})},a.prototype.drawColumnChart=function(e,t){var a,n,o,r,i=e.firstGovernment,l=e.secondGovernment;o=[["City","Amount"]],o.push([i.name,parseInt(i.data[0].amount)]),o.push([l.name,parseInt(l.data[0].amount)]),n={title:"Total "+e.category+": "+e.caption,titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:500,height:350,pieStartAngle:60,sliceVisibilityThreshold:.05,forceIFrame:!0,chartArea:{width:"90%",height:"75%"}},r=new google.visualization.arrayToDataTable(o),a=new google.visualization.ColumnChart(document.getElementById(t)),a.draw(r,n)},e.exports=a},function(e,t){function a(e,t){this.container=t,this.$governmentCategories=$(t),this.firstStep=e.firstStep,this.secondStep=e.secondStep,this.init()}a.prototype.init=function(){this.handler_onChangeSelect(),this.handler_onClickSelect()},a.prototype.unlock=function(){this.$governmentCategories.toggleClass("disabled",!1)},a.prototype.lock=function(){this.$governmentCategories.toggleClass("disabled",!0)},a.prototype.drawDiagramm=function(e,t,a){var n,o,r,i;i=new google.visualization.DataTable,i.addColumn("string","Caption"),i.addColumn("number","Total Funds"),r=[];var l=e.data;l.forEach(function(e){r.push([e.caption,parseInt(e.amount)])}),i.addRows(r),o={title:"Total "+a.category+": "+e.name,titleTextStyle:{fontSize:16},tooltip:{textStyle:{fontSize:12}},width:470,height:350,pieStartAngle:60,sliceVisibilityThreshold:0,forceIFrame:!0,chartArea:{width:"90%",height:"75%"}},n=new google.visualization.PieChart(document.getElementById(t)),n.draw(i,o)},a.prototype.handler_onChangeSelect=function(){var e=this;$(e.container).on("change",function(t){var a=$(t.target),n=a.find("option:selected"),o=n.val();o&&($("#total-compare-column").hide(),$("#total-compare-first-pie").show(),$("#total-compare-second-pie").show());var r={firstGovernment:{id:e.firstStep.data.id,name:e.firstStep.data.name,year:e.firstStep.data.year},secondGovernment:{id:e.secondStep.data.id,name:e.secondStep.data.name,year:e.firstStep.data.year},category:o};r=JSON.stringify(r),$.ajax({url:window.gw.urls.compare,type:"POST",data:r,contentType:"application/json",success:function(t){e.drawDiagramm(t.firstGovernment,"total-compare-first-pie",t),e.drawDiagramm(t.secondGovernment,"total-compare-second-pie",t)}})})},a.prototype.handler_onClickSelect=function(){var e=this;$(".government-categories").on("mousedown",function(t){var a=$(t.target);return a.hasClass("disabled")?(alert("Please, first select governments"),!1):e.firstStep.completed&&e.secondStep.completed?void 0:(alert("Please, first enter all fields"),!1)})},e.exports=a}]);
//# sourceMappingURL=government.js.map